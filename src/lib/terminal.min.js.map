{"version":3,"sources":["webpack://Terminal/webpack/universalModuleDefinition","webpack://Terminal/webpack/bootstrap","webpack://Terminal/./node_modules/balanced-match/index.js","webpack://Terminal/./node_modules/brace-expansion/index.js","webpack://Terminal/./node_modules/concat-map/index.js","webpack://Terminal/./node_modules/get-options/index.js","webpack://Terminal/./node_modules/immutable/dist/immutable.es.js","webpack://Terminal/./node_modules/minimatch-capture/index.js","webpack://Terminal/./node_modules/minimatch/minimatch.js","webpack://Terminal/./node_modules/path-browserify/index.js","webpack://Terminal/./node_modules/process/browser.js","webpack://Terminal/./src/commands sync ^\\.\\/.*$","webpack://Terminal/./src/commands/cat.js","webpack://Terminal/./src/commands/cd.js","webpack://Terminal/./src/commands/clear.js","webpack://Terminal/./src/commands/cp.js","webpack://Terminal/./src/commands/echo.js","webpack://Terminal/./src/commands/head.js","webpack://Terminal/./src/commands/history.js","webpack://Terminal/./src/commands/index.js","webpack://Terminal/./src/commands/ls.js","webpack://Terminal/./src/commands/mkdir.js","webpack://Terminal/./src/commands/printenv.js","webpack://Terminal/./src/commands/pwd.js","webpack://Terminal/./src/commands/rm.js","webpack://Terminal/./src/commands/rmdir.js","webpack://Terminal/./src/commands/tail.js","webpack://Terminal/./src/commands/touch.js","webpack://Terminal/./src/commands/util/_head_tail_util.js","webpack://Terminal/./src/commands/whoami.js","webpack://Terminal/./src/emulator-output/index.js","webpack://Terminal/./src/emulator-output/output-factory.js","webpack://Terminal/./src/emulator-output/output-type.js","webpack://Terminal/./src/emulator-state/EmulatorState.js","webpack://Terminal/./src/emulator-state/command-mapping.js","webpack://Terminal/./src/emulator-state/environment-variables.js","webpack://Terminal/./src/emulator-state/file-system.js","webpack://Terminal/./src/emulator-state/history.js","webpack://Terminal/./src/emulator-state/index.js","webpack://Terminal/./src/emulator-state/outputs.js","webpack://Terminal/./src/emulator-state/util.js","webpack://Terminal/./src/emulator/auto-complete.js","webpack://Terminal/./src/emulator/command-runner.js","webpack://Terminal/./src/emulator/emulator-error.js","webpack://Terminal/./src/emulator/index.js","webpack://Terminal/./src/emulator/plugins/BoundedHistoryIterator.js","webpack://Terminal/./src/emulator/plugins/HistoryKeyboardPlugin.js","webpack://Terminal/./src/fs/fs-error.js","webpack://Terminal/./src/fs/index.js","webpack://Terminal/./src/fs/operations-with-permissions/directory-operations.js","webpack://Terminal/./src/fs/operations-with-permissions/file-operations.js","webpack://Terminal/./src/fs/operations/base-operations.js","webpack://Terminal/./src/fs/operations/directory-operations.js","webpack://Terminal/./src/fs/operations/file-operations.js","webpack://Terminal/./src/fs/util/file-util.js","webpack://Terminal/./src/fs/util/glob-util.js","webpack://Terminal/./src/fs/util/path-util.js","webpack://Terminal/./src/fs/util/permission-util.js","webpack://Terminal/./src/index.js","webpack://Terminal/./src/parser/command-parser.js","webpack://Terminal/./src/parser/index.js","webpack://Terminal/./src/parser/option-parser.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","balanced","a","b","str","RegExp","maybeMatch","range","start","end","pre","slice","body","length","post","reg","match","begs","beg","left","right","result","ai","indexOf","bi","push","pop","concatMap","substr","expand","isTop","expansions","test","isNumericSequence","isAlphaSequence","isSequence","isOptions","escClose","split","parseCommaParts","parts","postParts","shift","apply","map","embrace","N","x","numeric","y","width","Math","max","incr","abs","lte","gte","pad","some","isPadded","String","fromCharCode","need","z","Array","join","el","j","k","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","random","parseInt","charCodeAt","xs","fn","res","isArray","toString","Option","names","params","shortNames","longNames","values","defineNames","defineParams","input","trim","lastParen","replace","filter","Boolean","param","args","pattern","variadic","_bundlePattern","concat","arrayify","formatName","noCamelCase","toLowerCase","_","toUpperCase","patterns","uniqueStrings","output","keys","optdef","config","options","argv","tokens","quoteChar","tokenData","isEscaped","char","next","unstringify","opts","argvEnd","stopAt","ignoreEquals","nextOpt","findIndex","I","autoOpts","forEach","noAliasPropagation","noBundling","noMixedOrder","noUndefined","terminator","duplicates","option","undefined","ReferenceError","currentOption","resolveDuplicate","prevMatchedName","error","TypeError","JSON","stringify","affectedOption","affectedValue","oldValues","newValues","stacked","stack","v","setValue","lastMatchedName","wrapItUp","optValue","arity","flip","reverse","arg","opt","from","to","extract","splice","nameKeys","bundleMatch","bundlePatterns","niladicArgs","bundlePattern","legalNames","lastIndex","niladicMatch","segments","isTerminator","keepRest","canCollect","NOT_SET","SetRef","ref","OwnerID","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","index","uint32Index","NaN","wholeSlice","begin","isNeg","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Infinity","min","isCollection","maybeCollection","isKeyed","maybeKeyed","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","__proto__","constructor","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","Set","isSeq","maybeSeq","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","REAL_ITERATOR_SYMBOL","iterator","ITERATOR_SYMBOL","Iterator","iteratorValue","type","iteratorResult","done","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","KEYS","VALUES","ENTRIES","inspect","toSource","isArrayLike","Number","isInteger","Collection$$1","emptySequence","toSeq","seq","maybeIndexedSeqFromValue","ObjectSeq","seqFromValue","__toString","cacheResult","_cache","__iterateUncached","entrySeq","toArray","cache","entry","__iterator","__iteratorUncached","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","arguments","toSetSeq","ArraySeq","array","_array","notSetValue","has","ii","_object","_keys","EMPTY_SEQ","CollectionSeq","collection","_collection","iterations","step","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","equals","hashCode","is","valueA","valueB","valueOf","imul","smi","i32","defaultValueOf","hash","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","string","hashed","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","cachedHashString","obj","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","node","nodeType","uniqueID","documentElement","getIENodeHash","objHashUID","set","isExtensible","Error","configurable","writable","hashJSObj","e","WeakMap","ToKeyedSequence","KeyedSeq$$1","indexed","useKeys","_iter","_useKeys","valueSeq","this$1","reversedSequence","reverseFactory","mapper","context","mappedSequence","mapFactory","ToIndexedSequence","IndexedSeq$$1","includes","ToSetSequence","SetSeq$$1","FromEntriesSequence","entries","validateEntry","indexedCollection","flipFactory","flipSequence","makeSequence","cacheResultThrough","filterFactory","predicate","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedCollection","iters","singleton","concatSeq","flatten","reduce","sum","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","sortFactory","comparator","defaultComparator","sort","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","steps","every","reify","collectionClass","arrCopy","arr","offset","len","newArr","invariant","condition","assertNotInfinite","coerceKeyPath","keyPath","isPlainObj","isDataStructure","quoteString","_ignoreError","shallowCopy","remove","collectionCopy","updateIn","updater","updatedValue","updateInDeeply","inImmutable","existing","wasNotSet","existingValue","newValue","nextExisting","nextUpdated","emptyMap","setIn","setIn$1","removeIn","deleteIn","update","update$1","updateIn$1","merge","mergeIntoKeyedWith","mergeWith","merger","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","merge$1","sources","mergeWithSources","mergeWith$1","mergeDeep","mergeDeepWithSources","mergeDeepWith","deepMerger","oldValue","deepMergerWith","merged","mergeItem","hasVal","nextVal","mergeDeep$1","mergeDeepWith$1","mergeIn","mergeDeepIn","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","__altered","Map","KeyedCollection$$1","keyValues","_root","updateMap","deleteAll","clear","__hash","OrderedMap","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","ArrayMapNode","keyHash","didChangeSize","didAlter","removed","idx","exists","MAX_ARRAY_MAP_SIZE","ValueNode","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","nodes","bit","SIZE","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","including","count","expandedNodes","HashArrayMapNode","expandNodes","isLeafNode","newBitmap","newNodes","setAt","canEdit","newLen","newArray","after","spliceOut","val","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","HashCollisionNode","mergeIntoNode","keyMatch","maxIndex","EMPTY_MAP","Iterator$$1","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","prev","hash$$1","newRoot","newSize","idx1","idx2","isList","maybeList","List","IndexedCollection$$1","empty","emptyList","makeList","VNode","list","setSize","listNodeFor","_origin","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","insert","oldSize","unshift","arguments$1","seqs","argument","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","tailPos","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","EMPTY_ORDERED_MAP","Map$$1","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","toMap","isStack","maybeStack","Stack","emptyStack","pushAll","head","_head","peek","makeStack","EMPTY_STACK","StackPrototype","unshiftAll","isSet","maybeSet","isOrderedSet","maybeOrderedSet","deepEqual","notAssociative","flipped","allEqual","bSize","mixin","ctor","methods","keyCopier","getOwnPropertySymbols","toJS","result$1","SetCollection$$1","emptySet","add","fromKeys","keySeq","intersect","sets","SetPrototype","union","updateSet","removes","adds","mapped","toRemove","subtract","OrderedSet","__make","__empty","EMPTY_SET","makeSet","EMPTY_RANGE","Range","_start","_end","_step","ceil","searchValue","possibleIndex","floor","offsetValue","lastIndexOf","other","getIn","searchKeyPath","getIn$1","hasIn","toObject","isIterable","useTuples","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","returnValue","find","findEntry","sideEffect","separator","joined","isFirst","reducer","initialReduction","reduceRight","not","butLast","isEmpty","countBy","grouper","groups","countByFactory","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","coerce","flatMapFactory","searchKey","groupBy","isKeyedIter","groupByFactory","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeSequence","iterating","takeWhileFactory","takeUntil","ordered","keyed","h","murmurHashOfSize","hashMerge","hashCollection","CollectionPrototype","toJSON","chain","contains","mapEntries","mapKeys","KeyedCollectionPrototype","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","reduction","useFirst","Set$$1","emptyOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Record","defaultValues","hasInitialized","RecordType","indices","RecordTypePrototype","_indices","_name","_defaultValues","propName","console","warn","recordName","setProp","_values","RecordPrototype","displayName","recordSeq","makeRecord","getDescriptiveName","likeRecord","record","getPrototypeOf","EMPTY_REPEAT","Repeat","times","_value","fromJS","converter","fromJSWith","parentValue","converted","defaultConverter","version","Immutable","Iterable","minimatch","splitRe","endWithNegRe","Capture","regexp","makeRe","path","isDef","notrim","nonegate","flags","nocase","expressions","braceExpand","subpattern","middle","assign","capture","source","startsWith","regExpEscape","_makeRe","cap","Minimatch","sep","er","GLOBSTAR","plTypes","open","close","reSpecials","slashSplit","ext","nocomment","charAt","negate","comment","make","nobrace","defaults","def","orig","debug","_made","parseNegate","globSet","globParts","si","parse","negateOffset","isSub","noglobstar","stateChar","re","hasMagic","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","self","clearStateChar","qmark","noext","reStart","pl","reEnd","cs","substring","sp","SUBPARSE","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","regExp","_glob","_src","twoStar","ex","mm","f","nonull","partial","filename","file","matchBase","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","normalizeArray","allowAboveRoot","up","resolve","resolvedPath","resolvedAbsolute","process","cwd","normalize","isAbsolute","trailingSlash","paths","relative","fromParts","toParts","samePartsLength","outputParts","delimiter","dirname","code","hasRoot","matchedSlash","basename","extname","startDot","startPart","preDotState","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","webpackContext","req","id","webpackContextResolve","optDef","state","commandOptions","outputs","pathArg","resolvePath","fs","getFileSystem","filePath","FileOp","readFile","err","OutputFactory","makeErrorOutput","makeTextOutput","updateStateCwd","newCwdPath","EnvVariableUtil","setEnvironmentVariable","getEnvVariables","DirectoryOp","hasDirectory","newCwdPathDoesNotExistErr","makeError","fsErrorType","NO_SUCH_DIRECTORY","setEnvVariables","setOutputs","srcPath","destPath","isTrailingDestPath","PathUtil","isTrailingPath","recursive","lastPathComponent","getLastPathPart","emptyDir","FileUtil","makeDirectory","addDirectory","setFileSystem","copyDirectory","copySourceDirectory","isTrailingPathDest","dirAtTrailingPathNonExistentErr","copyFile","copiedFS","copySourceFile","VARIABLE_GROUP_REGEX","DOUBLE_SPACE_REGEX","environmentVariables","cleanStr","varName","getEnvironmentVariable","trimFileContent","lines","lineCount","content","clearStateHistory","setHistory","stringifyStateHistory","getHistory","commandNames","mapping","commandName","function","require","IMPLIED_DIRECTORY_ENTRIES","makeSortedReturn","listing","sortedListing","removeHiddenFilesFilter","dirPath","envVariables","toAbsolutePath","resolveDirectoryToList","listDirectory","dirList","all","almostAll","EMPTY_DIR","newFolderPath","DirOp","stringifyEnvVariables","varVal","varKey","varValue","noSuchFileOrDirError","deletionPath","noPreserveRoot","NO_SUCH_FILE_OR_DIRECTORY","deleteDirectory","deleteFile","deletedPathFS","pathToDelete","EMPTY_FILE","makeFile","writeFile","trimmingFn","linesCount","OutputType","OutputRecord","command","HEADER_OUTPUT_TYPE","TEXT_OUTPUT_TYPE","TEXT_ERROR_OUTPUT_TYPE","EmulatorState","immutable","_immutable","history","commandMapping","getImmutable","newFileSystem","newEnvVariables","newHistory","newOutputs","newCommandMapping","defaultCommandMapping","commandFn","defaultVariables","DEFAULT_FILE_SYSTEM","jsFs","fillGaps","commandRun","CommandMapping","EnvironmentVariables","FileSystem","History","Outputs","outputRecord","cmdMapping","partialStr","commandNameSeq","getCommandNames","GlobUtil","globSeq","isCommandSet","optDefSeq","getCommandOptDef","fileSystem","completeNamePattern","completeSubfolderPattern","globPattern","endsWith","childPaths","globPaths","isAbsPath","pathPartsWithoutTail","toPathParts","toPath","makeRunnerErrorOutput","errorType","commandArgs","errorStr","emulatorErrorType","COMMAND_NOT_FOUND","notFoundCallback","CommandMappingUtil","getCommandFn","fatalCommandError","UNEXPECTED_COMMAND_FAILURE","message","Emulator","suggestions","suggest","strParts","autocompletedText","lastVal","isTypingNewPart","_trimLeadingSpace","_getBoundaryWords","cmdName","lastTextEntered","suggestCommands","getCommandMapping","strToComplete","suggestCommandOptions","suggestFileSystemNames","executionListeners","executionListener","onExecuteStarted","_addHeaderOutput","_addCommandOutputs","_addCommandToHistory","_updateStateByExecution","onExecuteCompleted","commandStrToExecute","CommandRunner","nextState","recordCommand","commandStr","makeHeaderOutput","getOutputs","BoundedHistoryIterator","historyStack","hasUp","hasDown","HistoryKeyboardPlugin","_nullableHistoryIterator","createHistoryIteratorIfNull","down","FILE_EXISTS","DIRECTORY_EXISTS","DIRECTORY_NOT_EMPTY","NO_SUCH_FILE","FILE_OR_DIRECTORY_EXISTS","IS_A_DIRECTORY","NOT_A_DIRECTORY","PERMISSION_DENIED","OTHER","makeDirectoryOperationPermissionError","DirectoryOperations","listDirectoryFiles","listDirectoryFolders","PermissionUtil","canModifyPath","currentPath","newPath","renameDirectory","makeFileOperationPermissionError","FileOperations","hasFile","sourcePath","pathToAdd","fsElementToAdd","addParentPaths","parentPaths","getPathBreadCrumbs","parentPath","addedDirectoryFs","pathToRemove","isNonEmptyDirectoryRemovable","childPathPattern","onlyFilesFilter","isFile","onlyDirectoriesFilter","isDirectory","emptyDirectory","directoryGapPaths","directoryGapPath","filesPattern","captureGlobPaths","isTrailingSlashAppended","foldersPattern","folderNames","folderName","addTrailingSlash","listFileErr","fileList","listFolderErr","folderList","getPathParent","BaseOp","isPathTypeMatching","pathSeq","overwrite","srcChildPattern","srcPaths","srcSubPaths","destPaths","newFs","possibleFile","pathParent","sourceFileName","metadata","GLOB_OPTIONS","filterCondition","captures","pathCaptures","removeTrailingSeparator","pathParts","nonRootPathParts","secondPathPart","breadCrumbs","pathPart","previousBreadCrumb","pathPartsWithoutFileName","relativePath","pathStack","isModificationAllowed","directory","breadCrumbPath","parseCommands","commands","toCommandParts","OptionParser","parseOptions"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,WAAY,GAAIH,GACG,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,IARrB,CASGK,MAAM,WACT,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,wEChFrD,SAASC,EAASC,EAAGC,EAAGC,GAClBF,aAAaG,SAAQH,EAAII,EAAWJ,EAAGE,IACvCD,aAAaE,SAAQF,EAAIG,EAAWH,EAAGC,IAE3C,IAAIrB,EAAIwB,EAAML,EAAGC,EAAGC,GAEpB,OAAOrB,GAAK,CACVyB,MAAOzB,EAAE,GACT0B,IAAK1B,EAAE,GACP2B,IAAKN,EAAIO,MAAM,EAAG5B,EAAE,IACpB6B,KAAMR,EAAIO,MAAM5B,EAAE,GAAKmB,EAAEW,OAAQ9B,EAAE,IACnC+B,KAAMV,EAAIO,MAAM5B,EAAE,GAAKoB,EAAEU,SAI7B,SAASP,EAAWS,EAAKX,GACvB,IAAI/B,EAAI+B,EAAIY,MAAMD,GAClB,OAAO1C,EAAIA,EAAE,GAAK,KAIpB,SAASkC,EAAML,EAAGC,EAAGC,GACnB,IAAIa,EAAMC,EAAKC,EAAMC,EAAOC,EACxBC,EAAKlB,EAAImB,QAAQrB,GACjBsB,EAAKpB,EAAImB,QAAQpB,EAAGmB,EAAK,GACzBrD,EAAIqD,EAER,GAAIA,GAAM,GAAKE,EAAK,EAAG,CAIrB,IAHAP,EAAO,GACPE,EAAOf,EAAIS,OAEJ5C,GAAK,IAAMoD,GACZpD,GAAKqD,GACPL,EAAKQ,KAAKxD,GACVqD,EAAKlB,EAAImB,QAAQrB,EAAGjC,EAAI,IACA,GAAfgD,EAAKJ,OACdQ,EAAS,CAAEJ,EAAKS,MAAOF,KAEvBN,EAAMD,EAAKS,OACDP,IACRA,EAAOD,EACPE,EAAQI,GAGVA,EAAKpB,EAAImB,QAAQpB,EAAGlC,EAAI,IAG1BA,EAAIqD,EAAKE,GAAMF,GAAM,EAAIA,EAAKE,EAG5BP,EAAKJ,SACPQ,EAAS,CAAEF,EAAMC,IAIrB,OAAOC,EAxDT3D,EAAOD,QAAUwC,EAqBjBA,EAASM,MAAQA,G,0DCtBjB,IAAIoB,EAAY,EAAQ,sCACpB1B,EAAW,EAAQ,0CAEvBvC,EAAOD,QA6DP,SAAmB2C,GACjB,IAAKA,EACH,MAAO,GAQgB,OAArBA,EAAIwB,OAAO,EAAG,KAChBxB,EAAM,SAAWA,EAAIwB,OAAO,IAG9B,OAqBF,SAASC,EAAOzB,EAAK0B,GACnB,IAAIC,EAAa,GAEb1D,EAAI4B,EAAS,IAAK,IAAKG,GAC3B,IAAK/B,GAAK,MAAM2D,KAAK3D,EAAEqC,KAAM,MAAO,CAACN,GAErC,IAaIV,EAbAuC,EAAoB,iCAAiCD,KAAK3D,EAAEuC,MAC5DsB,EAAkB,uCAAuCF,KAAK3D,EAAEuC,MAChEuB,EAAaF,GAAqBC,EAClCE,EAAY/D,EAAEuC,KAAKW,QAAQ,MAAQ,EACvC,IAAKY,IAAeC,EAElB,OAAI/D,EAAEyC,KAAKE,MAAM,UACfZ,EAAM/B,EAAEqC,IAAM,IAAMrC,EAAEuC,KAAOyB,EAAWhE,EAAEyC,KACnCe,EAAOzB,IAET,CAACA,GAIV,GAAI+B,EACFzC,EAAIrB,EAAEuC,KAAK0B,MAAM,YACZ,CAEL,GAAiB,KADjB5C,EArFJ,SAAS6C,EAAgBnC,GACvB,IAAKA,EACH,MAAO,CAAC,IAEV,IAAIoC,EAAQ,GACRnE,EAAI4B,EAAS,IAAK,IAAKG,GAE3B,IAAK/B,EACH,OAAO+B,EAAIkC,MAAM,KAEnB,IAAI5B,EAAMrC,EAAEqC,IACRE,EAAOvC,EAAEuC,KACTE,EAAOzC,EAAEyC,KACTf,EAAIW,EAAI4B,MAAM,KAElBvC,EAAEA,EAAEc,OAAO,IAAM,IAAMD,EAAO,IAC9B,IAAI6B,EAAYF,EAAgBzB,GAC5BA,EAAKD,SACPd,EAAEA,EAAEc,OAAO,IAAM4B,EAAUC,QAC3B3C,EAAE0B,KAAKkB,MAAM5C,EAAG0C,IAKlB,OAFAD,EAAMf,KAAKkB,MAAMH,EAAOzC,GAEjByC,EA6DDD,CAAgBlE,EAAEuC,OAChBC,OAGJ,GAAiB,KADjBnB,EAAImC,EAAOnC,EAAE,IAAI,GAAOkD,IAAIC,IACtBhC,OAIJ,OAHIC,EAAOzC,EAAEyC,KAAKD,OACdgB,EAAOxD,EAAEyC,MAAM,GACf,CAAC,KACO8B,KAAI,SAAS7C,GACvB,OAAO1B,EAAEqC,IAAMhB,EAAE,GAAKK,KAU9B,IAKI+C,EALApC,EAAMrC,EAAEqC,IACRI,EAAOzC,EAAEyC,KAAKD,OACdgB,EAAOxD,EAAEyC,MAAM,GACf,CAAC,IAIL,GAAIqB,EAAY,CACd,IAAIY,EAAIC,EAAQtD,EAAE,IACduD,EAAID,EAAQtD,EAAE,IACdwD,EAAQC,KAAKC,IAAI1D,EAAE,GAAGmB,OAAQnB,EAAE,GAAGmB,QACnCwC,EAAmB,GAAZ3D,EAAEmB,OACTsC,KAAKG,IAAIN,EAAQtD,EAAE,KACnB,EACAsC,EAAOuB,EACGN,EAAIF,IAEhBM,IAAS,EACTrB,EAAOwB,GAET,IAAIC,EAAM/D,EAAEgE,KAAKC,GAEjBb,EAAI,GAEJ,IAAK,IAAI7E,EAAI8E,EAAGf,EAAK/D,EAAGgF,GAAIhF,GAAKoF,EAAM,CACrC,IAAI/E,EACJ,GAAI4D,EAEQ,QADV5D,EAAIsF,OAAOC,aAAa5F,MAEtBK,EAAI,SAGN,GADAA,EAAIsF,OAAO3F,GACPwF,EAAK,CACP,IAAIK,EAAOZ,EAAQ5E,EAAEuC,OACrB,GAAIiD,EAAO,EAAG,CACZ,IAAIC,EAAI,IAAIC,MAAMF,EAAO,GAAGG,KAAK,KAE/B3F,EADEL,EAAI,EACF,IAAM8F,EAAIzF,EAAEqC,MAAM,GAElBoD,EAAIzF,GAIhBwE,EAAErB,KAAKnD,SAGTwE,EAAInB,EAAUjC,GAAG,SAASwE,GAAM,OAAOrC,EAAOqC,GAAI,MAGpD,IAAK,IAAIC,EAAI,EAAGA,EAAIrB,EAAEjC,OAAQsD,IAC5B,IAAK,IAAIC,EAAI,EAAGA,EAAItD,EAAKD,OAAQuD,IAAK,CACpC,IAAIC,EAAY3D,EAAMoC,EAAEqB,GAAKrD,EAAKsD,KAC7BtC,GAASK,GAAckC,IAC1BtC,EAAWN,KAAK4C,GAItB,OAAOtC,EAxHAF,CA7DT,SAAsBzB,GACpB,OAAOA,EAAIkC,MAAM,QAAQ2B,KAAKK,GACnBhC,MAAM,OAAO2B,KAAKM,GAClBjC,MAAM,OAAO2B,KAAK5B,GAClBC,MAAM,OAAO2B,KAAKO,GAClBlC,MAAM,OAAO2B,KAAKQ,GAwDfC,CAAatE,IAAM,GAAMwC,IAAI+B,IAzE7C,IAAIL,EAAW,UAAUnB,KAAKyB,SAAS,KACnCL,EAAU,SAASpB,KAAKyB,SAAS,KACjCvC,EAAW,UAAUc,KAAKyB,SAAS,KACnCJ,EAAW,UAAUrB,KAAKyB,SAAS,KACnCH,EAAY,WAAWtB,KAAKyB,SAAS,KAEzC,SAAS5B,EAAQ5C,GACf,OAAOyE,SAASzE,EAAK,KAAOA,EACxByE,SAASzE,EAAK,IACdA,EAAI0E,WAAW,GAWrB,SAASH,EAAevE,GACtB,OAAOA,EAAIkC,MAAMgC,GAAUL,KAAK,MACrB3B,MAAMiC,GAASN,KAAK,KACpB3B,MAAMD,GAAU4B,KAAK,KACrB3B,MAAMkC,GAAUP,KAAK,KACrB3B,MAAMmC,GAAWR,KAAK,KAuDnC,SAASpB,EAAQzC,GACf,MAAO,IAAMA,EAAM,IAErB,SAASuD,EAASO,GAChB,MAAO,SAASlC,KAAKkC,GAGvB,SAASX,EAAItF,EAAGgF,GACd,OAAOhF,GAAKgF,EAEd,SAASO,EAAIvF,EAAGgF,GACd,OAAOhF,GAAKgF,I,mDChGdvF,EAAOD,QAAU,SAAUsH,EAAIC,GAE3B,IADA,IAAIC,EAAM,GACDhH,EAAI,EAAGA,EAAI8G,EAAGlE,OAAQ5C,IAAK,CAChC,IAAI8E,EAAIiC,EAAGD,EAAG9G,GAAIA,GACdiH,EAAQnC,GAAIkC,EAAIxD,KAAKkB,MAAMsC,EAAKlC,GAC/BkC,EAAIxD,KAAKsB,GAElB,OAAOkC,GAGX,IAAIC,EAAUlB,MAAMkB,SAAW,SAAUH,GACrC,MAA8C,mBAAvCpG,OAAOkB,UAAUsF,SAAS/G,KAAK2G,K,mECL1C,MAAMK,EAWL,YAAYC,EAAOC,EAAS,IAC3BzH,KAAK0H,WAAa,GAClB1H,KAAK2H,UAAa,GAClB3H,KAAKyH,OAAa,GAClBzH,KAAK4H,OAAa,GAElB5H,KAAK6H,YAAYL,GACjBxH,KAAK8H,aAAaL,GAUnB,YAAYM,GACP5B,MAAMkB,QAAQU,KACjBA,EAAQhC,OAAOgC,GAAOtD,MAAM,OAE7B,IAAI,IAAI9D,KAAQoH,EACfpH,EAAOA,EAAKqH,OACZ,cAAc7D,KAAKxD,GAChBX,KAAK0H,WAAW9D,KAAKpB,OAAOyF,WAC5BjI,KAAK2H,UAAU/D,KAAKjD,EAAKuH,QAAQ,MAAO,KAW7C,aAAaH,GAMZA,GALAA,EAAQ5B,MAAMkB,QAAQU,GACnBA,EAAMI,OAAOC,SAAShC,KAAK,KAC3BL,OAAOgC,GAAOC,OAAOvD,MAAM,SAGhBM,IAAIsD,GAASA,EAAMH,QAAQ,sCAAuC,IAAII,IACnFA,EAAKxF,MAAM,EAAG,GAAGqF,OAAOC,SAAShC,KAAK,MAEvC,IAAI,MAAMiC,KAASN,EAAM,CACxB,IAAIM,EAAO,SACX,MAAO,CAAE1H,EAAM4H,EAAQ,MAAQF,EAAMlF,MAAM,wBAC3CnD,KAAKyH,OAAO7D,KAAK,CAACjD,OAAM4H,YACrB,SAASpE,KAAKxD,KAChBX,KAAKwI,UAAW,IAWnB,oBAGC,GAAGxI,KAAKyI,eACP,OAAOzI,KAAKyI,eAEb,MAAMJ,EAAQrI,KAAKyH,OAAO1C,IAAIsD,GAAS,IAAIA,EAAME,aAAanC,KAAK,IAC7DoB,EAAQ,IAAMxH,KAAK0H,WAAW1E,OACjChD,KAAK0H,WAAW,GAChB,IAAI1H,KAAK0H,WAAWtB,KAAK,OAC5B,OAAQpG,KAAKyI,eAAiBjB,EAAQa,EAUvC,YACC,OAAOrI,KAAKyH,OAASzH,KAAKyH,OAAOzE,OAAS,EAU3C,YACC,OAAOhD,KAAK0H,WAAWgB,OAAO1I,KAAK2H,WAUpC,iBACC,SAAU3H,KAAKwI,UAAYxI,KAAK4H,OAAO5E,OAAShD,KAAKyH,OAAOzE,SAe9D,SAAS2F,EAASZ,GACjB,OAAO5B,MAAMkB,QAAQU,GAASA,EAAQ,CAACA,GAYxC,SAASa,EAAWb,EAAOc,GAO1B,OANAd,EAAQA,EAAMG,QAAQ,MAAO,KAGzBW,GAAe,IAAI1E,KAAK4D,KAC3BA,EAAQA,EAAMe,cAAcZ,QAAQ,oBAAqB,CAACa,EAAG1G,EAAGC,IAAMD,EAAIC,EAAE0G,gBAEtEjB,EAYR,SAAS5E,EAAM4E,EAAOkB,EAAW,IAChC,IAAIA,GAAY,IAAMA,EAASjG,OAC9B,OAAO,EAER+E,EAAWhC,OAAOgC,GAClBkB,EAAWN,EAASM,GAAUd,OAAOC,SACrC,IAAI,MAAMG,KAAWU,EACpB,GAAIV,IAAYR,GAAS,iBAAoBQ,GACzCA,aAAmB/F,QAAW+F,EAAQpE,KAAK4D,GAC9C,OAAO,EACT,OAAO,EAWR,SAASmB,EAAcnB,GACtB,MAAMoB,EAAS,GACf,IAAI,IAAI/I,EAAI,EAAGC,EAAI0H,EAAM/E,OAAQ5C,EAAIC,IAAKD,EACzC+I,EAAOpB,EAAM3H,KAAM,EACpB,OAAOU,OAAOsI,KAAKD,QAohBjB,IAAuBtJ,EAAOD,UAChCC,EAAOD,QArXR,SAAiBmI,EAAOsB,EAAS,KAAMC,EAAS,IAG/C,IAAIvB,GAAS,IAAMA,EAAM/E,OACxB,MAAO,CAACuG,QAAS,GAAIC,KAAM,IAY5B,GATGrD,MAAMkB,QAAQU,GAChBA,EAAQ,IAAIA,GAAOhD,IAAIgB,QAGhB,iBAAoBgC,IAC3BA,EA9JF,SAAqBA,GACpBA,EAAQhC,OAAOgC,GAAS,IACxB,MAAM0B,EAAW,IACX,OAACzG,GAAU+E,EAEjB,IAAI2B,EAAa,GACbC,EAAa,GACbC,GAAa,EAEjB,IAAI,IAAIxJ,EAAI,EAAGA,EAAI4C,IAAU5C,EAAE,CAC9B,MAAMyJ,EAAO9B,EAAM3H,GAGnB,GAAGwJ,EACFD,GAAaE,EACbD,GAAY,OAKb,GAAIF,IAAa,UAAUvF,KAAK0F,GAAhC,CAOA,GAAG,OAASA,EAAK,CAChBD,GAAY,EAGZ,MAAME,EAAO/B,EAAM3H,EAAI,GACvB,GAAGsJ,IAAcA,IAAcI,GAAQ,OAASA,KAC5CJ,GAAa,gBAAgBvF,KAAK2F,GACrC,cAIG,KAAKJ,GAAaG,IAASH,IAAc,QAAQvF,KAAK0F,GAAM,CAChEH,EAAYA,IAAcG,EAAO,GAAKA,EACtC,SAGDF,GAAaE,OAtBZF,GAAaF,EAAO7F,KAAK+F,GACzBA,EAAY,GAyBd,OAFGA,GACFF,EAAO7F,KAAK+F,GACNF,EA+GEM,CAAYhC,IAIlB,OAASsB,GAAU,KAAOA,IAAU,IAAUA,EAChD,OAjGF,SAAkBtB,EAAOuB,EAAS,IACjC,MAAMU,EAAO,IAAIlJ,OAAO,MAClB0I,EAAO,GACb,IAAIS,EAGJ,IAAIlC,EAAO,OAAOiC,EAGlB,MAAME,EAASnC,EAAMrE,QAAQ,OACd,IAAZwG,IACFD,EAAUlC,EAAMjF,MAAMoH,EAAS,GAC/BnC,EAAQA,EAAMjF,MAAM,EAAGoH,IAGxB,IAAI,IAAI9J,EAAI,EAAGC,EAAI0H,EAAM/E,OAAQ5C,EAAIC,IAAKD,EAAE,CAC3C,IAAIO,EAAOoH,EAAM3H,GAGjB,GAAG,KAAK+D,KAAKxD,GAGZ,IAAI2I,EAAOa,cAAgB,IAAIhG,KAAKxD,GAAM,CACzC,MAAM8D,EAAQ9D,EAAK8D,MAAM,KACzB9D,EAAciI,EAAWnE,EAAM,GAAI6E,EAAOT,aAC1CmB,EAAKrJ,GAAS8D,EAAM3B,MAAM,GAAGsD,KAAK,SAG/B,CACHzF,EAAOiI,EAAWjI,EAAM2I,EAAOT,aAG/B,MAAMiB,EAAO/B,EAAM3H,EAAI,GACvB,GAAW,MAAR0J,GAAiB,KAAK3F,KAAK2F,GAmBzBE,EAAKrJ,IAAQ,MAnBkB,CAGnC,MAAMyJ,EAAUrC,EAAMsC,UAAU,CAAClI,EAAGmI,IAAMA,EAAIlK,GAAK,KAAK+D,KAAKhC,KAC7C,IAAbiI,GACFJ,EAAKrJ,GAAQoH,EAAMjF,MAAM1C,EAAI,EAAGgK,GAG7BA,EAAUhK,EAAI,IAChB4J,EAAKrJ,GAAQqJ,EAAKrJ,GAAM,IAEzBP,EAAIgK,EAAU,GAIVJ,EAAKrJ,IAAQ,QAShB6I,EAAK5F,KAAKjD,GAQhB,OAHGsJ,GACFT,EAAK5F,QAAQqG,GAEP,CACNV,QAASS,EACTR,KAASA,GA8BFe,CAASxC,EAAOuB,GAIxB,GAAG,oBAAsBxI,OAAOkB,UAAUsF,SAAS/G,KAAK8I,GAAQ,CAC/D,MAAM7B,EAAQ6B,EAAOlG,MAAM,aAC3BkG,EAAS,GACT7B,EAAMgD,QAAQ7J,IACb0I,EAAO,IAAI1I,EAAKuH,QAAQ,IAAK,OAASvH,EAAKqC,OAAS,EAAI,QAAU,KAKpE,MAAM,mBACLyH,EAAkB,YAClB5B,EAAW,WACX6B,EAAU,aACVC,EAAY,YACZC,EAAW,WACXC,EAAU,aACVV,EAAY,WACZW,EAAa,YACVxB,EAEE5B,EAAa,GACbC,EAAY,GACZnE,EAAS,CAACgG,KAAM,GAAID,QAAS,IAAIzI,OAAO,OAG9C,IAAI,MAAMH,KAAQ0I,EAAO,CACxB,MAAM0B,EAAS,IAAIxD,EAAO5G,EAAM0I,EAAO1I,IAEvC,IAAI,MAAMA,KAAQoK,EAAOrD,WAAW,CACnC,QAAGsD,IAActD,EAAW/G,GAC3B,MAAM,IAAIsK,eAAe,kBAAkBtK,sBAC5C+G,EAAW,IAAI/G,KAAUoK,EAG1B,IAAI,MAAMpK,KAAQoK,EAAOpD,UAAU,CAClC,QAAGqD,IAAcrD,EAAUhH,GAC1B,MAAM,IAAIsK,eAAe,kBAAkBtK,sBAC5CgH,EAAU,KAAKhH,KAAUoK,GAK3B,IAAIG,EAIJ,SAASC,EAAiBJ,EAAQpK,EAAMU,GACvC,OAAOyJ,GAGN,IAAK,YACJ,OAAOtH,EAAO+F,QAAQ5I,GAGvB,IAAK,WACL,QACC,OAAO6C,EAAO+F,QAAQ5I,GAAQU,EAG/B,IAAK,cACL,IAAK,aACJmC,EAAOgG,KAAK5F,KAAKmH,EAAOK,mBAAoBzC,EAAStH,IACrD,MAGD,IAAK,QACJ,MAAMgK,EAAQ,IAAIC,UAAU,kCAAkC3K,oBAAuB4K,KAAKC,UAAUnK,MAGpG,MAFAgK,EAAMI,eAAiBV,EACvBM,EAAMK,cAAiBrK,EACjBgK,EAGP,IAAK,SACJ,MAAMM,EAAYhD,EAASnF,EAAO+F,QAAQ5I,IACpCiL,EAAYjD,EAAStH,GAC3BmC,EAAO+F,QAAQ5I,GAAQgL,EAAUjD,OAAOkD,GACxC,MAGD,IAAK,QAAS,CACb,IAAID,EAAcnI,EAAO+F,QAAQ5I,GACjC,MAAMiL,EAAYjD,EAAStH,GAGvB0J,EAAOc,QAONrI,EAAO+F,QAAQ5I,GAAMiD,KAAK+E,EAASiD,KANvCD,EAAuBhD,EAASgD,GAChCnI,EAAO+F,QAAQ5I,GAAQ,CAACgL,EAAWC,GACnCb,EAAOc,SAAgB,GAMxB,MAID,IAAK,eAAgB,CACpB,IAAIjE,EAASpE,EAAO+F,QAAQ5I,GAG5B,IAAIoK,EAAOc,QAAQ,CAClB,MAAMC,EAAQ,GACd,IAAI,MAAMzK,KAASsH,EAASf,GAC3BkE,EAAMlI,KAAK,CAACvC,IACbuG,EAASkE,EACTf,EAAOc,SAAU,EAGlBlD,EAAStH,GAAOmJ,QAAQ,CAACuB,EAAG3L,UAIxB4K,IAAcpD,EAAOxH,KACvBwH,EAAOxH,GAAK+F,MAAMyB,EAAO,GAAG5E,OAAS,IAEtC4E,EAAOxH,GAAGwD,KAAKmI,KAGhBvI,EAAO+F,QAAQ5I,GAAQiH,EACvB,QAOH,SAASoE,EAASjB,EAAQ1J,GAGzB,GAAGoJ,EAAmB,CACrB,IAAI9J,EAAOoK,EAAOkB,gBAIf,eAAiBxB,IACnB9J,EAAOoK,EAAOpD,UAAU,IAAMoD,EAAOrD,WAAW,IAGjD/G,EAAOiI,EAAWjI,EAAMkI,GAGrBrF,EAAO+F,QAAQ5I,GACjBwK,EAAiBJ,EAAQpK,EAAMU,GAE3BmC,EAAO+F,QAAQ5I,GAAQU,MAIzB,CACH,MAAM,MAACmG,GAASuD,EAEhB,IAAI,IAAIpK,KAAQ6G,EAGf7G,EAAOiI,EAAWjI,EAAMkI,GAGrBrF,EAAO+F,QAAQ5I,IACjBwK,EAAiBJ,EAAQpK,EAAMU,GAEhCmC,EAAO+F,QAAQ5I,GAAQU,GAO1B,SAAS6K,IACR,IAAIC,EAAWjB,EAActD,OAG1B,IAAMsD,EAAckB,OAAUlB,EAAc1C,WAC9C2D,EAAWA,EAAS,IAErBH,EAASd,EAAeiB,GACxBjB,EAActD,OAAS,GACvBsD,EAAgB,KAKjB,SAASmB,EAAKtE,GAIb,IAAI,IAAI3H,EAAI,EAAGC,GAHf0H,EAAQA,EAAMuE,WAGWtJ,OAAQ5C,EAAIC,IAAKD,EAAE,CAC3C,MAAMmM,EAAMxE,EAAM3H,GACZoM,EAAM9E,EAAW6E,IAAQ5E,EAAU4E,GAEzC,GAAGC,EAAI,CACN,MAAMC,EAAUnH,KAAKC,IAAI,EAAGnF,EAAIoM,EAAIJ,OAC9BM,EAAUtM,EAAI,EACduM,EAAU5E,EAAMjF,MAAM2J,EAAMC,GAAIJ,UACtCvE,EAAM6E,OAAOH,EAAME,EAAQ3J,UAAW2J,IAIxC,OAAO5E,EAKR,MAAM8E,EAAW/L,OAAOsI,KAAK1B,GAC7B,IAAIoF,EAAaC,EAAgBC,EAYjC,IAVItC,GAAcmC,EAAS7J,SAC1B+J,EAAkB7D,EAAc2D,EAAS9H,IAAIlD,GAAK6F,EAAW7F,GAAGoL,gBAAgB7G,KAAK,KACrF0G,EAAkB,IAAItK,OAAO,MAAMuK,MAAoB,KACvDC,EAAkB9D,EAAc2D,EAAS1E,OAAOtG,IAAM6F,EAAW7F,GAAGuK,OAAOrH,IAAIlD,GAAK6F,EAAW7F,GAAGoL,gBAAgB7G,KAAK,KACvH4G,EAAkB,IAAIxK,OAAO,SAASwK,WAAqBD,WAC3DA,EAAkB,IAAIvK,OAAOuK,EAAgB,OAK1C5C,GAAgB2C,EAAY,CAG/B,MAAMI,EAAa,IAAI1K,OAAO,OAAQ1B,OAAOsI,KAAKzB,GAAWvB,KAAK,UAElE,IAAI,IAAIhG,EAAI,EAAGC,EAAI0H,EAAM/E,OAAQ5C,EAAIC,IAAKD,EAAE,CAC3C,IAAImM,EAAMxE,EAAM3H,GAGhB,GAAG0M,IACFA,EAAYK,UAAY,EAGrBL,EAAY3I,KAAKoI,IAJrB,CAOE,MAAMa,EAAeb,EAAIpJ,MAAM6J,GAC5BI,IACFJ,EAAYG,UAAY,EACxBZ,EAAMa,EAAa,GACnBrF,EAAM6E,OAAOxM,EAAI,EAAG,EAAGgN,EAAa,IACpC/M,EAAI0H,EAAM/E,QAGX,MAAMqK,EAAW,GAAG3E,UAAU6D,EAAIpJ,MAAM4J,GAAgBhI,IAAIvE,IAC3D,MAAMuK,EAASrD,EAAW,IAAIlH,EAAE,MAC1BgD,EAAS,CAAC,IAAIhD,EAAE,MACtB,OAAIuK,EAAOqB,OACX5I,EAAOI,QAAQpD,EAAE2C,MAAM,IAAIX,OAAOuI,EAAOkC,gBAAgBnK,MAAM,GAAGqF,OAAO/H,GAAKA,IACvEoD,GAFkBA,KAI1BuE,EAAM6E,OAAOxM,EAAG,KAAMiN,GACtBhN,EAAK0H,EAAM/E,OACX5C,GAAKiN,EAASrK,OAAS,OAMzB,GAAGkK,EAAW/I,KAAKoI,GAAK,CACvB,MAAMpJ,EAAQoJ,EAAIpJ,MAAM,kBACxB4E,EAAM6E,OAAOxM,EAAG,EAAG+C,EAAM,GAAIA,EAAM,IACnC9C,EAAK0H,EAAM/E,OACX5C,GAAK,IAOL,eAAiB0K,IACnB/C,EAAQsE,EAAKtE,IAGd,IAAI,IAAI3H,EAAI,EAAGC,EAAI0H,EAAM/E,OAAQ5C,EAAIC,IAAKD,EAAE,CAC3C,MAAMmM,EAAMxE,EAAM3H,GACZoM,EAAM9E,EAAW6E,IAAQ5E,EAAU4E,GAGzC,GAAGC,EAGFA,EAAIP,gBAAkBM,EAGnBrB,GAAegB,IAIfM,EAAIJ,MACNlB,EAAgBsB,EAGZR,EAASQ,GAAK,GAInBA,EAAIpB,gBAAkBmB,MAGnB,CACH,MAAMe,EAAenK,EAAMoJ,EAAK1B,GAC1B0C,EAAW,IAAM/J,EAAOgG,KAAK5F,QAAQmE,EAAMjF,MAAM1C,EAAI,IAG3D,GAAG8K,GAAiBA,EAAcsC,aAAeF,EAChDpC,EAActD,OAAOhE,KAAK2I,OAGvB,CAIH,GAHArB,GAAiBgB,IAGdoB,EAAa,CACfC,IACA,MAID,GAAG3C,GAAe,MAAMzG,KAAKoI,GAAK,CACjC,IAAIlB,EAAQT,EAGZ,cAAcA,GACb,IAAK,WAAYS,EAAQA,EAAMkB,GAAM,MACrC,IAAK,UAAYlB,EAAQ,uBACzB,IAAK,SAAYA,EAAQ,IAAIC,UAAUD,EAAMnD,QAAQ,KAAMqE,IAE5D,MAAMlB,EAMP,GAHA7H,EAAOgG,KAAK5F,KAAK2I,GAGd5B,EAAa,CACf4C,IACA,SAeJ,OAPGrC,GAAegB,IAIf,eAAiBpB,IACnBtH,EAAOgG,KAAO6C,EAAK7I,EAAOgG,OAEpBhG,K,6ECjtBR,q+CAQA,IASIiK,EAAU,GAOd,SAASC,EAAOC,GACVA,IACFA,EAAItM,OAAQ,GAOhB,SAASuM,KAET,SAASC,EAAWC,GAIlB,YAHkB9C,IAAd8C,EAAKC,OACPD,EAAKC,KAAOD,EAAKE,UAAUC,IAEtBH,EAAKC,KAGd,SAASG,EAAUJ,EAAMK,GAQvB,GAAqB,iBAAVA,EAAoB,CAC7B,IAAIC,EAAcD,IAAU,EAC5B,GAAI,GAAKC,IAAgBD,GAAyB,aAAhBC,EAChC,OAAOC,IAETF,EAAQC,EAEV,OAAOD,EAAQ,EAAIN,EAAWC,GAAQK,EAAQA,EAGhD,SAASF,IACP,OAAO,EAGT,SAASK,EAAWC,EAAO3L,EAAKmL,GAC9B,OACc,IAAVQ,IAAgBC,EAAMD,SACZvD,IAAT+C,GAAsBQ,IAAUR,UAC1B/C,IAARpI,QAA+BoI,IAAT+C,GAAsBnL,GAAOmL,GAIxD,SAASU,EAAaF,EAAOR,GAC3B,OAAOW,EAAaH,EAAOR,EAAM,GAGnC,SAASY,EAAW/L,EAAKmL,GACvB,OAAOW,EAAa9L,EAAKmL,EAAMA,GAGjC,SAASW,EAAaP,EAAOJ,EAAMa,GAGjC,YAAiB5D,IAAVmD,EACHS,EACAJ,EAAML,GACJJ,IAASc,IACPd,EAC4B,EAA5BzI,KAAKC,IAAI,EAAGwI,EAAOI,QACZnD,IAAT+C,GAAsBA,IAASI,EAC7BA,EACwB,EAAxB7I,KAAKwJ,IAAIf,EAAMI,GAGzB,SAASK,EAAMnN,GAEb,OAAOA,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,IAAWwN,IAMrD,SAASE,EAAaC,GACpB,OAAO5G,QAAQ4G,GAAmBA,EAHT,+BAQ3B,SAASC,EAAQC,GACf,OAAO9G,QAAQ8G,GAAcA,EAHT,4BAQtB,SAASC,EAAUC,GACjB,OAAOhH,QAAQgH,GAAgBA,EAHT,8BAMxB,SAASC,EAAcC,GACrB,OAAOL,EAAQK,IAAqBH,EAAUG,GAGhD,IAAIC,EAAa,SAAoBlO,GACnC,OAAO0N,EAAa1N,GAASA,EAAQmO,EAAInO,IAGvCoO,EAAgC,SAAUF,GAC5C,SAASE,EAAgBpO,GACvB,OAAO4N,EAAQ5N,GAASA,EAAQqO,EAASrO,GAO3C,OAJKkO,IAAaE,EAAgBE,UAAYJ,GAC9CE,EAAgBzN,UAAYlB,OAAOY,OAAQ6N,GAAcA,EAAWvN,WACpEyN,EAAgBzN,UAAU4N,YAAcH,EAEjCA,EAT0B,CAUjCF,GAEEM,EAAkC,SAAUN,GAC9C,SAASM,EAAkBxO,GACzB,OAAO8N,EAAU9N,GAASA,EAAQyO,EAAWzO,GAO/C,OAJKkO,IAAaM,EAAkBF,UAAYJ,GAChDM,EAAkB7N,UAAYlB,OAAOY,OAAQ6N,GAAcA,EAAWvN,WACtE6N,EAAkB7N,UAAU4N,YAAcC,EAEnCA,EAT4B,CAUnCN,GAEEQ,EAA8B,SAAUR,GAC1C,SAASQ,EAAc1O,GACrB,OAAO0N,EAAa1N,KAAWgO,EAAchO,GAASA,EAAQ2O,EAAO3O,GAOvE,OAJKkO,IAAaQ,EAAcJ,UAAYJ,GAC5CQ,EAAc/N,UAAYlB,OAAOY,OAAQ6N,GAAcA,EAAWvN,WAClE+N,EAAc/N,UAAU4N,YAAcG,EAE/BA,EATwB,CAU/BR,GAEFA,EAAWU,MAAQR,EACnBF,EAAWW,QAAUL,EACrBN,EAAWY,IAAMJ,EAIjB,SAASK,EAAMC,GACb,OAAOjI,QAAQiI,GAAYA,EAHT,0BAQpB,SAASC,EAASC,GAChB,OAAOnI,QAAQmI,GAAeA,EAHT,6BAMvB,SAASC,EAAYC,GACnB,OAAO1B,EAAa0B,IAAmBH,EAASG,GAGlD,IAAIC,EAAoB,4BAExB,SAASC,EAAUC,GACjB,OAAOxI,QAAQwI,GAAgBA,EAAaF,IAG9C,IAIIG,EAAyC,mBAAX1P,QAAyBA,OAAO2P,SAG9DC,EAAkBF,GAFK,aAIvBG,EAAW,SAAkBlH,GAC/B9J,KAAK8J,KAAOA,GAkBd,SAASmH,EAAcC,EAAM3K,EAAGwF,EAAGoF,GACjC,IAAI9P,EAAiB,IAAT6P,EAAa3K,EAAa,IAAT2K,EAAanF,EAAI,CAACxF,EAAGwF,GAOlD,OANAoF,EACKA,EAAe9P,MAAQA,EACvB8P,EAAiB,CAChB9P,MAAOA,EACP+P,MAAM,GAELD,EAGT,SAASE,IACP,MAAO,CAAEhQ,WAAO2J,EAAWoG,MAAM,GAGnC,SAASE,EAAYC,GACnB,QAASC,EAAcD,GAGzB,SAASE,EAAWC,GAClB,OAAOA,GAA+C,mBAAvBA,EAAc5H,KAG/C,SAAS6H,EAAYC,GACnB,IAAIC,EAAaL,EAAcI,GAC/B,OAAOC,GAAcA,EAAWtR,KAAKqR,GAGvC,SAASJ,EAAcI,GACrB,IAAIC,EACFD,IACEf,GAAwBe,EAASf,IACjCe,EAvDqB,eAwDzB,GAA0B,mBAAfC,EACT,OAAOA,EAjDXb,EAAShP,UAAUsF,SAAW,WAC5B,MAAO,cAGT0J,EAASc,KAjBU,EAkBnBd,EAASe,OAjBY,EAkBrBf,EAASgB,QAjBa,EAmBtBhB,EAAShP,UAAUiQ,QAAUjB,EAAShP,UAAUkQ,SAAW,WACzD,OAAOlS,KAAKsH,YAEd0J,EAAShP,UAAU+O,GAAmB,WACpC,OAAO/Q,MAyCT,IAAIiC,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAASkQ,EAAY9Q,GACnB,SAAI8E,MAAMkB,QAAQhG,IAA2B,iBAAVA,IAKjCA,GACiB,iBAAVA,GACP+Q,OAAOC,UAAUhR,EAAM2B,SACvB3B,EAAM2B,QAAU,IACE,IAAjB3B,EAAM2B,OAE2B,IAA9BlC,OAAOsI,KAAK/H,GAAO2B,OAGnB3B,EAAMY,eAAeZ,EAAM2B,OAAS,IAI5C,IAAIwM,EAAoB,SAAU8C,GAChC,SAAS9C,EAAInO,GACX,OAAOA,QACHkR,IACA/B,EAAYnP,GACVA,EAAMmR,QA4UhB,SAAsBnR,GACpB,IAAIoR,EAAMC,EAAyBrR,GACnC,GAAIoR,EACF,OAAOA,EAET,GAAqB,iBAAVpR,EACT,OAAO,IAAIsR,EAAUtR,GAEvB,MAAM,IAAIiK,UACR,mEAAqEjK,GApV/DuR,CAAavR,GA2DrB,OAxDKiR,IAAgB9C,EAAIG,UAAY2C,GACrC9C,EAAIxN,UAAYlB,OAAOY,OAAQ4Q,GAAiBA,EAActQ,WAC9DwN,EAAIxN,UAAU4N,YAAcJ,EAE5BA,EAAIxN,UAAUwQ,MAAQ,WACpB,OAAOxS,MAGTwP,EAAIxN,UAAUsF,SAAW,WACvB,OAAOtH,KAAK6S,WAAW,QAAS,MAGlCrD,EAAIxN,UAAU8Q,YAAc,WAK1B,OAJK9S,KAAK+S,QAAU/S,KAAKgT,oBACvBhT,KAAK+S,OAAS/S,KAAKiT,WAAWC,UAC9BlT,KAAK+N,KAAO/N,KAAK+S,OAAO/P,QAEnBhD,MAKTwP,EAAIxN,UAAUgM,UAAY,SAAoB7G,EAAImF,GAChD,IAAI6G,EAAQnT,KAAK+S,OACjB,GAAII,EAAO,CAGT,IAFA,IAAIpF,EAAOoF,EAAMnQ,OACb5C,EAAI,EACDA,IAAM2N,GAAM,CACjB,IAAIqF,EAAQD,EAAM7G,EAAUyB,IAAS3N,EAAIA,KACzC,IAAqC,IAAjC+G,EAAGiM,EAAM,GAAIA,EAAM,GAAIpT,MACzB,MAGJ,OAAOI,EAET,OAAOJ,KAAKgT,kBAAkB7L,EAAImF,IAKpCkD,EAAIxN,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACpD,IAAI6G,EAAQnT,KAAK+S,OACjB,GAAII,EAAO,CACT,IAAIpF,EAAOoF,EAAMnQ,OACb5C,EAAI,EACR,OAAO,IAAI4Q,GAAS,WAClB,GAAI5Q,IAAM2N,EACR,MAvGD,CAAE1M,WAAO2J,EAAWoG,MAAM,GAyG3B,IAAIgC,EAAQD,EAAM7G,EAAUyB,IAAS3N,EAAIA,KACzC,OAAO6Q,EAAcC,EAAMkC,EAAM,GAAIA,EAAM,OAG/C,OAAOpT,KAAKsT,mBAAmBpC,EAAM5E,IAGhCkD,EAjEc,CAkErBD,GAEEG,EAAyB,SAAUF,GACrC,SAASE,EAASrO,GAChB,OAAOA,QACHkR,IAAgBgB,aAChBxE,EAAa1N,GACX4N,EAAQ5N,GACNA,EAAMmR,QACNnR,EAAMmS,eACRlD,EAASjP,GACPA,EAAMmR,QACNiB,EAAkBpS,GAW5B,OARKmO,IAAME,EAASC,UAAYH,GAChCE,EAAS1N,UAAYlB,OAAOY,OAAQ8N,GAAOA,EAAIxN,WAC/C0N,EAAS1N,UAAU4N,YAAcF,EAEjCA,EAAS1N,UAAUuR,WAAa,WAC9B,OAAOvT,MAGF0P,EArBmB,CAsB1BF,GAEEM,EAA2B,SAAUN,GACvC,SAASM,EAAWzO,GAClB,OAAOA,QACHkR,IACAxD,EAAa1N,GACX4N,EAAQ5N,GACNA,EAAM4R,WACN5R,EAAMqS,eACRpD,EAASjP,GACPA,EAAMmR,QAAQS,WACdU,EAAoBtS,GAmB9B,OAhBKmO,IAAMM,EAAWH,UAAYH,GAClCM,EAAW9N,UAAYlB,OAAOY,OAAQ8N,GAAOA,EAAIxN,WACjD8N,EAAW9N,UAAU4N,YAAcE,EAEnCA,EAAW8D,GAAK,WACd,OAAO9D,EAAW+D,YAGpB/D,EAAW9N,UAAU0R,aAAe,WAClC,OAAO1T,MAGT8P,EAAW9N,UAAUsF,SAAW,WAC9B,OAAOtH,KAAK6S,WAAW,QAAS,MAG3B/C,EA7BqB,CA8B5BN,GAEEQ,EAAuB,SAAUR,GACnC,SAASQ,EAAO3O,GACd,OAAQ0N,EAAa1N,KAAWgO,EAAchO,GAC1CA,EACAyO,EAAWzO,IACbyS,WAeJ,OAZKtE,IAAMQ,EAAOL,UAAYH,GAC9BQ,EAAOhO,UAAYlB,OAAOY,OAAQ8N,GAAOA,EAAIxN,WAC7CgO,EAAOhO,UAAU4N,YAAcI,EAE/BA,EAAO4D,GAAK,WACV,OAAO5D,EAAO6D,YAGhB7D,EAAOhO,UAAU8R,SAAW,WAC1B,OAAO9T,MAGFgQ,EApBiB,CAqBxBR,GAEFA,EAAIY,MAAQA,EACZZ,EAAIS,MAAQP,EACZF,EAAIW,IAAMH,EACVR,EAAIU,QAAUJ,EAEdN,EAAIxN,UArQgB,0BAqQW,EAI/B,IAAI+R,EAAyB,SAAUjE,GACrC,SAASiE,EAASC,GAChBhU,KAAKiU,OAASD,EACdhU,KAAK+N,KAAOiG,EAAMhR,OAqCpB,OAlCK8M,IAAaiE,EAASpE,UAAYG,GACvCiE,EAAS/R,UAAYlB,OAAOY,OAAQoO,GAAcA,EAAW9N,WAC7D+R,EAAS/R,UAAU4N,YAAcmE,EAEjCA,EAAS/R,UAAUf,IAAM,SAAckN,EAAO+F,GAC5C,OAAOlU,KAAKmU,IAAIhG,GAASnO,KAAKiU,OAAO/F,EAAUlO,KAAMmO,IAAU+F,GAGjEH,EAAS/R,UAAUgM,UAAY,SAAoB7G,EAAImF,GAIrD,IAHA,IAAI0H,EAAQhU,KAAKiU,OACblG,EAAOiG,EAAMhR,OACb5C,EAAI,EACDA,IAAM2N,GAAM,CACjB,IAAIqG,EAAK9H,EAAUyB,IAAS3N,EAAIA,IAChC,IAAgC,IAA5B+G,EAAG6M,EAAMI,GAAKA,EAAIpU,MACpB,MAGJ,OAAOI,GAGT2T,EAAS/R,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACzD,IAAI0H,EAAQhU,KAAKiU,OACblG,EAAOiG,EAAMhR,OACb5C,EAAI,EACR,OAAO,IAAI4Q,GAAS,WAClB,GAAI5Q,IAAM2N,EACR,MA5OC,CAAE1M,WAAO2J,EAAWoG,MAAM,GA8O7B,IAAIgD,EAAK9H,EAAUyB,IAAS3N,EAAIA,IAChC,OAAO6Q,EAAcC,EAAMkD,EAAIJ,EAAMI,QAIlCL,EAxCmB,CAyC1BjE,GAEE6C,EAA0B,SAAUjD,GACtC,SAASiD,EAAU7Q,GACjB,IAAIsH,EAAOtI,OAAOsI,KAAKtH,GACvB9B,KAAKqU,QAAUvS,EACf9B,KAAKsU,MAAQlL,EACbpJ,KAAK+N,KAAO3E,EAAKpG,OA8CnB,OA3CK0M,IAAWiD,EAAUhD,UAAYD,GACtCiD,EAAU3Q,UAAYlB,OAAOY,OAAQgO,GAAYA,EAAS1N,WAC1D2Q,EAAU3Q,UAAU4N,YAAc+C,EAElCA,EAAU3Q,UAAUf,IAAM,SAAcU,EAAKuS,GAC3C,YAAoBlJ,IAAhBkJ,GAA8BlU,KAAKmU,IAAIxS,GAGpC3B,KAAKqU,QAAQ1S,GAFXuS,GAKXvB,EAAU3Q,UAAUmS,IAAM,SAAcxS,GACtC,OAAOM,EAAe1B,KAAKP,KAAKqU,QAAS1S,IAG3CgR,EAAU3Q,UAAUgM,UAAY,SAAoB7G,EAAImF,GAKtD,IAJA,IAAIxK,EAAS9B,KAAKqU,QACdjL,EAAOpJ,KAAKsU,MACZvG,EAAO3E,EAAKpG,OACZ5C,EAAI,EACDA,IAAM2N,GAAM,CACjB,IAAIpM,EAAMyH,EAAKkD,EAAUyB,IAAS3N,EAAIA,KACtC,IAAmC,IAA/B+G,EAAGrF,EAAOH,GAAMA,EAAK3B,MACvB,MAGJ,OAAOI,GAGTuS,EAAU3Q,UAAUqR,WAAa,SAAqBnC,EAAM5E,GAC1D,IAAIxK,EAAS9B,KAAKqU,QACdjL,EAAOpJ,KAAKsU,MACZvG,EAAO3E,EAAKpG,OACZ5C,EAAI,EACR,OAAO,IAAI4Q,GAAS,WAClB,GAAI5Q,IAAM2N,EACR,MAlSC,CAAE1M,WAAO2J,EAAWoG,MAAM,GAoS7B,IAAIzP,EAAMyH,EAAKkD,EAAUyB,IAAS3N,EAAIA,KACtC,OAAO6Q,EAAcC,EAAMvP,EAAKG,EAAOH,QAIpCgR,EAnDoB,CAoD3BjD,GACFiD,EAAU3Q,UAAU0O,IAAqB,EAEzC,IAiDI6D,EAjDAC,EAA8B,SAAU1E,GAC1C,SAAS0E,EAAcC,GACrBzU,KAAK0U,YAAcD,EACnBzU,KAAK+N,KAAO0G,EAAWzR,QAAUyR,EAAW1G,KAyC9C,OAtCK+B,IAAa0E,EAAc7E,UAAYG,GAC5C0E,EAAcxS,UAAYlB,OAAOY,OAAQoO,GAAcA,EAAW9N,WAClEwS,EAAcxS,UAAU4N,YAAc4E,EAEtCA,EAAcxS,UAAUgR,kBAAoB,SAA4B7L,EAAImF,GAC1E,GAAIA,EACF,OAAOtM,KAAK8S,cAAc9E,UAAU7G,EAAImF,GAE1C,IACIwE,EAAWa,EADE3R,KAAK0U,aAElBC,EAAa,EACjB,GAAIlD,EAAWX,GAEb,IADA,IAAI8D,IACKA,EAAO9D,EAAShH,QAAQsH,OACY,IAAvCjK,EAAGyN,EAAKvT,MAAOsT,IAAc3U,QAKrC,OAAO2U,GAGTH,EAAcxS,UAAUsR,mBAAqB,SAA6BpC,EAAM5E,GAC9E,GAAIA,EACF,OAAOtM,KAAK8S,cAAcO,WAAWnC,EAAM5E,GAE7C,IACIwE,EAAWa,EADE3R,KAAK0U,aAEtB,IAAKjD,EAAWX,GACd,OAAO,IAAIE,EAASK,GAEtB,IAAIsD,EAAa,EACjB,OAAO,IAAI3D,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,OAAO8K,EAAKxD,KAAOwD,EAAO3D,EAAcC,EAAMyD,IAAcC,EAAKvT,WAI9DmT,EA5CwB,CA6C/B1E,GAMF,SAASyC,IACP,OAAOgC,IAAcA,EAAY,IAAIR,EAAS,KAGhD,SAASN,EAAkBpS,GACzB,IAAIoR,EAAMtM,MAAMkB,QAAQhG,GACpB,IAAI0S,EAAS1S,GACbiQ,EAAYjQ,GACV,IAAImT,EAAcnT,QAClB2J,EACN,GAAIyH,EACF,OAAOA,EAAIe,eAEb,GAAqB,iBAAVnS,EACT,OAAO,IAAIsR,EAAUtR,GAEvB,MAAM,IAAIiK,UACR,2EACEjK,GAIN,SAASsS,EAAoBtS,GAC3B,IAAIoR,EAAMC,EAAyBrR,GACnC,GAAIoR,EACF,OAAOA,EAET,MAAM,IAAInH,UACR,kDAAoDjK,GAiBxD,SAASqR,EAAyBrR,GAChC,OAAO8Q,EAAY9Q,GACf,IAAI0S,EAAS1S,GACbiQ,EAAYjQ,GACV,IAAImT,EAAcnT,QAClB2J,EAKR,SAAS6J,EAAMC,GACb,OAAO1M,QAAQ0M,GAAYA,EAHT,0BAMpB,SAASC,EAAaC,GACpB,OAAOH,EAAMG,IAAoBrE,EAAUqE,GAG7C,SAASC,EAAcC,GACrB,OAAO9M,QACL8M,GAC+B,mBAAtBA,EAAWC,QACa,mBAAxBD,EAAWE,UA0DxB,SAASC,EAAGC,EAAQC,GAClB,GAAID,IAAWC,GAAWD,GAAWA,GAAUC,GAAWA,EACxD,OAAO,EAET,IAAKD,IAAWC,EACd,OAAO,EAET,GAC4B,mBAAnBD,EAAOE,SACY,mBAAnBD,EAAOC,QACd,CAGA,IAFAF,EAASA,EAAOE,cAChBD,EAASA,EAAOC,YACUF,GAAWA,GAAUC,GAAWA,EACxD,OAAO,EAET,IAAKD,IAAWC,EACd,OAAO,EAGX,SACEN,EAAcK,IACdL,EAAcM,IACdD,EAAOH,OAAOI,IAIlB,IAAIE,GACmB,mBAAdnQ,KAAKmQ,OAAqD,IAA9BnQ,KAAKmQ,KAAK,WAAY,GACrDnQ,KAAKmQ,KACL,SAAcpT,EAAGC,GAGf,IAAI7B,EAAQ,OAFZ4B,GAAK,GAGD3B,EAAQ,OAFZ4B,GAAK,GAIL,OAAQ7B,EAAIC,IAAQ2B,IAAM,IAAM3B,EAAID,GAAK6B,IAAM,KAAQ,KAAQ,GAAM,GAO7E,SAASoT,GAAIC,GACX,OAASA,IAAQ,EAAK,WAAqB,WAANA,EAGvC,IAAIC,GAAiB9U,OAAOkB,UAAUwT,QAEtC,SAASK,GAAKhV,GACZ,cAAeA,GACb,IAAK,UAIH,OAAOA,EAAI,WAAa,WAC1B,IAAK,SACH,OA6BN,SAAoBgB,GAClB,GAAIA,GAAMA,GAAKA,IAAMgN,IACnB,OAAO,EAET,IAAIgH,EAAW,EAAJhU,EACPgU,IAAShU,IACXgU,GAAY,WAAJhU,GAEV,KAAOA,EAAI,YAETgU,GADAhU,GAAK,WAGP,OAAO6T,GAAIG,GAzCAC,CAAWjV,GACpB,IAAK,SACH,OAAOA,EAAEmC,OAAS+S,GA0CxB,SAA0BC,GACxB,IAAIC,EAASC,GAAgBF,QACdhL,IAAXiL,IACFA,EAASE,GAAWH,GAChBI,KAA2BC,KAC7BD,GAAyB,EACzBF,GAAkB,IAEpBE,KACAF,GAAgBF,GAAUC,GAE5B,OAAOA,EApDCK,CAAiBzV,GACjBsV,GAAWtV,GACjB,IAAK,SACL,IAAK,WACH,OAAU,OAANA,EACK,WAEiB,mBAAfA,EAAEuU,SAEJM,GAAI7U,EAAEuU,SAASvU,KAEpBA,EAAE2U,UAAYI,IAAuC,mBAAd/U,EAAE2U,UAC3C3U,EAAIA,EAAE2U,QAAQ3U,IA0DtB,SAAmB0V,GACjB,IAAIN,EACJ,GAAIO,SAEaxL,KADfiL,EAASQ,GAAQxV,IAAIsV,IAEnB,OAAON,EAKX,QAAejL,KADfiL,EAASM,EAAIG,KAEX,OAAOT,EAGT,IAAKU,GAAmB,CAEtB,QAAe3L,KADfiL,EAASM,EAAIK,sBAAwBL,EAAIK,qBAAqBF,KAE5D,OAAOT,EAIT,QAAejL,KADfiL,EAiEJ,SAAuBY,GACrB,GAAIA,GAAQA,EAAKC,SAAW,EAC1B,OAAQD,EAAKC,UACX,KAAK,EACH,OAAOD,EAAKE,SACd,KAAK,EACH,OAAOF,EAAKG,iBAAmBH,EAAKG,gBAAgBD,UAvE/CE,CAAcV,IAErB,OAAON,EAIXA,IAAWiB,GACM,WAAbA,KACFA,GAAa,GAGf,GAAIV,GACFC,GAAQU,IAAIZ,EAAKN,OACZ,SAAqBjL,IAAjBoM,KAAoD,IAAtBA,GAAab,GACpD,MAAM,IAAIc,MAAM,mDACX,GAAIV,GACT7V,OAAOC,eAAewV,EAAKG,GAAc,CACvC1V,YAAY,EACZsW,cAAc,EACdC,UAAU,EACVlW,MAAO4U,SAEJ,QACwBjL,IAA7BuL,EAAIK,sBACJL,EAAIK,uBAAyBL,EAAI3G,YAAY5N,UAAU4U,qBAMvDL,EAAIK,qBAAuB,WACzB,OAAO5W,KAAK4P,YAAY5N,UAAU4U,qBAAqB9R,MACrD9E,KACA6T,YAGJ0C,EAAIK,qBAAqBF,IAAgBT,MACpC,SAAqBjL,IAAjBuL,EAAIO,SAOb,MAAM,IAAIO,MAAM,sDAFhBd,EAAIG,IAAgBT,GAKtB,OAAOA,EA3HIuB,CAAU3W,IACnB,IAAK,YACH,OAAO,WACT,QACE,GAA0B,mBAAfA,EAAEyG,SACX,OAAO6O,GAAWtV,EAAEyG,YAEtB,MAAM,IAAI+P,MAAM,qBAAuBxW,EAAI,uBAmCjD,SAASsV,GAAWH,GAQlB,IADA,IAAIC,EAAS,EACJ7B,EAAK,EAAGA,EAAK4B,EAAOhT,OAAQoR,IACnC6B,EAAU,GAAKA,EAASD,EAAO/O,WAAWmN,GAAO,EAEnD,OAAOsB,GAAIO,GA0Eb,IAAImB,GAAetW,OAAOsW,aAGtBT,GAAoB,WACtB,IAEE,OADA7V,OAAOC,eAAe,GAAI,IAAK,KACxB,EACP,MAAO0W,GACP,OAAO,GALa,GAuBxB,IACIhB,GADAD,GAAkC,mBAAZkB,QAEtBlB,KACFC,GAAU,IAAIiB,SAGhB,IAAIR,GAAa,EAEbR,GAAe,oBACG,mBAAXvV,SACTuV,GAAevV,OAAOuV,KAGxB,IAAIX,GAA+B,GAC/BM,GAA6B,IAC7BD,GAAyB,EACzBF,GAAkB,GAElByB,GAAgC,SAAUC,GAC5C,SAASD,EAAgBE,EAASC,GAChC9X,KAAK+X,MAAQF,EACb7X,KAAKgY,SAAWF,EAChB9X,KAAK+N,KAAO8J,EAAQ9J,KAiDtB,OA9CK6J,IAAcD,EAAgBhI,UAAYiI,GAC/CD,EAAgB3V,UAAYlB,OAAOY,OAAQkW,GAAeA,EAAY5V,WACtE2V,EAAgB3V,UAAU4N,YAAc+H,EAExCA,EAAgB3V,UAAUf,IAAM,SAAcU,EAAKuS,GACjD,OAAOlU,KAAK+X,MAAM9W,IAAIU,EAAKuS,IAG7ByD,EAAgB3V,UAAUmS,IAAM,SAAcxS,GAC5C,OAAO3B,KAAK+X,MAAM5D,IAAIxS,IAGxBgW,EAAgB3V,UAAUiW,SAAW,WACnC,OAAOjY,KAAK+X,MAAME,YAGpBN,EAAgB3V,UAAUsK,QAAU,WAClC,IAAI4L,EAASlY,KAETmY,EAAmBC,GAAepY,MAAM,GAI5C,OAHKA,KAAKgY,WACRG,EAAiBF,SAAW,WAAc,OAAOC,EAAOH,MAAMvF,QAAQlG,YAEjE6L,GAGTR,EAAgB3V,UAAU+C,IAAM,SAAcsT,EAAQC,GACpD,IAAIJ,EAASlY,KAETuY,EAAiBC,GAAWxY,KAAMqY,EAAQC,GAI9C,OAHKtY,KAAKgY,WACRO,EAAeN,SAAW,WAAc,OAAOC,EAAOH,MAAMvF,QAAQzN,IAAIsT,EAAQC,KAE3EC,GAGTZ,EAAgB3V,UAAUgM,UAAY,SAAoB7G,EAAImF,GAC5D,IAAI4L,EAASlY,KAEb,OAAOA,KAAK+X,MAAM/J,WAAU,SAAUjC,EAAGxF,GAAK,OAAOY,EAAG4E,EAAGxF,EAAG2R,KAAY5L,IAG5EqL,EAAgB3V,UAAUqR,WAAa,SAAqBnC,EAAM5E,GAChE,OAAOtM,KAAK+X,MAAM1E,WAAWnC,EAAM5E,IAG9BqL,EArD0B,CAsDjCjI,GACFiI,GAAgB3V,UAAU0O,IAAqB,EAE/C,IAAI+H,GAAkC,SAAUC,GAC9C,SAASD,EAAkB3K,GACzB9N,KAAK+X,MAAQjK,EACb9N,KAAK+N,KAAOD,EAAKC,KAyCnB,OAtCK2K,IAAgBD,EAAkB9I,UAAY+I,GACnDD,EAAkBzW,UAAYlB,OAAOY,OAAQgX,GAAiBA,EAAc1W,WAC5EyW,EAAkBzW,UAAU4N,YAAc6I,EAE1CA,EAAkBzW,UAAU2W,SAAW,SAAmBtX,GACxD,OAAOrB,KAAK+X,MAAMY,SAAStX,IAG7BoX,EAAkBzW,UAAUgM,UAAY,SAAoB7G,EAAImF,GAC9D,IAAI4L,EAASlY,KAETI,EAAI,EAER,OADAkM,GAAWuB,EAAW7N,MACfA,KAAK+X,MAAM/J,WAChB,SAAUjC,GAAK,OAAO5E,EAAG4E,EAAGO,EAAU4L,EAAOnK,OAAS3N,EAAIA,IAAK8X,KAC/D5L,IAIJmM,EAAkBzW,UAAUqR,WAAa,SAAqBnC,EAAM5E,GAClE,IAAI4L,EAASlY,KAET8Q,EAAW9Q,KAAK+X,MAAM1E,WA90BT,EA80BoC/G,GACjDlM,EAAI,EAER,OADAkM,GAAWuB,EAAW7N,MACf,IAAIgR,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,OAAO8K,EAAKxD,KACRwD,EACA3D,EACEC,EACA5E,EAAU4L,EAAOnK,OAAS3N,EAAIA,IAC9BwU,EAAKvT,MACLuT,OAKH6D,EA5C4B,CA6CnC3I,GAEE8I,GAA8B,SAAUC,GAC1C,SAASD,EAAc9K,GACrB9N,KAAK+X,MAAQjK,EACb9N,KAAK+N,KAAOD,EAAKC,KA2BnB,OAxBK8K,IAAYD,EAAcjJ,UAAYkJ,GAC3CD,EAAc5W,UAAYlB,OAAOY,OAAQmX,GAAaA,EAAU7W,WAChE4W,EAAc5W,UAAU4N,YAAcgJ,EAEtCA,EAAc5W,UAAUmS,IAAM,SAAcxS,GAC1C,OAAO3B,KAAK+X,MAAMY,SAAShX,IAG7BiX,EAAc5W,UAAUgM,UAAY,SAAoB7G,EAAImF,GAC1D,IAAI4L,EAASlY,KAEb,OAAOA,KAAK+X,MAAM/J,WAAU,SAAUjC,GAAK,OAAO5E,EAAG4E,EAAGA,EAAGmM,KAAY5L,IAGzEsM,EAAc5W,UAAUqR,WAAa,SAAqBnC,EAAM5E,GAC9D,IAAIwE,EAAW9Q,KAAK+X,MAAM1E,WAt3BT,EAs3BoC/G,GACrD,OAAO,IAAI0E,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,OAAO8K,EAAKxD,KACRwD,EACA3D,EAAcC,EAAM0D,EAAKvT,MAAOuT,EAAKvT,MAAOuT,OAI7CgE,EA9BwB,CA+B/B5I,GAEE8I,GAAoC,SAAUlB,GAChD,SAASkB,EAAoBC,GAC3B/Y,KAAK+X,MAAQgB,EACb/Y,KAAK+N,KAAOgL,EAAQhL,KAsDtB,OAnDK6J,IAAckB,EAAoBnJ,UAAYiI,GACnDkB,EAAoB9W,UAAYlB,OAAOY,OAAQkW,GAAeA,EAAY5V,WAC1E8W,EAAoB9W,UAAU4N,YAAckJ,EAE5CA,EAAoB9W,UAAUiR,SAAW,WACvC,OAAOjT,KAAK+X,MAAMvF,SAGpBsG,EAAoB9W,UAAUgM,UAAY,SAAoB7G,EAAImF,GAChE,IAAI4L,EAASlY,KAEb,OAAOA,KAAK+X,MAAM/J,WAAU,SAAUoF,GAGpC,GAAIA,EAAO,CACT4F,GAAc5F,GACd,IAAI6F,EAAoBlK,EAAaqE,GACrC,OAAOjM,EACL8R,EAAoB7F,EAAMnS,IAAI,GAAKmS,EAAM,GACzC6F,EAAoB7F,EAAMnS,IAAI,GAAKmS,EAAM,GACzC8E,MAGH5L,IAGLwM,EAAoB9W,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACpE,IAAIwE,EAAW9Q,KAAK+X,MAAM1E,WAn6BT,EAm6BoC/G,GACrD,OAAO,IAAI0E,GAAS,WAClB,OAAa,CACX,IAAI4D,EAAO9D,EAAShH,OACpB,GAAI8K,EAAKxD,KACP,OAAOwD,EAET,IAAIxB,EAAQwB,EAAKvT,MAGjB,GAAI+R,EAAO,CACT4F,GAAc5F,GACd,IAAI6F,EAAoBlK,EAAaqE,GACrC,OAAOnC,EACLC,EACA+H,EAAoB7F,EAAMnS,IAAI,GAAKmS,EAAM,GACzC6F,EAAoB7F,EAAMnS,IAAI,GAAKmS,EAAM,GACzCwB,SAOHkE,EAzD8B,CA0DrCpJ,GAIF,SAASwJ,GAAYzE,GACnB,IAAI0E,EAAeC,GAAa3E,GAmChC,OAlCA0E,EAAapB,MAAQtD,EACrB0E,EAAapL,KAAO0G,EAAW1G,KAC/BoL,EAAa9M,KAAO,WAAc,OAAOoI,GACzC0E,EAAa7M,QAAU,WACrB,IAAI6L,EAAmB1D,EAAWnI,QAAQxH,MAAM9E,MAEhD,OADAmY,EAAiB9L,KAAO,WAAc,OAAOoI,EAAWnI,WACjD6L,GAETgB,EAAahF,IAAM,SAAUxS,GAAO,OAAO8S,EAAWkE,SAAShX,IAC/DwX,EAAaR,SAAW,SAAUhX,GAAO,OAAO8S,EAAWN,IAAIxS,IAC/DwX,EAAarG,YAAcuG,GAC3BF,EAAanG,kBAAoB,SAAS7L,EAAImF,GAC5C,IAAI4L,EAASlY,KAEb,OAAOyU,EAAWzG,WAAU,SAAUjC,EAAGxF,GAAK,OAA4B,IAArBY,EAAGZ,EAAGwF,EAAGmM,KAAsB5L,IAEtF6M,EAAa7F,mBAAqB,SAASpC,EAAM5E,GAC/C,GAl9BkB,IAk9Bd4E,EAA0B,CAC5B,IAAIJ,EAAW2D,EAAWpB,WAAWnC,EAAM5E,GAC3C,OAAO,IAAI0E,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,IAAK8K,EAAKxD,KAAM,CACd,IAAI7K,EAAIqO,EAAKvT,MAAM,GACnBuT,EAAKvT,MAAM,GAAKuT,EAAKvT,MAAM,GAC3BuT,EAAKvT,MAAM,GAAKkF,EAElB,OAAOqO,KAGX,OAAOH,EAAWpB,WA/9BD,IAg+BfnC,EAj+Ba,EACE,EAi+Bf5E,IAGG6M,EAGT,SAASX,GAAW/D,EAAY4D,EAAQC,GACtC,IAAIC,EAAiBa,GAAa3E,GAkClC,OAjCA8D,EAAexK,KAAO0G,EAAW1G,KACjCwK,EAAepE,IAAM,SAAUxS,GAAO,OAAO8S,EAAWN,IAAIxS,IAC5D4W,EAAetX,IAAM,SAAUU,EAAKuS,GAClC,IAAInI,EAAI0I,EAAWxT,IAAIU,EAAK8L,GAC5B,OAAO1B,IAAM0B,EACTyG,EACAmE,EAAO9X,KAAK+X,EAASvM,EAAGpK,EAAK8S,IAEnC8D,EAAevF,kBAAoB,SAAS7L,EAAImF,GAC9C,IAAI4L,EAASlY,KAEb,OAAOyU,EAAWzG,WAChB,SAAUjC,EAAGxF,EAAG9F,GAAK,OAAwD,IAAjD0G,EAAGkR,EAAO9X,KAAK+X,EAASvM,EAAGxF,EAAG9F,GAAI8F,EAAG2R,KACjE5L,IAGJiM,EAAejF,mBAAqB,SAASpC,EAAM5E,GACjD,IAAIwE,EAAW2D,EAAWpB,WAz/BR,EAy/BoC/G,GACtD,OAAO,IAAI0E,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,GAAI8K,EAAKxD,KACP,OAAOwD,EAET,IAAIxB,EAAQwB,EAAKvT,MACbM,EAAMyR,EAAM,GAChB,OAAOnC,EACLC,EACAvP,EACA0W,EAAO9X,KAAK+X,EAASlF,EAAM,GAAIzR,EAAK8S,GACpCG,OAIC2D,EAGT,SAASH,GAAe3D,EAAYqD,GAClC,IAAII,EAASlY,KAETmY,EAAmBiB,GAAa3E,GA2CpC,OA1CA0D,EAAiBJ,MAAQtD,EACzB0D,EAAiBpK,KAAO0G,EAAW1G,KACnCoK,EAAiB7L,QAAU,WAAc,OAAOmI,GAC5CA,EAAWpI,OACb8L,EAAiB9L,KAAO,WACtB,IAAI8M,EAAeD,GAAYzE,GAE/B,OADA0E,EAAa7M,QAAU,WAAc,OAAOmI,EAAWpI,QAChD8M,IAGXhB,EAAiBlX,IAAM,SAAUU,EAAKuS,GAAe,OAAOO,EAAWxT,IAAI6W,EAAUnW,GAAO,EAAIA,EAAKuS,IACrGiE,EAAiBhE,IAAM,SAAUxS,GAAO,OAAO8S,EAAWN,IAAI2D,EAAUnW,GAAO,EAAIA,IACnFwW,EAAiBQ,SAAW,SAAUtX,GAAS,OAAOoT,EAAWkE,SAAStX,IAC1E8W,EAAiBrF,YAAcuG,GAC/BlB,EAAiBnK,UAAY,SAAS7G,EAAImF,GACxC,IAAI4L,EAASlY,KAETI,EAAI,EAER,OADAkM,GAAWuB,EAAW4G,GACfA,EAAWzG,WAChB,SAAUjC,EAAGxF,GAAK,OAAOY,EAAG4E,EAAG+L,EAAUvR,EAAI+F,EAAU4L,EAAOnK,OAAS3N,EAAIA,IAAK8X,MAC/E5L,IAGL6L,EAAiB9E,WAAa,SAAUnC,EAAM5E,GAC5C,IAAIlM,EAAI,EACRkM,GAAWuB,EAAW4G,GACtB,IAAI3D,EAAW2D,EAAWpB,WA3iCR,GA2iCqC/G,GACvD,OAAO,IAAI0E,GAAS,WAClB,IAAI4D,EAAO9D,EAAShH,OACpB,GAAI8K,EAAKxD,KACP,OAAOwD,EAET,IAAIxB,EAAQwB,EAAKvT,MACjB,OAAO4P,EACLC,EACA4G,EAAU1E,EAAM,GAAK9G,EAAU4L,EAAOnK,OAAS3N,EAAIA,IACnDgT,EAAM,GACNwB,OAICuD,EAGT,SAASmB,GAAc7E,EAAY8E,EAAWjB,EAASR,GACrD,IAAI0B,EAAiBJ,GAAa3E,GA2ClC,OA1CIqD,IACF0B,EAAerF,IAAM,SAAUxS,GAC7B,IAAIoK,EAAI0I,EAAWxT,IAAIU,EAAK8L,GAC5B,OAAO1B,IAAM0B,KAAa8L,EAAUhZ,KAAK+X,EAASvM,EAAGpK,EAAK8S,IAE5D+E,EAAevY,IAAM,SAAUU,EAAKuS,GAClC,IAAInI,EAAI0I,EAAWxT,IAAIU,EAAK8L,GAC5B,OAAO1B,IAAM0B,GAAW8L,EAAUhZ,KAAK+X,EAASvM,EAAGpK,EAAK8S,GACpD1I,EACAmI,IAGRsF,EAAexG,kBAAoB,SAAS7L,EAAImF,GAC9C,IAAI4L,EAASlY,KAET2U,EAAa,EAOjB,OANAF,EAAWzG,WAAU,SAAUjC,EAAGxF,EAAG9F,GACnC,GAAI8Y,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG9F,GAEhC,OADAkU,IACOxN,EAAG4E,EAAG+L,EAAUvR,EAAIoO,EAAa,EAAGuD,KAE5C5L,GACIqI,GAET6E,EAAelG,mBAAqB,SAASpC,EAAM5E,GACjD,IAAIwE,EAAW2D,EAAWpB,WAxlCR,EAwlCoC/G,GAClDqI,EAAa,EACjB,OAAO,IAAI3D,GAAS,WAClB,OAAa,CACX,IAAI4D,EAAO9D,EAAShH,OACpB,GAAI8K,EAAKxD,KACP,OAAOwD,EAET,IAAIxB,EAAQwB,EAAKvT,MACbM,EAAMyR,EAAM,GACZ/R,EAAQ+R,EAAM,GAClB,GAAImG,EAAUhZ,KAAK+X,EAASjX,EAAOM,EAAK8S,GACtC,OAAOxD,EAAcC,EAAM4G,EAAUnW,EAAMgT,IAActT,EAAOuT,QAKjE4E,EAwBT,SAASC,GAAahF,EAAYlG,EAAO3L,EAAKkV,GAC5C,IAAI4B,EAAejF,EAAW1G,KAE9B,GAAIO,EAAWC,EAAO3L,EAAK8W,GACzB,OAAOjF,EAGT,IAAIkF,EAAgBlL,EAAaF,EAAOmL,GACpCE,EAAcjL,EAAW/L,EAAK8W,GAKlC,GAAIC,GAAkBA,GAAiBC,GAAgBA,EACrD,OAAOH,GAAahF,EAAWjC,QAAQM,cAAevE,EAAO3L,EAAKkV,GAOpE,IACI+B,EADAC,EAAeF,EAAcD,EAE7BG,GAAiBA,IACnBD,EAAYC,EAAe,EAAI,EAAIA,GAGrC,IAAIC,EAAWX,GAAa3E,GAqE5B,OAjEAsF,EAAShM,KACO,IAAd8L,EAAkBA,EAAapF,EAAW1G,MAAQ8L,QAAc7O,GAE7D8M,GAAW1H,EAAMqE,IAAeoF,GAAa,IAChDE,EAAS9Y,IAAM,SAASkN,EAAO+F,GAE7B,OADA/F,EAAQD,EAAUlO,KAAMmO,KACR,GAAKA,EAAQ0L,EACzBpF,EAAWxT,IAAIkN,EAAQwL,EAAezF,GACtCA,IAIR6F,EAAS/G,kBAAoB,SAAS7L,EAAImF,GACxC,IAAI4L,EAASlY,KAEb,GAAkB,IAAd6Z,EACF,OAAO,EAET,GAAIvN,EACF,OAAOtM,KAAK8S,cAAc9E,UAAU7G,EAAImF,GAE1C,IAAI0N,EAAU,EACVC,GAAa,EACbtF,EAAa,EAUjB,OATAF,EAAWzG,WAAU,SAAUjC,EAAGxF,GAChC,IAAM0T,KAAeA,EAAaD,IAAYL,GAE5C,OADAhF,KAEkD,IAAhDxN,EAAG4E,EAAG+L,EAAUvR,EAAIoO,EAAa,EAAGuD,IACpCvD,IAAekF,KAIdlF,GAGToF,EAASzG,mBAAqB,SAASpC,EAAM5E,GAC3C,GAAkB,IAAduN,GAAmBvN,EACrB,OAAOtM,KAAK8S,cAAcO,WAAWnC,EAAM5E,GAG7C,GAAkB,IAAduN,EACF,OAAO,IAAI7I,EAASK,GAEtB,IAAIP,EAAW2D,EAAWpB,WAAWnC,EAAM5E,GACvC0N,EAAU,EACVrF,EAAa,EACjB,OAAO,IAAI3D,GAAS,WAClB,KAAOgJ,IAAYL,GACjB7I,EAAShH,OAEX,KAAM6K,EAAakF,EACjB,MA9qCC,CAAExY,WAAO2J,EAAWoG,MAAM,GAgrC7B,IAAIwD,EAAO9D,EAAShH,OACpB,OAAIgO,GAxtCW,IAwtCA5G,GAA2B0D,EAAKxD,KACtCwD,EAGA3D,EAAcC,EAAMyD,EAAa,EA7tC7B,IA4tCTzD,OACyClG,EAEF4J,EAAKvT,MAAM,GAFEuT,OAMrDmF,EA8CT,SAASG,GAAiBzF,EAAY8E,EAAWjB,EAASR,GACxD,IAAIqC,EAAef,GAAa3E,GAiDhC,OAhDA0F,EAAanH,kBAAoB,SAAS7L,EAAImF,GAC5C,IAAI4L,EAASlY,KAEb,GAAIsM,EACF,OAAOtM,KAAK8S,cAAc9E,UAAU7G,EAAImF,GAE1C,IAAI2N,GAAa,EACbtF,EAAa,EAOjB,OANAF,EAAWzG,WAAU,SAAUjC,EAAGxF,EAAG9F,GACnC,IAAMwZ,KAAeA,EAAaV,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG9F,IAE9D,OADAkU,IACOxN,EAAG4E,EAAG+L,EAAUvR,EAAIoO,EAAa,EAAGuD,MAGxCvD,GAETwF,EAAa7G,mBAAqB,SAASpC,EAAM5E,GAC/C,IAAI4L,EAASlY,KAEb,GAAIsM,EACF,OAAOtM,KAAK8S,cAAcO,WAAWnC,EAAM5E,GAE7C,IAAIwE,EAAW2D,EAAWpB,WAvyCR,EAuyCoC/G,GAClD8N,GAAW,EACXzF,EAAa,EACjB,OAAO,IAAI3D,GAAS,WAClB,IAAI4D,EACArO,EACAwF,EACJ,EAAG,CAED,IADA6I,EAAO9D,EAAShH,QACPsH,KACP,OAAI0G,GAlzCO,IAkzCI5G,EACN0D,EAGA3D,EAAcC,EAAMyD,IAvzCpB,IAszCLzD,OACuClG,EAEF4J,EAAKvT,MAAM,GAFEuT,GAIxD,IAAIxB,EAAQwB,EAAKvT,MACjBkF,EAAI6M,EAAM,GACVrH,EAAIqH,EAAM,GACVgH,IAAaA,EAAWb,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG2R,UAC/CkC,GACT,OA9zCgB,IA8zCTlJ,EAA2B0D,EAAO3D,EAAcC,EAAM3K,EAAGwF,EAAG6I,OAGhEuF,EAGT,SAASE,GAAc5F,EAAY7M,GACjC,IAAI0S,EAAoBrL,EAAQwF,GAC5B8F,EAAQ,CAAC9F,GACV/L,OAAOd,GACP7C,KAAI,SAAUgH,GAQb,OAPKgD,EAAahD,GAIPuO,IACTvO,EAAI0D,EAAgB1D,IAJpBA,EAAIuO,EACA7G,EAAkB1H,GAClB4H,EAAoBxN,MAAMkB,QAAQ0E,GAAKA,EAAI,CAACA,IAI3CA,KAER5D,QAAO,SAAU4D,GAAK,OAAkB,IAAXA,EAAEgC,QAElC,GAAqB,IAAjBwM,EAAMvX,OACR,OAAOyR,EAGT,GAAqB,IAAjB8F,EAAMvX,OAAc,CACtB,IAAIwX,EAAYD,EAAM,GACtB,GACEC,IAAc/F,GACb6F,GAAqBrL,EAAQuL,IAC7BrL,EAAUsF,IAAetF,EAAUqL,GAEpC,OAAOA,EAIX,IAAIC,EAAY,IAAI1G,EAASwG,GAe7B,OAdID,EACFG,EAAYA,EAAUlH,aACZpE,EAAUsF,KACpBgG,EAAYA,EAAU3G,aAExB2G,EAAYA,EAAUC,SAAQ,IACpB3M,KAAOwM,EAAMI,QAAO,SAAUC,EAAKnI,GAC3C,QAAYzH,IAAR4P,EAAmB,CACrB,IAAI7M,EAAO0E,EAAI1E,KACf,QAAa/C,IAAT+C,EACF,OAAO6M,EAAM7M,KAGhB,GACI0M,EAGT,SAASI,GAAepG,EAAYqG,EAAOhD,GACzC,IAAIiD,EAAe3B,GAAa3E,GAmDhC,OAlDAsG,EAAa/H,kBAAoB,SAAS7L,EAAImF,GAC5C,GAAIA,EACF,OAAOtM,KAAK8S,cAAc9E,UAAU7G,EAAImF,GAE1C,IAAIqI,EAAa,EACbqG,GAAU,EAed,OAdA,SAASC,EAASnN,EAAMoN,GACtBpN,EAAKE,WAAU,SAAUjC,EAAGxF,GAS1B,QARMuU,GAASI,EAAeJ,IAAU/L,EAAahD,GACnDkP,EAASlP,EAAGmP,EAAe,IAE3BvG,KAC0D,IAAtDxN,EAAG4E,EAAG+L,EAAUvR,EAAIoO,EAAa,EAAGoG,KACtCC,GAAU,KAGNA,IACP1O,GAEL2O,CAASxG,EAAY,GACdE,GAEToG,EAAazH,mBAAqB,SAASpC,EAAM5E,GAC/C,GAAIA,EACF,OAAOtM,KAAK8S,cAAcO,WAAWnC,EAAM5E,GAE7C,IAAIwE,EAAW2D,EAAWpB,WAAWnC,EAAM5E,GACvCR,EAAQ,GACR6I,EAAa,EACjB,OAAO,IAAI3D,GAAS,WAClB,KAAOF,GAAU,CACf,IAAI8D,EAAO9D,EAAShH,OACpB,IAAkB,IAAd8K,EAAKxD,KAAT,CAIA,IAAIrF,EAAI6I,EAAKvT,MAIb,GA/5Cc,IA45CV6P,IACFnF,EAAIA,EAAE,IAEF+O,KAAShP,EAAM9I,OAAS8X,KAAU/L,EAAahD,GAInD,OAAO+L,EAAUlD,EAAO3D,EAAcC,EAAMyD,IAAc5I,EAAG6I,GAH7D9I,EAAMlI,KAAKkN,GACXA,EAAW/E,EAAEsH,WAAWnC,EAAM5E,QAT9BwE,EAAWhF,EAAMjI,MAcrB,MAh4CG,CAAExC,WAAO2J,EAAWoG,MAAM,OAm4C1B2J,EA4CT,SAASI,GAAY1G,EAAY2G,EAAY/C,GACtC+C,IACHA,EAAaC,IAEf,IAAIf,EAAoBrL,EAAQwF,GAC5BtG,EAAQ,EACR4K,EAAUtE,EACXjC,QACAzN,KAAI,SAAUgH,EAAGxF,GAAK,MAAO,CAACA,EAAGwF,EAAGoC,IAASkK,EAASA,EAAOtM,EAAGxF,EAAGkO,GAAc1I,MACjFkM,WACA/E,UAUH,OATA6F,EAAQuC,MAAK,SAAUjZ,EAAGC,GAAK,OAAO8Y,EAAW/Y,EAAE,GAAIC,EAAE,KAAOD,EAAE,GAAKC,EAAE,MAAOkI,QAC9E8P,EACI,SAAUvO,EAAG3L,GACX2Y,EAAQ3Y,GAAG4C,OAAS,GAEtB,SAAU+I,EAAG3L,GACX2Y,EAAQ3Y,GAAK2L,EAAE,KAGhBuO,EACH5K,EAASqJ,GACT5J,EAAUsF,GACR3E,EAAWiJ,GACX/I,EAAO+I,GAGf,SAASwC,GAAW9G,EAAY2G,EAAY/C,GAI1C,GAHK+C,IACHA,EAAaC,IAEXhD,EAAQ,CACV,IAAIjF,EAAQqB,EACTjC,QACAzN,KAAI,SAAUgH,EAAGxF,GAAK,MAAO,CAACwF,EAAGsM,EAAOtM,EAAGxF,EAAGkO,OAC9CkG,QAAO,SAAUtY,EAAGC,GAAK,OAAQkZ,GAAWJ,EAAY/Y,EAAE,GAAIC,EAAE,IAAMA,EAAID,KAC7E,OAAO+Q,GAASA,EAAM,GAExB,OAAOqB,EAAWkG,QAAO,SAAUtY,EAAGC,GAAK,OAAQkZ,GAAWJ,EAAY/Y,EAAGC,GAAKA,EAAID,KAGxF,SAASmZ,GAAWJ,EAAY/Y,EAAGC,GACjC,IAAImZ,EAAOL,EAAW9Y,EAAGD,GAGzB,OACY,IAAToZ,GAAcnZ,IAAMD,IAAMC,SAAiCA,GAAMA,IAClEmZ,EAAO,EAIX,SAASC,GAAeC,EAASC,EAAQrB,EAAOsB,GAC9C,IAAIC,EAAc1C,GAAauC,GAC3BI,EAAQ,IAAIhI,EAASwG,GAAOxV,KAAI,SAAU3E,GAAK,OAAOA,EAAE2N,QAkD5D,OAjDA+N,EAAY/N,KAAO8N,EAASE,EAAMxW,MAAQwW,EAAMjN,MAGhDgN,EAAY9N,UAAY,SAAS7G,EAAImF,GAiBnC,IAHA,IACIsI,EADA9D,EAAW9Q,KAAKqT,WA7hDH,EA6hD8B/G,GAE3CqI,EAAa,IACRC,EAAO9D,EAAShH,QAAQsH,OACY,IAAvCjK,EAAGyN,EAAKvT,MAAOsT,IAAc3U,QAInC,OAAO2U,GAETmH,EAAYxI,mBAAqB,SAASpC,EAAM5E,GAC9C,IAAI0P,EAAYzB,EAAMxV,KACpB,SAAU3E,GAAK,OAASA,EAAImP,EAAWnP,GAAKuR,EAAYrF,EAAUlM,EAAEkM,UAAYlM,MAE9EuU,EAAa,EACbsH,GAAS,EACb,OAAO,IAAIjL,GAAS,WAClB,IAAIkL,EAKJ,OAJKD,IACHC,EAAQF,EAAUjX,KAAI,SAAU3E,GAAK,OAAOA,EAAE0J,UAC9CmS,EAASJ,EAASK,EAAMC,OAAM,SAAUha,GAAK,OAAOA,EAAEiP,QAAW8K,EAAMrW,MAAK,SAAU1D,GAAK,OAAOA,EAAEiP,SAElG6K,EA5gDD,CAAE5a,WAAO2J,EAAWoG,MAAM,GA+gDtBH,EACLC,EACAyD,IACAiH,EAAO9W,MAAM,KAAMoX,EAAMnX,KAAI,SAAU5C,GAAK,OAAOA,EAAEd,eAIpDya,EAKT,SAASM,GAAMtO,EAAM2E,GACnB,OAAO3E,IAAS2E,EAAM3E,EAAOsC,EAAMtC,GAAQ2E,EAAM3E,EAAK8B,YAAY6C,GAGpE,SAASuG,GAAc5F,GACrB,GAAIA,IAAUtS,OAAOsS,GACnB,MAAM,IAAI9H,UAAU,0BAA4B8H,GAIpD,SAASiJ,GAAgB5H,GACvB,OAAOxF,EAAQwF,GACXhF,EACAN,EAAUsF,GACR5E,EACAE,EAGR,SAASqJ,GAAa3E,GACpB,OAAO3T,OAAOY,QACXuN,EAAQwF,GACL/E,EACAP,EAAUsF,GACR3E,EACAE,GACJhO,WAIN,SAASqX,KACP,OAAIrZ,KAAK+X,MAAMjF,aACb9S,KAAK+X,MAAMjF,cACX9S,KAAK+N,KAAO/N,KAAK+X,MAAMhK,KAChB/N,MAEFwP,EAAIxN,UAAU8Q,YAAYvS,KAAKP,MAGxC,SAASqb,GAAkBhZ,EAAGC,GAC5B,YAAU0I,IAAN3I,QAAyB2I,IAAN1I,EACd,OAGC0I,IAAN3I,EACK,OAGC2I,IAAN1I,GACM,EAGHD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,EAIlC,SAASga,GAAQC,EAAKC,GACpBA,EAASA,GAAU,EAGnB,IAFA,IAAIC,EAAMnX,KAAKC,IAAI,EAAGgX,EAAIvZ,OAASwZ,GAC/BE,EAAS,IAAIvW,MAAMsW,GACdrI,EAAK,EAAGA,EAAKqI,EAAKrI,IACzBsI,EAAOtI,GAAMmI,EAAInI,EAAKoI,GAExB,OAAOE,EAGT,SAASC,GAAUC,EAAWvR,GAC5B,IAAKuR,EAAa,MAAM,IAAIvF,MAAMhM,GAGpC,SAASwR,GAAkB9O,GACzB4O,GACE5O,IAASc,IACT,qDAIJ,SAASiO,GAAcC,GACrB,GAAI5K,EAAY4K,IAA+B,iBAAZA,EACjC,OAAOA,EAET,GAAIpM,EAAUoM,GACZ,OAAOA,EAAQ7J,UAEjB,MAAM,IAAI5H,UACR,0DAA4DyR,GAIhE,SAASC,GAAW3b,GAClB,OACEA,IAC8B,mBAAtBA,EAAMuO,aACe,WAA3BvO,EAAMuO,YAAYjP,MAQxB,SAASsc,GAAgB5b,GACvB,MACmB,iBAAVA,IACNmP,EAAYnP,IAAU8E,MAAMkB,QAAQhG,IAAU2b,GAAW3b,IAO9D,SAAS6b,GAAY7b,GACnB,IACE,MAAwB,iBAAVA,EAAqBkK,KAAKC,UAAUnK,GAAS0E,OAAO1E,GAClE,MAAO8b,GACP,OAAO5R,KAAKC,UAAUnK,IAI1B,SAAS8S,GAAIM,EAAY9S,GACvB,OAAO6O,EAAYiE,GACfA,EAAWN,IAAIxS,GACfsb,GAAgBxI,IAAexS,EAAe1B,KAAKkU,EAAY9S,GAGrE,SAASV,GAAIwT,EAAY9S,EAAKuS,GAC5B,OAAO1D,EAAYiE,GACfA,EAAWxT,IAAIU,EAAKuS,GACnBC,GAAIM,EAAY9S,GAEW,mBAAnB8S,EAAWxT,IAChBwT,EAAWxT,IAAIU,GACf8S,EAAW9S,GAHbuS,EAMR,SAASkJ,GAAY3Q,GACnB,GAAItG,MAAMkB,QAAQoF,GAChB,OAAO6P,GAAQ7P,GAEjB,IAAIC,EAAK,GACT,IAAK,IAAI/K,KAAO8K,EACVxK,EAAe1B,KAAKkM,EAAM9K,KAC5B+K,EAAG/K,GAAO8K,EAAK9K,IAGnB,OAAO+K,EAGT,SAAS2Q,GAAO5I,EAAY9S,GAC1B,IAAKsb,GAAgBxI,GACnB,MAAM,IAAInJ,UACR,2CAA6CmJ,GAGjD,GAAIjE,EAAYiE,GAAa,CAC3B,IAAKA,EAAW4I,OACd,MAAM,IAAI/R,UACR,2DAA6DmJ,GAGjE,OAAOA,EAAW4I,OAAO1b,GAE3B,IAAKM,EAAe1B,KAAKkU,EAAY9S,GACnC,OAAO8S,EAET,IAAI6I,EAAiBF,GAAY3I,GAMjC,OALItO,MAAMkB,QAAQiW,GAChBA,EAAe1Q,OAAOjL,EAAK,UAEpB2b,EAAe3b,GAEjB2b,EAGT,SAASnG,GAAI1C,EAAY9S,EAAKN,GAC5B,IAAK4b,GAAgBxI,GACnB,MAAM,IAAInJ,UACR,2CAA6CmJ,GAGjD,GAAIjE,EAAYiE,GAAa,CAC3B,IAAKA,EAAW0C,IACd,MAAM,IAAI7L,UACR,wDAA0DmJ,GAG9D,OAAOA,EAAW0C,IAAIxV,EAAKN,GAE7B,GAAIY,EAAe1B,KAAKkU,EAAY9S,IAAQN,IAAUoT,EAAW9S,GAC/D,OAAO8S,EAET,IAAI6I,EAAiBF,GAAY3I,GAEjC,OADA6I,EAAe3b,GAAON,EACfic,EAGT,SAASC,GAAS9I,EAAYsI,EAAS7I,EAAasJ,GAC7CA,IACHA,EAAUtJ,EACVA,OAAclJ,GAEhB,IAAIyS,EAWN,SAASC,EACPC,EACAC,EACAb,EACA3c,EACA8T,EACAsJ,GAEA,IAAIK,EAAYD,IAAanQ,EAC7B,GAAIrN,IAAM2c,EAAQ/Z,OAAQ,CACxB,IAAI8a,EAAgBD,EAAY3J,EAAc0J,EAC1CG,EAAWP,EAAQM,GACvB,OAAOC,IAAaD,EAAgBF,EAAWG,EAEjD,IAAKF,IAAcZ,GAAgBW,GACjC,MAAM,IAAItS,UACR,0DACEyR,EAAQja,MAAM,EAAG1C,GAAG2E,IAAImY,IACxB,MACAU,GAGN,IAAIjc,EAAMob,EAAQ3c,GACd4d,EAAeH,EAAYpQ,EAAUxM,GAAI2c,EAAUjc,EAAK8L,GACxDwQ,EAAcP,EAChBM,IAAiBvQ,EAAUkQ,EAAcnN,EAAYwN,GACrDA,EACAjB,EACA3c,EAAI,EACJ8T,EACAsJ,GAEF,OAAOS,IAAgBD,EACnBJ,EACAK,IAAgBxQ,EACd4P,GAAOO,EAAUjc,GACjBwV,GACE0G,EAAaF,EAAcO,KAAa,GAAMN,EAC9Cjc,EACAsc,GAlDWP,CACjBlN,EAAYiE,GACZA,EACAqI,GAAcC,GACd,EACA7I,EACAsJ,GAEF,OAAOC,IAAiBhQ,EAAUyG,EAAcuJ,EA8ClD,SAASU,GAAM1J,EAAYsI,EAAS1b,GAClC,OAAOkc,GAAS9I,EAAYsI,EAAStP,GAAS,WAAc,OAAOpM,KAGrE,SAAS+c,GAAQrB,EAAShR,GACxB,OAAOoS,GAAMne,KAAM+c,EAAShR,GAG9B,SAASsS,GAAS5J,EAAYsI,GAC5B,OAAOQ,GAAS9I,EAAYsI,GAAS,WAAc,OAAOtP,KAG5D,SAAS6Q,GAASvB,GAChB,OAAOsB,GAASre,KAAM+c,GAGxB,SAASwB,GAAO9J,EAAY9S,EAAKuS,EAAasJ,GAC5C,OAAOD,GAAS9I,EAAY,CAAC9S,GAAMuS,EAAasJ,GAGlD,SAASgB,GAAS7c,EAAKuS,EAAasJ,GAClC,OAA4B,IAArB3J,UAAU7Q,OACbrB,EAAI3B,MACJue,GAAOve,KAAM2B,EAAKuS,EAAasJ,GAGrC,SAASiB,GAAW1B,EAAS7I,EAAasJ,GACxC,OAAOD,GAASvd,KAAM+c,EAAS7I,EAAasJ,GAG9C,SAASkB,KAEP,IADA,IAAInE,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OACxByZ,KAAQlC,EAAOkC,GAAQ5I,UAAW4I,GAE1C,OAAOkC,GAAmB3e,KAAMua,GAGlC,SAASqE,GAAUC,GAEjB,IADA,IAAItE,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OAAS,EACjCyZ,KAAQ,GAAIlC,EAAOkC,GAAQ5I,UAAW4I,EAAM,GAEpD,GAAsB,mBAAXoC,EACT,MAAM,IAAIvT,UAAU,4BAA8BuT,GAEpD,OAAOF,GAAmB3e,KAAMua,EAAOsE,GAGzC,SAASF,GAAmBlK,EAAYqK,EAAaD,GAEnD,IADA,IAAItE,EAAQ,GACHnG,EAAK,EAAGA,EAAK0K,EAAY9b,OAAQoR,IAAM,CAC9C,IAAI2K,EAAetP,EAAgBqP,EAAY1K,IACrB,IAAtB2K,EAAahR,MACfwM,EAAM3W,KAAKmb,GAGf,OAAqB,IAAjBxE,EAAMvX,OACDyR,EAGqB,IAA5BA,EAAWjC,QAAQzE,MAClB0G,EAAWuK,WACK,IAAjBzE,EAAMvX,OAIDyR,EAAWwK,eAAc,SAAUxK,GAaxC,IAZA,IAAIyK,EAAsBL,EACtB,SAAUxd,EAAOM,GACf4c,GACE9J,EACA9S,EACA8L,GACA,SAAU0R,GAAU,OAAQA,IAAW1R,EAAUpM,EAAQwd,EAAOM,EAAQ9d,EAAOM,OAGnF,SAAUN,EAAOM,GACf8S,EAAW0C,IAAIxV,EAAKN,IAEjB+S,EAAK,EAAGA,EAAKmG,EAAMvX,OAAQoR,IAClCmG,EAAMnG,GAAI5J,QAAQ0U,MAhBbzK,EAAW7E,YAAY2K,EAAM,IAqBxC,SAAS6E,GAAQ3K,GAEf,IADA,IAAI4K,EAAU,GAAI5C,EAAM5I,UAAU7Q,OAAS,EACnCyZ,KAAQ,GAAI4C,EAAS5C,GAAQ5I,UAAW4I,EAAM,GAEtD,OAAO6C,GAAiB7K,EAAY4K,GAGtC,SAASE,GAAYV,EAAQpK,GAE3B,IADA,IAAI4K,EAAU,GAAI5C,EAAM5I,UAAU7Q,OAAS,EACnCyZ,KAAQ,GAAI4C,EAAS5C,GAAQ5I,UAAW4I,EAAM,GAEtD,OAAO6C,GAAiB7K,EAAY4K,EAASR,GAG/C,SAASW,GAAU/K,GAEjB,IADA,IAAI4K,EAAU,GAAI5C,EAAM5I,UAAU7Q,OAAS,EACnCyZ,KAAQ,GAAI4C,EAAS5C,GAAQ5I,UAAW4I,EAAM,GAEtD,OAAOgD,GAAqBhL,EAAY4K,GAG1C,SAASK,GAAcb,EAAQpK,GAE7B,IADA,IAAI4K,EAAU,GAAI5C,EAAM5I,UAAU7Q,OAAS,EACnCyZ,KAAQ,GAAI4C,EAAS5C,GAAQ5I,UAAW4I,EAAM,GAEtD,OAAOgD,GAAqBhL,EAAY4K,EAASR,GAGnD,SAASY,GAAqBhL,EAAY4K,EAASR,GACjD,OAAOS,GAAiB7K,EAAY4K,EA6CtC,SAAwBR,GAQtB,OAPA,SAASc,EAAWC,EAAU7B,EAAUpc,GACtC,OAAOsb,GAAgB2C,IAAa3C,GAAgBc,GAChDuB,GAAiBM,EAAU,CAAC7B,GAAW4B,GACvCd,EACEA,EAAOe,EAAU7B,EAAUpc,GAC3Boc,GAnDqC8B,CAAehB,IAG9D,SAASS,GAAiB7K,EAAY4K,EAASR,GAC7C,IAAK5B,GAAgBxI,GACnB,MAAM,IAAInJ,UACR,+CAAiDmJ,GAGrD,GAAIjE,EAAYiE,GACd,MAAyB,mBAAXoK,GAAyBpK,EAAWmK,UAC9CnK,EAAWmK,UAAU9Z,MAAM2P,EAAY,CAAEoK,GAASnW,OAAQ2W,IAC1D5K,EAAWiK,MACTjK,EAAWiK,MAAM5Z,MAAM2P,EAAY4K,GACnC5K,EAAW/L,OAAO5D,MAAM2P,EAAY4K,GAyB5C,IAvBA,IAAIhY,EAAUlB,MAAMkB,QAAQoN,GACxBqL,EAASrL,EACTnC,EAAgBjL,EAAUwI,EAAoBJ,EAC9CsQ,EAAY1Y,EACZ,SAAUhG,GAEJye,IAAWrL,IACbqL,EAAS1C,GAAY0C,IAEvBA,EAAOlc,KAAKvC,IAEd,SAAUA,EAAOM,GACf,IAAIqe,EAAS/d,EAAe1B,KAAKuf,EAAQne,GACrCse,EACFD,GAAUnB,EAASA,EAAOiB,EAAOne,GAAMN,EAAOM,GAAON,EAClD2e,GAAUC,IAAYH,EAAOne,KAE5Bme,IAAWrL,IACbqL,EAAS1C,GAAY0C,IAEvBA,EAAOne,GAAOse,IAGb7f,EAAI,EAAGA,EAAIif,EAAQrc,OAAQ5C,IAClCkS,EAAc+M,EAAQjf,IAAIoK,QAAQuV,GAEpC,OAAOD,EAcT,SAASI,KAEP,IADA,IAAI3F,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OACxByZ,KAAQlC,EAAOkC,GAAQ5I,UAAW4I,GAE1C,OAAOgD,GAAqBzf,KAAMua,GAGpC,SAAS4F,GAAgBtB,GAEvB,IADA,IAAItE,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OAAS,EACjCyZ,KAAQ,GAAIlC,EAAOkC,GAAQ5I,UAAW4I,EAAM,GAEpD,OAAOgD,GAAqBzf,KAAMua,EAAOsE,GAG3C,SAASuB,GAAQrD,GAEf,IADA,IAAIxC,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OAAS,EACjCyZ,KAAQ,GAAIlC,EAAOkC,GAAQ5I,UAAW4I,EAAM,GAEpD,OAAOc,GAASvd,KAAM+c,EAASmB,MAAY,SAAU1d,GAAK,OAAO8e,GAAiB9e,EAAG+Z,MAGvF,SAAS8F,GAAYtD,GAEnB,IADA,IAAIxC,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OAAS,EACjCyZ,KAAQ,GAAIlC,EAAOkC,GAAQ5I,UAAW4I,EAAM,GAEpD,OAAOc,GAASvd,KAAM+c,EAASmB,MAAY,SAAU1d,GAAK,OAAOif,GAAqBjf,EAAG+Z,MAI3F,SAAS0E,GAAc9X,GACrB,IAAImZ,EAAUtgB,KAAKugB,YAEnB,OADApZ,EAAGmZ,GACIA,EAAQE,aAAeF,EAAQG,cAAczgB,KAAKgf,WAAahf,KAGxE,SAASugB,KACP,OAAOvgB,KAAKgf,UAAYhf,KAAOA,KAAKygB,cAAc,IAAI7S,GAGxD,SAAS8S,KACP,OAAO1gB,KAAKygB,gBAGd,SAASD,KACP,OAAOxgB,KAAK2gB,UAvlCdlI,GAAkBzW,UAAU8Q,YAAc6E,GAAgB3V,UAAU8Q,YAAc8F,GAAc5W,UAAU8Q,YAAcgG,GAAoB9W,UAAU8Q,YAAcuG,GA0lCpK,IAAIuH,GAAoB,SAAUC,GAChC,SAASD,EAAIvf,GACX,OAAOA,QACH6c,KACArJ,EAAMxT,KAAWsP,EAAUtP,GACzBA,EACA6c,KAAWe,eAAc,SAAUla,GACjC,IAAI+I,EAAO+S,EAAmBxf,GAC9Bwb,GAAkB/O,EAAKC,MACvBD,EAAKtD,SAAQ,SAAUuB,EAAGxF,GAAK,OAAOxB,EAAIoS,IAAI5Q,EAAGwF,SA2H3D,OAvHK8U,IAAqBD,EAAIjR,UAAYkR,GAC1CD,EAAI5e,UAAYlB,OAAOY,OAAQmf,GAAsBA,EAAmB7e,WACxE4e,EAAI5e,UAAU4N,YAAcgR,EAE5BA,EAAIhN,GAAK,WAEP,IADA,IAAIkN,EAAY,GAAIrE,EAAM5I,UAAU7Q,OAC5ByZ,KAAQqE,EAAWrE,GAAQ5I,UAAW4I,GAE9C,OAAOyB,KAAWe,eAAc,SAAUla,GACxC,IAAK,IAAI3E,EAAI,EAAGA,EAAI0gB,EAAU9d,OAAQ5C,GAAK,EAAG,CAC5C,GAAIA,EAAI,GAAK0gB,EAAU9d,OACrB,MAAM,IAAIqU,MAAM,0BAA4ByJ,EAAU1gB,IAExD2E,EAAIoS,IAAI2J,EAAU1gB,GAAI0gB,EAAU1gB,EAAI,SAK1CwgB,EAAI5e,UAAUsF,SAAW,WACvB,OAAOtH,KAAK6S,WAAW,QAAS,MAKlC+N,EAAI5e,UAAUf,IAAM,SAAcsF,EAAG2N,GACnC,OAAOlU,KAAK+gB,MACR/gB,KAAK+gB,MAAM9f,IAAI,OAAG+J,EAAWzE,EAAG2N,GAChCA,GAKN0M,EAAI5e,UAAUmV,IAAM,SAAc5Q,EAAGwF,GACnC,OAAOiV,GAAUhhB,KAAMuG,EAAGwF,IAG5B6U,EAAI5e,UAAUqb,OAAS,SAAiB9W,GACtC,OAAOya,GAAUhhB,KAAMuG,EAAGkH,IAG5BmT,EAAI5e,UAAUif,UAAY,SAAoB7X,GAC5C,IAAIqL,EAAalF,EAAWnG,GAE5B,OAAwB,IAApBqL,EAAW1G,KACN/N,KAGFA,KAAKif,eAAc,SAAUla,GAClC0P,EAAWjK,SAAQ,SAAU7I,GAAO,OAAOoD,EAAIsY,OAAO1b,UAI1Dif,EAAI5e,UAAUkf,MAAQ,WACpB,OAAkB,IAAdlhB,KAAK+N,KACA/N,KAELA,KAAKgf,WACPhf,KAAK+N,KAAO,EACZ/N,KAAK+gB,MAAQ,KACb/gB,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEFke,MAKT0C,EAAI5e,UAAUsZ,KAAO,SAAeF,GAElC,OAAOgG,GAAWjG,GAAYnb,KAAMob,KAGtCwF,EAAI5e,UAAUqf,OAAS,SAAiBhJ,EAAQ+C,GAE9C,OAAOgG,GAAWjG,GAAYnb,KAAMob,EAAY/C,KAGlDuI,EAAI5e,UAAU+C,IAAM,SAAcsT,EAAQC,GACxC,OAAOtY,KAAKif,eAAc,SAAUla,GAClCA,EAAIyF,SAAQ,SAAUnJ,EAAOM,GAC3BoD,EAAIoS,IAAIxV,EAAK0W,EAAO9X,KAAK+X,EAASjX,EAAOM,EAAKoD,WAOpD6b,EAAI5e,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACpD,OAAO,IAAIgV,GAAYthB,KAAMkR,EAAM5E,IAGrCsU,EAAI5e,UAAUgM,UAAY,SAAoB7G,EAAImF,GAChD,IAAI4L,EAASlY,KAET2U,EAAa,EAMjB,OALA3U,KAAK+gB,OACH/gB,KAAK+gB,MAAMQ,SAAQ,SAAUnO,GAE3B,OADAuB,IACOxN,EAAGiM,EAAM,GAAIA,EAAM,GAAI8E,KAC7B5L,GACEqI,GAGTiM,EAAI5e,UAAUye,cAAgB,SAAwBe,GACpD,OAAIA,IAAYxhB,KAAKgf,UACZhf,KAEJwhB,EAQEC,GAAQzhB,KAAK+N,KAAM/N,KAAK+gB,MAAOS,EAASxhB,KAAKmhB,QAPhC,IAAdnhB,KAAK+N,KACAmQ,MAETle,KAAKgf,UAAYwC,EACjBxhB,KAAK2gB,WAAY,EACV3gB,OAKJ4gB,EApIc,CAqIrBnR,GAEFmR,GAAI/L,MAAQA,EAEZ,IAAI6M,GAAed,GAAI5e,UACvB0f,GAtuDoB,0BAsuDU,EAC9BA,GAAmB,OAAIA,GAAarE,OACpCqE,GAAaC,UAAYD,GAAaT,UACtCS,GAAavD,MAAQC,GACrBsD,GAAarD,SAAWqD,GAAapD,SAAWA,GAChDoD,GAAanD,OAASC,GACtBkD,GAAanE,SAAWkB,GACxBiD,GAAahD,MAAQgD,GAAahZ,OAASgW,GAC3CgD,GAAa9C,UAAYA,GACzB8C,GAAalC,UAAYU,GACzBwB,GAAahC,cAAgBS,GAC7BuB,GAAatB,QAAUA,GACvBsB,GAAarB,YAAcA,GAC3BqB,GAAazC,cAAgBA,GAC7ByC,GAAalB,WAAaA,GAC1BkB,GAAahB,YAAcA,GAC3BgB,GAAa,qBAAuBA,GAAanB,UAAYA,GAC7DmB,GAAa,qBAAuB,SAASle,EAAQ+Y,GACnD,OAAO/Y,EAAO2T,IAAIoF,EAAI,GAAIA,EAAI,KAEhCmF,GAAa,uBAAyB,SAASnL,GAC7C,OAAOA,EAAImK,eAKb,IAAIkB,GAAe,SAAsBJ,EAASzI,GAChD/Y,KAAKwhB,QAAUA,EACfxhB,KAAK+Y,QAAUA,GAGjB6I,GAAa5f,UAAUf,IAAM,SAAc4D,EAAOgd,EAASlgB,EAAKuS,GAE9D,IADA,IAAI6E,EAAU/Y,KAAK+Y,QACV3E,EAAK,EAAGqI,EAAM1D,EAAQ/V,OAAQoR,EAAKqI,EAAKrI,IAC/C,GAAIiB,EAAG1T,EAAKoX,EAAQ3E,GAAI,IACtB,OAAO2E,EAAQ3E,GAAI,GAGvB,OAAOF,GAGT0N,GAAa5f,UAAUuc,OAAS,SAAiBiD,EAAS3c,EAAOgd,EAASlgB,EAAKN,EAAOygB,EAAeC,GAMnG,IALA,IAAIC,EAAU3gB,IAAUoM,EAEpBsL,EAAU/Y,KAAK+Y,QACfkJ,EAAM,EACNxF,EAAM1D,EAAQ/V,OACXif,EAAMxF,IACPpH,EAAG1T,EAAKoX,EAAQkJ,GAAK,IADTA,KAKlB,IAAIC,EAASD,EAAMxF,EAEnB,GAAIyF,EAASnJ,EAAQkJ,GAAK,KAAO5gB,EAAQ2gB,EACvC,OAAOhiB,KAMT,GAHA0N,EAAOqU,IACNC,IAAYE,IAAWxU,EAAOoU,IAE3BE,GAA8B,IAAnBjJ,EAAQ/V,OAAvB,CAIA,IAAKkf,IAAWF,GAAWjJ,EAAQ/V,QAAUmf,GAC3C,OA2eJ,SAAqBX,EAASzI,EAASpX,EAAKN,GACrCmgB,IACHA,EAAU,IAAI5T,GAGhB,IADA,IAAIiJ,EAAO,IAAIuL,GAAUZ,EAAS3L,GAAKlU,GAAM,CAACA,EAAKN,IAC1C+S,EAAK,EAAGA,EAAK2E,EAAQ/V,OAAQoR,IAAM,CAC1C,IAAIhB,EAAQ2F,EAAQ3E,GACpByC,EAAOA,EAAK0H,OAAOiD,EAAS,OAAGxW,EAAWoI,EAAM,GAAIA,EAAM,IAE5D,OAAOyD,EApfEwL,CAAYb,EAASzI,EAASpX,EAAKN,GAG5C,IAAIihB,EAAad,GAAWA,IAAYxhB,KAAKwhB,QACzCe,EAAaD,EAAavJ,EAAUuD,GAAQvD,GAchD,OAZImJ,EACEF,EACFC,IAAQxF,EAAM,EACV8F,EAAW1e,MACV0e,EAAWN,GAAOM,EAAW1e,MAElC0e,EAAWN,GAAO,CAACtgB,EAAKN,GAG1BkhB,EAAW3e,KAAK,CAACjC,EAAKN,IAGpBihB,GACFtiB,KAAK+Y,QAAUwJ,EACRviB,MAGF,IAAI4hB,GAAaJ,EAASe,KAGnC,IAAIC,GAAoB,SAA2BhB,EAASiB,EAAQC,GAClE1iB,KAAKwhB,QAAUA,EACfxhB,KAAKyiB,OAASA,EACdziB,KAAK0iB,MAAQA,GAGfF,GAAkBxgB,UAAUf,IAAM,SAAc4D,EAAOgd,EAASlgB,EAAKuS,QACnDlJ,IAAZ6W,IACFA,EAAUhM,GAAKlU,IAEjB,IAAIghB,EAAM,IAx7EDC,IAw7EkB,IAAV/d,EAAcgd,EAAUA,IAAYhd,IACjD4d,EAASziB,KAAKyiB,OAClB,OAA0B,IAAlBA,EAASE,GACbzO,EACAlU,KAAK0iB,MAAMG,GAASJ,EAAUE,EAAM,IAAK1hB,IACvC4D,EA/7EI,EAg8EJgd,EACAlgB,EACAuS,IAIRsO,GAAkBxgB,UAAUuc,OAAS,SAAiBiD,EAAS3c,EAAOgd,EAASlgB,EAAKN,EAAOygB,EAAeC,QACxF/W,IAAZ6W,IACFA,EAAUhM,GAAKlU,IAEjB,IAAImhB,EAx8EKF,IAw8EoB,IAAV/d,EAAcgd,EAAUA,IAAYhd,GACnD8d,EAAM,GAAKG,EACXL,EAASziB,KAAKyiB,OACdP,EAA4B,IAAlBO,EAASE,GAEvB,IAAKT,GAAU7gB,IAAUoM,EACvB,OAAOzN,KAGT,IAAIiiB,EAAMY,GAASJ,EAAUE,EAAM,GAC/BD,EAAQ1iB,KAAK0iB,MACb7L,EAAOqL,EAASQ,EAAMT,QAAOjX,EAC7B+X,EAAUC,GACZnM,EACA2K,EACA3c,EAz9EQ,EA09ERgd,EACAlgB,EACAN,EACAygB,EACAC,GAGF,GAAIgB,IAAYlM,EACd,OAAO7W,KAGT,IAAKkiB,GAAUa,GAAWL,EAAM1f,QAAUigB,GACxC,OAqbJ,SAAqBzB,EAASkB,EAAOD,EAAQS,EAAWrM,GAGtD,IAFA,IAAIsM,EAAQ,EACRC,EAAgB,IAAIjd,MA55Ff,IA65FAiO,EAAK,EAAc,IAAXqO,EAAcrO,IAAMqO,KAAY,EAC/CW,EAAchP,GAAe,EAATqO,EAAaC,EAAMS,UAAWnY,EAGpD,OADAoY,EAAcF,GAAarM,EACpB,IAAIwM,GAAiB7B,EAAS2B,EAAQ,EAAGC,GA5bvCE,CAAY9B,EAASkB,EAAOD,EAAQK,EAAaC,GAG1D,GACEb,IACCa,GACgB,IAAjBL,EAAM1f,QACNugB,GAAWb,EAAY,EAANT,IAEjB,OAAOS,EAAY,EAANT,GAGf,GAAIC,GAAUa,GAA4B,IAAjBL,EAAM1f,QAAgBugB,GAAWR,GACxD,OAAOA,EAGT,IAAIT,EAAad,GAAWA,IAAYxhB,KAAKwhB,QACzCgC,EAAYtB,EAAUa,EAAUN,EAASA,EAASE,EAAOF,EAASE,EAClEc,EAAWvB,EACXa,EACEW,GAAMhB,EAAOT,EAAKc,EAAST,GA6cnC,SAAmBtO,EAAOiO,EAAK0B,GAC7B,IAAIC,EAAS5P,EAAMhR,OAAS,EAC5B,GAAI2gB,GAAW1B,IAAQ2B,EAErB,OADA5P,EAAMnQ,MACCmQ,EAIT,IAFA,IAAI6P,EAAW,IAAI1d,MAAMyd,GACrBE,EAAQ,EACH1P,EAAK,EAAGA,EAAKwP,EAAQxP,IACxBA,IAAO6N,IACT6B,EAAQ,GAEVD,EAASzP,GAAMJ,EAAMI,EAAK0P,GAE5B,OAAOD,EA1dDE,CAAUrB,EAAOT,EAAKK,GAyb9B,SAAkBtO,EAAOiO,EAAK+B,EAAKL,GACjC,IAAIC,EAAS5P,EAAMhR,OAAS,EAC5B,GAAI2gB,GAAW1B,EAAM,IAAM2B,EAEzB,OADA5P,EAAMiO,GAAO+B,EACNhQ,EAIT,IAFA,IAAI6P,EAAW,IAAI1d,MAAMyd,GACrBE,EAAQ,EACH1P,EAAK,EAAGA,EAAKwP,EAAQxP,IACxBA,IAAO6N,GACT4B,EAASzP,GAAM4P,EACfF,GAAS,GAETD,EAASzP,GAAMJ,EAAMI,EAAK0P,GAG9B,OAAOD,EAxcHI,CAASvB,EAAOT,EAAKc,EAAST,GAElC,OAAIA,GACFtiB,KAAKyiB,OAASe,EACdxjB,KAAK0iB,MAAQe,EACNzjB,MAGF,IAAIwiB,GAAkBhB,EAASgC,EAAWC,IAGnD,IAAIJ,GAAmB,SAA0B7B,EAAS2B,EAAOT,GAC/D1iB,KAAKwhB,QAAUA,EACfxhB,KAAKmjB,MAAQA,EACbnjB,KAAK0iB,MAAQA,GAGfW,GAAiBrhB,UAAUf,IAAM,SAAc4D,EAAOgd,EAASlgB,EAAKuS,QAClDlJ,IAAZ6W,IACFA,EAAUhM,GAAKlU,IAEjB,IAAIsgB,EA/gFKW,IA+gFY,IAAV/d,EAAcgd,EAAUA,IAAYhd,GAC3CgS,EAAO7W,KAAK0iB,MAAMT,GACtB,OAAOpL,EACHA,EAAK5V,IAAI4D,EAphFH,EAohFkBgd,EAASlgB,EAAKuS,GACtCA,GAGNmP,GAAiBrhB,UAAUuc,OAAS,SAAiBiD,EAAS3c,EAAOgd,EAASlgB,EAAKN,EAAOygB,EAAeC,QACvF/W,IAAZ6W,IACFA,EAAUhM,GAAKlU,IAEjB,IAAIsgB,EA1hFKW,IA0hFY,IAAV/d,EAAcgd,EAAUA,IAAYhd,GAC3Cmd,EAAU3gB,IAAUoM,EACpBiV,EAAQ1iB,KAAK0iB,MACb7L,EAAO6L,EAAMT,GAEjB,GAAID,IAAYnL,EACd,OAAO7W,KAGT,IAAI+iB,EAAUC,GACZnM,EACA2K,EACA3c,EAxiFQ,EAyiFRgd,EACAlgB,EACAN,EACAygB,EACAC,GAEF,GAAIgB,IAAYlM,EACd,OAAO7W,KAGT,IAAIkkB,EAAWlkB,KAAKmjB,MACpB,GAAKtM,GAEE,IAAKkM,KACVmB,EACeC,GACb,OAoVN,SAAmB3C,EAASkB,EAAOS,EAAOiB,GAIxC,IAHA,IAAI3B,EAAS,EACT4B,EAAW,EACXC,EAAc,IAAIne,MAAMgd,GACnB/O,EAAK,EAAGuO,EAAM,EAAGlG,EAAMiG,EAAM1f,OAAQoR,EAAKqI,EAAKrI,IAAMuO,IAAQ,EAAG,CACvE,IAAI9L,EAAO6L,EAAMtO,QACJpJ,IAAT6L,GAAsBzC,IAAOgQ,IAC/B3B,GAAUE,EACV2B,EAAYD,KAAcxN,GAG9B,OAAO,IAAI2L,GAAkBhB,EAASiB,EAAQ6B,GA/VnCC,CAAU/C,EAASkB,EAAOwB,EAAUjC,QAJ7CiC,IAQF,IAAI5B,EAAad,GAAWA,IAAYxhB,KAAKwhB,QACzCiC,EAAWC,GAAMhB,EAAOT,EAAKc,EAAST,GAE1C,OAAIA,GACFtiB,KAAKmjB,MAAQe,EACblkB,KAAK0iB,MAAQe,EACNzjB,MAGF,IAAIqjB,GAAiB7B,EAAS0C,EAAUT,IAGjD,IAAIe,GAAoB,SAA2BhD,EAASK,EAAS9I,GACnE/Y,KAAKwhB,QAAUA,EACfxhB,KAAK6hB,QAAUA,EACf7hB,KAAK+Y,QAAUA,GAGjByL,GAAkBxiB,UAAUf,IAAM,SAAc4D,EAAOgd,EAASlgB,EAAKuS,GAEnE,IADA,IAAI6E,EAAU/Y,KAAK+Y,QACV3E,EAAK,EAAGqI,EAAM1D,EAAQ/V,OAAQoR,EAAKqI,EAAKrI,IAC/C,GAAIiB,EAAG1T,EAAKoX,EAAQ3E,GAAI,IACtB,OAAO2E,EAAQ3E,GAAI,GAGvB,OAAOF,GAGTsQ,GAAkBxiB,UAAUuc,OAAS,SAAiBiD,EAAS3c,EAAOgd,EAASlgB,EAAKN,EAAOygB,EAAeC,QACxF/W,IAAZ6W,IACFA,EAAUhM,GAAKlU,IAGjB,IAAIqgB,EAAU3gB,IAAUoM,EAExB,GAAIoU,IAAY7hB,KAAK6hB,QACnB,OAAIG,EACKhiB,MAET0N,EAAOqU,GACPrU,EAAOoU,GACA2C,GAAczkB,KAAMwhB,EAAS3c,EAAOgd,EAAS,CAAClgB,EAAKN,KAM5D,IAHA,IAAI0X,EAAU/Y,KAAK+Y,QACfkJ,EAAM,EACNxF,EAAM1D,EAAQ/V,OACXif,EAAMxF,IACPpH,EAAG1T,EAAKoX,EAAQkJ,GAAK,IADTA,KAKlB,IAAIC,EAASD,EAAMxF,EAEnB,GAAIyF,EAASnJ,EAAQkJ,GAAK,KAAO5gB,EAAQ2gB,EACvC,OAAOhiB,KAMT,GAHA0N,EAAOqU,IACNC,IAAYE,IAAWxU,EAAOoU,GAE3BE,GAAmB,IAARvF,EACb,OAAO,IAAI2F,GAAUZ,EAASxhB,KAAK6hB,QAAS9I,EAAc,EAANkJ,IAGtD,IAAIK,EAAad,GAAWA,IAAYxhB,KAAKwhB,QACzCe,EAAaD,EAAavJ,EAAUuD,GAAQvD,GAchD,OAZImJ,EACEF,EACFC,IAAQxF,EAAM,EACV8F,EAAW1e,MACV0e,EAAWN,GAAOM,EAAW1e,MAElC0e,EAAWN,GAAO,CAACtgB,EAAKN,GAG1BkhB,EAAW3e,KAAK,CAACjC,EAAKN,IAGpBihB,GACFtiB,KAAK+Y,QAAUwJ,EACRviB,MAGF,IAAIwkB,GAAkBhD,EAASxhB,KAAK6hB,QAASU,IAGtD,IAAIH,GAAY,SAAmBZ,EAASK,EAASzO,GACnDpT,KAAKwhB,QAAUA,EACfxhB,KAAK6hB,QAAUA,EACf7hB,KAAKoT,MAAQA,GAGfgP,GAAUpgB,UAAUf,IAAM,SAAc4D,EAAOgd,EAASlgB,EAAKuS,GAC3D,OAAOmB,EAAG1T,EAAK3B,KAAKoT,MAAM,IAAMpT,KAAKoT,MAAM,GAAKc,GAGlDkO,GAAUpgB,UAAUuc,OAAS,SAAiBiD,EAAS3c,EAAOgd,EAASlgB,EAAKN,EAAOygB,EAAeC,GAChG,IAAIC,EAAU3gB,IAAUoM,EACpBiX,EAAWrP,EAAG1T,EAAK3B,KAAKoT,MAAM,IAClC,OAAIsR,EAAWrjB,IAAUrB,KAAKoT,MAAM,GAAK4O,GAChChiB,MAGT0N,EAAOqU,GAEHC,OACFtU,EAAOoU,GAIL4C,EACElD,GAAWA,IAAYxhB,KAAKwhB,SAC9BxhB,KAAKoT,MAAM,GAAK/R,EACTrB,MAEF,IAAIoiB,GAAUZ,EAASxhB,KAAK6hB,QAAS,CAAClgB,EAAKN,KAGpDqM,EAAOoU,GACA2C,GAAczkB,KAAMwhB,EAAS3c,EAAOgR,GAAKlU,GAAM,CAACA,EAAKN,OAK9DugB,GAAa5f,UAAUuf,QAAUiD,GAAkBxiB,UAAUuf,QAAU,SACrEpa,EACAmF,GAGA,IADA,IAAIyM,EAAU/Y,KAAK+Y,QACV3E,EAAK,EAAGuQ,EAAW5L,EAAQ/V,OAAS,EAAGoR,GAAMuQ,EAAUvQ,IAC9D,IAAkD,IAA9CjN,EAAG4R,EAAQzM,EAAUqY,EAAWvQ,EAAKA,IACvC,OAAO,GAKboO,GAAkBxgB,UAAUuf,QAAU8B,GAAiBrhB,UAAUuf,QAAU,SACzEpa,EACAmF,GAGA,IADA,IAAIoW,EAAQ1iB,KAAK0iB,MACRtO,EAAK,EAAGuQ,EAAWjC,EAAM1f,OAAS,EAAGoR,GAAMuQ,EAAUvQ,IAAM,CAClE,IAAIyC,EAAO6L,EAAMpW,EAAUqY,EAAWvQ,EAAKA,GAC3C,GAAIyC,IAAsC,IAA9BA,EAAK0K,QAAQpa,EAAImF,GAC3B,OAAO,IAMb8V,GAAUpgB,UAAUuf,QAAU,SAASpa,EAAImF,GACzC,OAAOnF,EAAGnH,KAAKoT,QAGjB,IAyEIwR,GAzEAtD,GAA4B,SAAUuD,GACxC,SAASvD,EAAYvc,EAAKmM,EAAM5E,GAC9BtM,KAAK8kB,MAAQ5T,EACblR,KAAK+kB,SAAWzY,EAChBtM,KAAKglB,OAASjgB,EAAIgc,OAASkE,GAAiBlgB,EAAIgc,OA4ClD,OAzCK8D,IAAcvD,EAAY3R,UAAYkV,GAC3CvD,EAAYtf,UAAYlB,OAAOY,OAAQmjB,GAAeA,EAAY7iB,WAClEsf,EAAYtf,UAAU4N,YAAc0R,EAEpCA,EAAYtf,UAAU8H,KAAO,WAG3B,IAFA,IAAIoH,EAAOlR,KAAK8kB,MACZhZ,EAAQ9L,KAAKglB,OACVlZ,GAAO,CACZ,IAAI+K,EAAO/K,EAAM+K,KACb1I,EAAQrC,EAAMqC,QACdwW,OAAW,EACf,GAAI9N,EAAKzD,OACP,GAAc,IAAVjF,EACF,OAAO+W,GAAiBhU,EAAM2F,EAAKzD,YAEhC,GAAIyD,EAAKkC,SAEd,GAAI5K,IADJwW,EAAW9N,EAAKkC,QAAQ/V,OAAS,GAE/B,OAAOkiB,GACLhU,EACA2F,EAAKkC,QAAQ/Y,KAAK+kB,SAAWJ,EAAWxW,EAAQA,SAKpD,GAAIA,IADJwW,EAAW9N,EAAK6L,MAAM1f,OAAS,GACR,CACrB,IAAImiB,EAAUtO,EAAK6L,MAAM1iB,KAAK+kB,SAAWJ,EAAWxW,EAAQA,GAC5D,GAAIgX,EAAS,CACX,GAAIA,EAAQ/R,MACV,OAAO8R,GAAiBhU,EAAMiU,EAAQ/R,OAExCtH,EAAQ9L,KAAKglB,OAASC,GAAiBE,EAASrZ,GAElD,SAGJA,EAAQ9L,KAAKglB,OAAShlB,KAAKglB,OAAOI,OAEpC,MA7iFK,CAAE/jB,WAAO2J,EAAWoG,MAAM,IAgjF1BkQ,EAhDsB,CAiD7BtQ,GAEF,SAASkU,GAAiBhU,EAAMkC,GAC9B,OAAOnC,EAAcC,EAAMkC,EAAM,GAAIA,EAAM,IAG7C,SAAS6R,GAAiBpO,EAAMwO,GAC9B,MAAO,CACLxO,KAAMA,EACN1I,MAAO,EACPiX,OAAQC,GAIZ,SAAS5D,GAAQ1T,EAAMrO,EAAM8hB,EAAS8D,GACpC,IAAIvgB,EAAMjE,OAAOY,OAAOggB,IAMxB,OALA3c,EAAIgJ,KAAOA,EACXhJ,EAAIgc,MAAQrhB,EACZqF,EAAIia,UAAYwC,EAChBzc,EAAIoc,OAASmE,EACbvgB,EAAI4b,WAAY,EACT5b,EAIT,SAASmZ,KACP,OAAO0G,KAAcA,GAAYnD,GAAQ,IAG3C,SAAST,GAAUjc,EAAKwB,EAAGwF,GACzB,IAAIwZ,EACAC,EACJ,GAAKzgB,EAAIgc,MAMF,CACL,IAAIe,EAvyFC,CAAEzgB,OAAO,GAwyFV0gB,EAxyFC,CAAE1gB,OAAO,GAmzFd,GAVAkkB,EAAUvC,GACRje,EAAIgc,MACJhc,EAAIia,UACJ,OACAhU,EACAzE,EACAwF,EACA+V,EACAC,IAEGA,EAAS1gB,MACZ,OAAO0D,EAETygB,EAAUzgB,EAAIgJ,MAAQ+T,EAAczgB,MAAS0K,IAAM0B,GAAW,EAAI,EAAK,OAtBzD,CACd,GAAI1B,IAAM0B,EACR,OAAO1I,EAETygB,EAAU,EACVD,EAAU,IAAI3D,GAAa7c,EAAIia,UAAW,CAAC,CAACzY,EAAGwF,KAmBjD,OAAIhH,EAAIia,WACNja,EAAIgJ,KAAOyX,EACXzgB,EAAIgc,MAAQwE,EACZxgB,EAAIoc,YAASnW,EACbjG,EAAI4b,WAAY,EACT5b,GAEFwgB,EAAU9D,GAAQ+D,EAASD,GAAWrH,KAG/C,SAAS8E,GACPnM,EACA2K,EACA3c,EACAgd,EACAlgB,EACAN,EACAygB,EACAC,GAEA,OAAKlL,EAQEA,EAAK0H,OACViD,EACA3c,EACAgd,EACAlgB,EACAN,EACAygB,EACAC,GAdI1gB,IAAUoM,EACLoJ,GAETnJ,EAAOqU,GACPrU,EAAOoU,GACA,IAAIM,GAAUZ,EAASK,EAAS,CAAClgB,EAAKN,KAajD,SAASkiB,GAAW1M,GAClB,OACEA,EAAKjH,cAAgBwS,IAAavL,EAAKjH,cAAgB4U,GAI3D,SAASC,GAAc5N,EAAM2K,EAAS3c,EAAOgd,EAASzO,GACpD,GAAIyD,EAAKgL,UAAYA,EACnB,OAAO,IAAI2C,GAAkBhD,EAASK,EAAS,CAAChL,EAAKzD,MAAOA,IAG9D,IAGI2P,EAHA0C,EAl3FK7C,IAk3Fa,IAAV/d,EAAcgS,EAAKgL,QAAUhL,EAAKgL,UAAYhd,GACtD6gB,EAn3FK9C,IAm3Fa,IAAV/d,EAAcgd,EAAUA,IAAYhd,GAG5C6d,EACF+C,IAASC,EACL,CAACjB,GAAc5N,EAAM2K,EAAS3c,EA13F1B,EA03FyCgd,EAASzO,KACpD2P,EAAU,IAAIX,GAAUZ,EAASK,EAASzO,GAC5CqS,EAAOC,EAAO,CAAC7O,EAAMkM,GAAW,CAACA,EAASlM,IAEhD,OAAO,IAAI2L,GAAkBhB,EAAU,GAAKiE,EAAS,GAAKC,EAAOhD,GAuCnE,SAASG,GAAS3d,GAMhB,OAHAA,GADAA,GAAS,WADTA,GAAMA,GAAK,EAAK,cACSA,GAAK,EAAK,aACzBA,GAAK,GAAM,UACrBA,GAAKA,GAAK,EAEC,KADXA,GAAKA,GAAK,IAIZ,SAASwe,GAAM1P,EAAOiO,EAAK+B,EAAKL,GAC9B,IAAIE,EAAWF,EAAU3P,EAAQsI,GAAQtI,GAEzC,OADA6P,EAAS5B,GAAO+B,EACTH,EAuCT,IAAI1B,GAAqBS,EACrBK,GAA0BL,GAC1BuB,GAA0BvB,EAI9B,SAAS+C,GAAOC,GACd,OAAOxd,QAAQwd,GAAaA,EAHT,2BAMrB,IAAIC,GAAqB,SAAUC,GACjC,SAASD,EAAKxkB,GACZ,IAAI0kB,EAAQC,KACZ,GAAI3kB,QACF,OAAO0kB,EAET,GAAIJ,GAAOtkB,GACT,OAAOA,EAET,IAAIyM,EAAOgY,EAAqBzkB,GAC5B0M,EAAOD,EAAKC,KAChB,OAAa,IAATA,EACKgY,GAETlJ,GAAkB9O,GACdA,EAAO,GAAKA,EAh/FT,GAi/FEkY,GAAS,EAAGlY,EAl/Fb,EAk/F0B,KAAM,IAAImY,GAAMpY,EAAKoF,YAEhD6S,EAAM9G,eAAc,SAAUkH,GACnCA,EAAKC,QAAQrY,GACbD,EAAKtD,SAAQ,SAAUuB,EAAG3L,GAAK,OAAO+lB,EAAKhP,IAAI/W,EAAG2L,UAkMtD,OA9LK+Z,IAAuBD,EAAKlW,UAAYmW,GAC7CD,EAAK7jB,UAAYlB,OAAOY,OAAQokB,GAAwBA,EAAqB9jB,WAC7E6jB,EAAK7jB,UAAU4N,YAAciW,EAE7BA,EAAKjS,GAAK,WACR,OAAO5T,KAAK6T,YAGdgS,EAAK7jB,UAAUsF,SAAW,WACxB,OAAOtH,KAAK6S,WAAW,SAAU,MAKnCgT,EAAK7jB,UAAUf,IAAM,SAAckN,EAAO+F,GAExC,IADA/F,EAAQD,EAAUlO,KAAMmO,KACX,GAAKA,EAAQnO,KAAK+N,KAAM,CAEnC,IAAI8I,EAAOwP,GAAYrmB,KADvBmO,GAASnO,KAAKsmB,SAEd,OAAOzP,GAAQA,EAAK7C,MA3gGf4O,GA2gGqBzU,GAE5B,OAAO+F,GAKT2R,EAAK7jB,UAAUmV,IAAM,SAAchJ,EAAO9M,GACxC,OAkVJ,SAAoB8kB,EAAMhY,EAAO9M,GAG/B,IAFA8M,EAAQD,EAAUiY,EAAMhY,KAEVA,EACZ,OAAOgY,EAGT,GAAIhY,GAASgY,EAAKpY,MAAQI,EAAQ,EAChC,OAAOgY,EAAKlH,eAAc,SAAUkH,GAClChY,EAAQ,EACJoY,GAAcJ,EAAMhY,GAAOgJ,IAAI,EAAG9V,GAClCklB,GAAcJ,EAAM,EAAGhY,EAAQ,GAAGgJ,IAAIhJ,EAAO9M,MAIrD8M,GAASgY,EAAKG,QAEd,IAAIE,EAAUL,EAAKM,MACflB,EAAUY,EAAKpF,MACfgB,EAh3GG,CAAE1gB,OAAO,GAi3GZ8M,GAASuY,GAAcP,EAAKQ,WAC9BH,EAAUI,GAAYJ,EAASL,EAAKnH,UAAW,EAAG7Q,EAAO9M,EAAO0gB,GAEhEwD,EAAUqB,GACRrB,EACAY,EAAKnH,UACLmH,EAAKU,OACL1Y,EACA9M,EACA0gB,GAIJ,IAAKA,EAAS1gB,MACZ,OAAO8kB,EAGT,GAAIA,EAAKnH,UAKP,OAJAmH,EAAKpF,MAAQwE,EACbY,EAAKM,MAAQD,EACbL,EAAKhF,YAASnW,EACdmb,EAAKxF,WAAY,EACVwF,EAET,OAAOF,GAASE,EAAKG,QAASH,EAAKQ,UAAWR,EAAKU,OAAQtB,EAASiB,GA9X3DM,CAAW9mB,KAAMmO,EAAO9M,IAGjCwkB,EAAK7jB,UAAUqb,OAAS,SAAiBlP,GACvC,OAAQnO,KAAKmU,IAAIhG,GAEH,IAAVA,EACEnO,KAAK6E,QACLsJ,IAAUnO,KAAK+N,KAAO,EACpB/N,KAAK6D,MACL7D,KAAK4M,OAAOuB,EAAO,GALvBnO,MAQN6lB,EAAK7jB,UAAU+kB,OAAS,SAAiB5Y,EAAO9M,GAC9C,OAAOrB,KAAK4M,OAAOuB,EAAO,EAAG9M,IAG/BwkB,EAAK7jB,UAAUkf,MAAQ,WACrB,OAAkB,IAAdlhB,KAAK+N,KACA/N,KAELA,KAAKgf,WACPhf,KAAK+N,KAAO/N,KAAKsmB,QAAUtmB,KAAK2mB,UAAY,EAC5C3mB,KAAK6mB,OA5iGC,EA6iGN7mB,KAAK+gB,MAAQ/gB,KAAKymB,MAAQ,KAC1BzmB,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEFgmB,MAGTH,EAAK7jB,UAAU4B,KAAO,WACpB,IAAIgE,EAASiM,UACTmT,EAAUhnB,KAAK+N,KACnB,OAAO/N,KAAKif,eAAc,SAAUkH,GAClCI,GAAcJ,EAAM,EAAGa,EAAUpf,EAAO5E,QACxC,IAAK,IAAIoR,EAAK,EAAGA,EAAKxM,EAAO5E,OAAQoR,IACnC+R,EAAKhP,IAAI6P,EAAU5S,EAAIxM,EAAOwM,QAKpCyR,EAAK7jB,UAAU6B,IAAM,WACnB,OAAO0iB,GAAcvmB,KAAM,GAAI,IAGjC6lB,EAAK7jB,UAAUilB,QAAU,WACvB,IAAIrf,EAASiM,UACb,OAAO7T,KAAKif,eAAc,SAAUkH,GAClCI,GAAcJ,GAAOve,EAAO5E,QAC5B,IAAK,IAAIoR,EAAK,EAAGA,EAAKxM,EAAO5E,OAAQoR,IACnC+R,EAAKhP,IAAI/C,EAAIxM,EAAOwM,QAK1ByR,EAAK7jB,UAAU6C,MAAQ,WACrB,OAAO0hB,GAAcvmB,KAAM,IAK7B6lB,EAAK7jB,UAAU0G,OAAS,WAItB,IAHA,IAAIwe,EAAcrT,UAEdsT,EAAO,GACF/mB,EAAI,EAAGA,EAAIyT,UAAU7Q,OAAQ5C,IAAK,CACzC,IAAIgnB,EAAWF,EAAY9mB,GACvBqS,EAAMqT,EACY,iBAAbsB,GAAyB9V,EAAY8V,GACxCA,EACA,CAACA,IAEU,IAAb3U,EAAI1E,MACNoZ,EAAKvjB,KAAK6O,GAGd,OAAoB,IAAhB0U,EAAKnkB,OACAhD,KAES,IAAdA,KAAK+N,MAAe/N,KAAKgf,WAA6B,IAAhBmI,EAAKnkB,OAGxChD,KAAKif,eAAc,SAAUkH,GAClCgB,EAAK3c,SAAQ,SAAUiI,GAAO,OAAOA,EAAIjI,SAAQ,SAAUnJ,GAAS,OAAO8kB,EAAKviB,KAAKvC,YAH9ErB,KAAK4P,YAAYuX,EAAK,KAOjCtB,EAAK7jB,UAAUokB,QAAU,SAAkBrY,GACzC,OAAOwY,GAAcvmB,KAAM,EAAG+N,IAGhC8X,EAAK7jB,UAAU+C,IAAM,SAAcsT,EAAQC,GACzC,IAAIJ,EAASlY,KAEb,OAAOA,KAAKif,eAAc,SAAUkH,GAClC,IAAK,IAAI/lB,EAAI,EAAGA,EAAI8X,EAAOnK,KAAM3N,IAC/B+lB,EAAKhP,IAAI/W,EAAGiY,EAAO9X,KAAK+X,EAAS6N,EAAKllB,IAAIb,GAAIA,EAAG+lB,QAOvDN,EAAK7jB,UAAUc,MAAQ,SAAgByL,EAAO3L,GAC5C,IAAImL,EAAO/N,KAAK+N,KAChB,OAAIO,EAAWC,EAAO3L,EAAKmL,GAClB/N,KAEFumB,GACLvmB,KACAyO,EAAaF,EAAOR,GACpBY,EAAW/L,EAAKmL,KAIpB8X,EAAK7jB,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACrD,IAAI6B,EAAQ7B,EAAUtM,KAAK+N,KAAO,EAC9BnG,EAASyf,GAAYrnB,KAAMsM,GAC/B,OAAO,IAAI0E,GAAS,WAClB,IAAI3P,EAAQuG,IACZ,OAAOvG,IAAUimB,GAt7Fd,CAAEjmB,WAAO2J,EAAWoG,MAAM,GAw7FzBH,EAAcC,EAAM5E,IAAY6B,EAAQA,IAAS9M,OAIzDwkB,EAAK7jB,UAAUgM,UAAY,SAAoB7G,EAAImF,GAIjD,IAHA,IAEIjL,EAFA8M,EAAQ7B,EAAUtM,KAAK+N,KAAO,EAC9BnG,EAASyf,GAAYrnB,KAAMsM,IAEvBjL,EAAQuG,OAAc0f,KACyB,IAAjDngB,EAAG9F,EAAOiL,IAAY6B,EAAQA,IAASnO,QAI7C,OAAOmO,GAGT0X,EAAK7jB,UAAUye,cAAgB,SAAwBe,GACrD,OAAIA,IAAYxhB,KAAKgf,UACZhf,KAEJwhB,EAQEyE,GACLjmB,KAAKsmB,QACLtmB,KAAK2mB,UACL3mB,KAAK6mB,OACL7mB,KAAK+gB,MACL/gB,KAAKymB,MACLjF,EACAxhB,KAAKmhB,QAda,IAAdnhB,KAAK+N,KACAiY,MAEThmB,KAAKgf,UAAYwC,EACjBxhB,KAAK2gB,WAAY,EACV3gB,OAaJ6lB,EAtNe,CAuNtBhW,GAEFgW,GAAKF,OAASA,GAEd,IAAI4B,GAAgB1B,GAAK7jB,UACzBulB,GAlOqB,2BAkOW,EAChCA,GAAoB,OAAIA,GAAclK,OACtCkK,GAAc7I,MAAQ6I,GAAc7e,OACpC6e,GAAcpJ,MAAQC,GACtBmJ,GAAcjJ,SAAWiJ,GAAclJ,SAAWC,GAClDiJ,GAAchJ,OAASC,GACvB+I,GAAchK,SAAWkB,GACzB8I,GAAcnH,QAAUA,GACxBmH,GAAclH,YAAcA,GAC5BkH,GAActI,cAAgBA,GAC9BsI,GAAc/G,WAAaA,GAC3B+G,GAAc7G,YAAcA,GAC5B6G,GAAc,qBAAuBA,GAAchH,UAAYA,GAC/DgH,GAAc,qBAAuB,SAAS/jB,EAAQ+Y,GACpD,OAAO/Y,EAAOI,KAAK2Y,IAErBgL,GAAc,uBAAyB,SAAShR,GAC9C,OAAOA,EAAImK,eAGb,IAAIwF,GAAQ,SAAelS,EAAOwN,GAChCxhB,KAAKgU,MAAQA,EACbhU,KAAKwhB,QAAUA,GAKjB0E,GAAMlkB,UAAUwlB,aAAe,SAAuBhG,EAASiG,EAAOtZ,GACpE,GAAIA,IAAUsZ,EAAQ,GAAKA,EAA8B,IAAtBznB,KAAKgU,MAAMhR,OAC5C,OAAOhD,KAET,IAAI0nB,EAAevZ,IAAUsZ,EA3tGpB7E,GA4tGT,GAAI8E,GAAe1nB,KAAKgU,MAAMhR,OAC5B,OAAO,IAAIkjB,GAAM,GAAI1E,GAEvB,IACImG,EADAC,EAAgC,IAAhBF,EAEpB,GAAID,EAAQ,EAAG,CACb,IAAII,EAAW7nB,KAAKgU,MAAM0T,GAG1B,IAFAC,EACEE,GAAYA,EAASL,aAAahG,EAASiG,EAtuGrC,EAsuGoDtZ,MAC3C0Z,GAAYD,EAC3B,OAAO5nB,KAGX,GAAI4nB,IAAkBD,EACpB,OAAO3nB,KAET,IAAI8nB,EAAWC,GAAc/nB,KAAMwhB,GACnC,IAAKoG,EACH,IAAK,IAAIxT,EAAK,EAAGA,EAAKsT,EAAatT,IACjC0T,EAAS9T,MAAMI,QAAMpJ,EAMzB,OAHI2c,IACFG,EAAS9T,MAAM0T,GAAeC,GAEzBG,GAGT5B,GAAMlkB,UAAUgmB,YAAc,SAAsBxG,EAASiG,EAAOtZ,GAClE,GAAIA,KAAWsZ,EAAQ,GAAKA,EAAQ,IAA4B,IAAtBznB,KAAKgU,MAAMhR,OACnD,OAAOhD,KAET,IAKI2nB,EALAM,EAAc9Z,EAAQ,IAAOsZ,EA5vGxB7E,GA6vGT,GAAIqF,GAAajoB,KAAKgU,MAAMhR,OAC1B,OAAOhD,KAIT,GAAIynB,EAAQ,EAAG,CACb,IAAII,EAAW7nB,KAAKgU,MAAMiU,GAG1B,IAFAN,EACEE,GAAYA,EAASG,YAAYxG,EAASiG,EAvwGpC,EAuwGmDtZ,MAC1C0Z,GAAYI,IAAcjoB,KAAKgU,MAAMhR,OAAS,EAC7D,OAAOhD,KAIX,IAAI8nB,EAAWC,GAAc/nB,KAAMwhB,GAKnC,OAJAsG,EAAS9T,MAAMpH,OAAOqb,EAAY,GAC9BN,IACFG,EAAS9T,MAAMiU,GAAaN,GAEvBG,GAGT,IA6EII,GA7EAZ,GAAO,GAEX,SAASD,GAAYlB,EAAM7Z,GACzB,IAAIhJ,EAAO6iB,EAAKG,QACZ/iB,EAAQ4iB,EAAKQ,UACbwB,EAAUzB,GAAcnjB,GACxB6kB,EAAOjC,EAAKM,MAEhB,OAAO4B,EAAkBlC,EAAKpF,MAAOoF,EAAKU,OAAQ,GAElD,SAASwB,EAAkBxR,EAAM4Q,EAAOjL,GACtC,OAAiB,IAAViL,EAKT,SAAqB5Q,EAAM2F,GACzB,IAAIxI,EAAQwI,IAAW2L,EAAUC,GAAQA,EAAKpU,MAAQ6C,GAAQA,EAAK7C,MAC/DvH,EAAO+P,EAASlZ,EAAO,EAAIA,EAAOkZ,EAClC9P,EAAKnJ,EAAQiZ,EACb9P,EAxyGG,KAyyGLA,EAzyGK,IA2yGP,OAAO,WACL,GAAID,IAASC,EACX,OAAO4a,GAET,IAAIrF,EAAM3V,IAAYI,EAAKD,IAC3B,OAAOuH,GAASA,EAAMiO,IAhBpBqG,CAAYzR,EAAM2F,GAoBxB,SAAqB3F,EAAM4Q,EAAOjL,GAChC,IAAI5U,EACAoM,EAAQ6C,GAAQA,EAAK7C,MACrBvH,EAAO+P,EAASlZ,EAAO,EAAKA,EAAOkZ,GAAWiL,EAC9C/a,EAAmC,GAA5BnJ,EAAQiZ,GAAWiL,GAC1B/a,EAzzGG,KA0zGLA,EA1zGK,IA4zGP,OAAO,WACL,OAAa,CACX,GAAI9E,EAAQ,CACV,IAAIvG,EAAQuG,IACZ,GAAIvG,IAAUimB,GACZ,OAAOjmB,EAETuG,EAAS,KAEX,GAAI6E,IAASC,EACX,OAAO4a,GAET,IAAIrF,EAAM3V,IAAYI,EAAKD,IAC3B7E,EAASygB,EACPrU,GAASA,EAAMiO,GACfwF,EA50GE,EA60GFjL,GAAUyF,GAAOwF,MA3CnBc,CAAY1R,EAAM4Q,EAAOjL,IAkDjC,SAASyJ,GAASuC,EAAQC,EAAUhB,EAAO/nB,EAAM0oB,EAAM5G,EAAS3L,GAC9D,IAAIsQ,EAAOrlB,OAAOY,OAAO6lB,IAUzB,OATApB,EAAKpY,KAAO0a,EAAWD,EACvBrC,EAAKG,QAAUkC,EACfrC,EAAKQ,UAAY8B,EACjBtC,EAAKU,OAASY,EACdtB,EAAKpF,MAAQrhB,EACbymB,EAAKM,MAAQ2B,EACbjC,EAAKnH,UAAYwC,EACjB2E,EAAKhF,OAAStL,EACdsQ,EAAKxF,WAAY,EACVwF,EAIT,SAASH,KACP,OAAOkC,KAAeA,GAAajC,GAAS,EAAG,EAp2GrC,IAs5GZ,SAASW,GAAY/P,EAAM2K,EAASiG,EAAOtZ,EAAO9M,EAAO0gB,GACvD,IAMIgB,EANAd,EAAO9T,IAAUsZ,EAr5GZ7E,GAs5GL8F,EAAU7R,GAAQoL,EAAMpL,EAAK7C,MAAMhR,OACvC,IAAK0lB,QAAqB1d,IAAV3J,EACd,OAAOwV,EAKT,GAAI4Q,EAAQ,EAAG,CACb,IAAIkB,EAAY9R,GAAQA,EAAK7C,MAAMiO,GAC/B2G,EAAehC,GACjB+B,EACAnH,EACAiG,EAp6GM,EAq6GNtZ,EACA9M,EACA0gB,GAEF,OAAI6G,IAAiBD,EACZ9R,IAETkM,EAAUgF,GAAclR,EAAM2K,IACtBxN,MAAMiO,GAAO2G,EACd7F,GAGT,OAAI2F,GAAW7R,EAAK7C,MAAMiO,KAAS5gB,EAC1BwV,GAGLkL,GACFrU,EAAOqU,GAGTgB,EAAUgF,GAAclR,EAAM2K,QAChBxW,IAAV3J,GAAuB4gB,IAAQc,EAAQ/O,MAAMhR,OAAS,EACxD+f,EAAQ/O,MAAMnQ,MAEdkf,EAAQ/O,MAAMiO,GAAO5gB,EAEhB0hB,GAGT,SAASgF,GAAclR,EAAM2K,GAC3B,OAAIA,GAAW3K,GAAQ2K,IAAY3K,EAAK2K,QAC/B3K,EAEF,IAAIqP,GAAMrP,EAAOA,EAAK7C,MAAMlR,QAAU,GAAI0e,GAGnD,SAAS6E,GAAYF,EAAM0C,GACzB,GAAIA,GAAYnC,GAAcP,EAAKQ,WACjC,OAAOR,EAAKM,MAEd,GAAIoC,EAAW,GAAM1C,EAAKU,OA78GhB,EA68GiC,CAGzC,IAFA,IAAIhQ,EAAOsP,EAAKpF,MACZ0G,EAAQtB,EAAKU,OACVhQ,GAAQ4Q,EAAQ,GACrB5Q,EAAOA,EAAK7C,MAAO6U,IAAapB,EA/8G3B7E,IAg9GL6E,GAl9GM,EAo9GR,OAAO5Q,GAIX,SAAS0P,GAAcJ,EAAM5X,EAAO3L,QAGpBoI,IAAVuD,IACFA,GAAS,QAECvD,IAARpI,IACFA,GAAO,GAET,IAAIkmB,EAAQ3C,EAAKnH,WAAa,IAAIpR,EAC9Bmb,EAAY5C,EAAKG,QACjB0C,EAAc7C,EAAKQ,UACnBsC,EAAYF,EAAYxa,EACxB2a,OACMle,IAARpI,EACIomB,EACApmB,EAAM,EACJomB,EAAcpmB,EACdmmB,EAAYnmB,EACpB,GAAIqmB,IAAcF,GAAaG,IAAgBF,EAC7C,OAAO7C,EAIT,GAAI8C,GAAaC,EACf,OAAO/C,EAAKjF,QAQd,IALA,IAAIiI,EAAWhD,EAAKU,OAChBtB,EAAUY,EAAKpF,MAGfqI,EAAc,EACXH,EAAYG,EAAc,GAC/B7D,EAAU,IAAIW,GACZX,GAAWA,EAAQvR,MAAMhR,OAAS,MAACgI,EAAWua,GAAW,GACzDuD,GAGFM,GAAe,IADfD,GA9/GQ,GAigHNC,IACFH,GAAaG,EACbL,GAAaK,EACbF,GAAeE,EACfJ,GAAeI,GAOjB,IAJA,IAAIC,EAAgB3C,GAAcsC,GAC9BM,EAAgB5C,GAAcwC,GAG3BI,GAAiB,GAAMH,EA5gHpB,GA6gHR5D,EAAU,IAAIW,GACZX,GAAWA,EAAQvR,MAAMhR,OAAS,CAACuiB,GAAW,GAC9CuD,GAEFK,GAjhHQ,EAqhHV,IAAII,EAAUpD,EAAKM,MACfD,EACF8C,EAAgBD,EACZhD,GAAYF,EAAM+C,EAAc,GAChCI,EAAgBD,EACd,IAAInD,GAAM,GAAI4C,GACdS,EAGR,GACEA,GACAD,EAAgBD,GAChBJ,EAAYD,GACZO,EAAQvV,MAAMhR,OACd,CAGA,IADA,IAAI6T,EADJ0O,EAAUwC,GAAcxC,EAASuD,GAExBrB,EAAQ0B,EAAU1B,EAtiHnB,EAsiHkCA,GAtiHlC,EAsiHkD,CACxD,IAAIxF,EAAOoH,IAAkB5B,EAriHxB7E,GAsiHL/L,EAAOA,EAAK7C,MAAMiO,GAAO8F,GAAclR,EAAK7C,MAAMiO,GAAM6G,GAE1DjS,EAAK7C,MAAOqV,IA1iHJ,EAEDzG,IAwiHwC2G,EASjD,GALIL,EAAcF,IAChBxC,EAAUA,GAAWA,EAAQwB,YAAYc,EAAO,EAAGI,IAIjDD,GAAaK,EACfL,GAAaK,EACbJ,GAAeI,EACfH,EAtjHQ,EAujHR5D,EAAU,KACViB,EAAUA,GAAWA,EAAQgB,aAAasB,EAAO,EAAGG,QAG/C,GAAIA,EAAYF,GAAaO,EAAgBD,EAAe,CAIjE,IAHAD,EAAc,EAGP7D,GAAS,CACd,IAAIiE,EAAcP,IAAcE,EA9jH3BvG,GA+jHL,GAAK4G,IAAeF,IAAkBH,EA/jHjCvG,GAgkHH,MAEE4G,IACFJ,IAAgB,GAAKD,GAAYK,GAEnCL,GAvkHM,EAwkHN5D,EAAUA,EAAQvR,MAAMwV,GAItBjE,GAAW0D,EAAYF,IACzBxD,EAAUA,EAAQiC,aAAasB,EAAOK,EAAUF,EAAYG,IAE1D7D,GAAW+D,EAAgBD,IAC7B9D,EAAUA,EAAQyC,YAChBc,EACAK,EACAG,EAAgBF,IAGhBA,IACFH,GAAaG,EACbF,GAAeE,GAInB,OAAIjD,EAAKnH,WACPmH,EAAKpY,KAAOmb,EAAcD,EAC1B9C,EAAKG,QAAU2C,EACf9C,EAAKQ,UAAYuC,EACjB/C,EAAKU,OAASsC,EACdhD,EAAKpF,MAAQwE,EACbY,EAAKM,MAAQD,EACbL,EAAKhF,YAASnW,EACdmb,EAAKxF,WAAY,EACVwF,GAEFF,GAASgD,EAAWC,EAAaC,EAAU5D,EAASiB,GAG7D,SAASE,GAAc3Y,GACrB,OAAOA,EA1mHE,GA0mHY,EAAMA,EAAO,IA3mHxB,KA8mHZ,IA4GI0b,GA5GArI,GAA2B,SAAUsI,GACvC,SAAStI,EAAW/f,GAClB,OAAOA,QACHsoB,KACA5U,EAAa1T,GACXA,EACAsoB,KAAkB1K,eAAc,SAAUla,GACxC,IAAI+I,EAAO2B,EAAgBpO,GAC3Bwb,GAAkB/O,EAAKC,MACvBD,EAAKtD,SAAQ,SAAUuB,EAAGxF,GAAK,OAAOxB,EAAIoS,IAAI5Q,EAAGwF,SAiF3D,OA7EK2d,IAAStI,EAAWzR,UAAY+Z,GACrCtI,EAAWpf,UAAYlB,OAAOY,OAAQgoB,GAAUA,EAAO1nB,WACvDof,EAAWpf,UAAU4N,YAAcwR,EAEnCA,EAAWxN,GAAK,WACd,OAAO5T,KAAK6T,YAGduN,EAAWpf,UAAUsF,SAAW,WAC9B,OAAOtH,KAAK6S,WAAW,eAAgB,MAKzCuO,EAAWpf,UAAUf,IAAM,SAAcsF,EAAG2N,GAC1C,IAAI/F,EAAQnO,KAAK4pB,KAAK3oB,IAAIsF,GAC1B,YAAiByE,IAAVmD,EAAsBnO,KAAK6pB,MAAM5oB,IAAIkN,GAAO,GAAK+F,GAK1DkN,EAAWpf,UAAUkf,MAAQ,WAC3B,OAAkB,IAAdlhB,KAAK+N,KACA/N,KAELA,KAAKgf,WACPhf,KAAK+N,KAAO,EACZ/N,KAAK4pB,KAAK1I,QACVlhB,KAAK6pB,MAAM3I,QACJlhB,MAEF2pB,MAGTvI,EAAWpf,UAAUmV,IAAM,SAAc5Q,EAAGwF,GAC1C,OAAO+d,GAAiB9pB,KAAMuG,EAAGwF,IAGnCqV,EAAWpf,UAAUqb,OAAS,SAAiB9W,GAC7C,OAAOujB,GAAiB9pB,KAAMuG,EAAGkH,IAGnC2T,EAAWpf,UAAUwe,WAAa,WAChC,OAAOxgB,KAAK4pB,KAAKpJ,cAAgBxgB,KAAK6pB,MAAMrJ,cAG9CY,EAAWpf,UAAUgM,UAAY,SAAoB7G,EAAImF,GACvD,IAAI4L,EAASlY,KAEb,OAAOA,KAAK6pB,MAAM7b,WAChB,SAAUoF,GAAS,OAAOA,GAASjM,EAAGiM,EAAM,GAAIA,EAAM,GAAI8E,KAC1D5L,IAIJ8U,EAAWpf,UAAUqR,WAAa,SAAqBnC,EAAM5E,GAC3D,OAAOtM,KAAK6pB,MAAMrW,eAAeH,WAAWnC,EAAM5E,IAGpD8U,EAAWpf,UAAUye,cAAgB,SAAwBe,GAC3D,GAAIA,IAAYxhB,KAAKgf,UACnB,OAAOhf,KAET,IAAI+pB,EAAS/pB,KAAK4pB,KAAKnJ,cAAce,GACjCwI,EAAUhqB,KAAK6pB,MAAMpJ,cAAce,GACvC,OAAKA,EASEyI,GAAeF,EAAQC,EAASxI,EAASxhB,KAAKmhB,QARjC,IAAdnhB,KAAK+N,KACA4b,MAET3pB,KAAKgf,UAAYwC,EACjBxhB,KAAK4pB,KAAOG,EACZ/pB,KAAK6pB,MAAQG,EACNhqB,OAKJohB,EA1FqB,CA2F5BR,IAOF,SAASqJ,GAAellB,EAAKohB,EAAM3E,EAAS3L,GAC1C,IAAIqU,EAAOppB,OAAOY,OAAO0f,GAAWpf,WAMpC,OALAkoB,EAAKnc,KAAOhJ,EAAMA,EAAIgJ,KAAO,EAC7Bmc,EAAKN,KAAO7kB,EACZmlB,EAAKL,MAAQ1D,EACb+D,EAAKlL,UAAYwC,EACjB0I,EAAK/I,OAAStL,EACPqU,EAIT,SAASP,KACP,OACEF,KACCA,GAAoBQ,GAAe/L,KAAY8H,OAIpD,SAAS8D,GAAiBI,EAAM3jB,EAAGwF,GACjC,IAIIge,EACAC,EALAjlB,EAAMmlB,EAAKN,KACXzD,EAAO+D,EAAKL,MACZzpB,EAAI2E,EAAI9D,IAAIsF,GACZ4N,OAAYnJ,IAAN5K,EAGV,GAAI2L,IAAM0B,EAAS,CAEjB,IAAK0G,EACH,OAAO+V,EAEL/D,EAAKpY,MA7uHF,IA6uHkBoY,EAAKpY,MAAmB,EAAXhJ,EAAIgJ,MAExCgc,GADAC,EAAU7D,EAAKhe,QAAO,SAAUiL,EAAO6O,GAAO,YAAiBjX,IAAVoI,GAAuBhT,IAAM6hB,MAE/E1O,aACAxO,KAAI,SAAUqO,GAAS,OAAOA,EAAM,MACpC/G,OACA8d,QACCD,EAAKlL,YACP+K,EAAO/K,UAAYgL,EAAQhL,UAAYkL,EAAKlL,aAG9C+K,EAAShlB,EAAIsY,OAAO9W,GACpByjB,EAAU5pB,IAAM+lB,EAAKpY,KAAO,EAAIoY,EAAKtiB,MAAQsiB,EAAKhP,IAAI/W,OAAG4K,SAEtD,GAAImJ,EAAK,CACd,GAAIpI,IAAMoa,EAAKllB,IAAIb,GAAG,GACpB,OAAO8pB,EAETH,EAAShlB,EACTilB,EAAU7D,EAAKhP,IAAI/W,EAAG,CAACmG,EAAGwF,SAE1Bge,EAAShlB,EAAIoS,IAAI5Q,EAAG4f,EAAKpY,MACzBic,EAAU7D,EAAKhP,IAAIgP,EAAKpY,KAAM,CAACxH,EAAGwF,IAEpC,OAAIme,EAAKlL,WACPkL,EAAKnc,KAAOgc,EAAOhc,KACnBmc,EAAKN,KAAOG,EACZG,EAAKL,MAAQG,EACbE,EAAK/I,YAASnW,EACPkf,GAEFD,GAAeF,EAAQC,GAlEhC5I,GAAWrM,aAAeA,EAE1BqM,GAAWpf,UAAU0O,IAAqB,EAC1C0Q,GAAWpf,UAAgB,OAAIof,GAAWpf,UAAUqb,OAoEpD,SAAS+M,GAAQC,GACf,OAAOjiB,QAAQiiB,GAAcA,EAHT,4BAMtB,IAAIC,GAAsB,SAAUxE,GAClC,SAASwE,EAAMjpB,GACb,OAAOA,QACHkpB,KACAH,GAAQ/oB,GACNA,EACAkpB,KAAaC,QAAQnpB,GAsL7B,OAnLKykB,IAAuBwE,EAAM3a,UAAYmW,GAC9CwE,EAAMtoB,UAAYlB,OAAOY,OAAQokB,GAAwBA,EAAqB9jB,WAC9EsoB,EAAMtoB,UAAU4N,YAAc0a,EAE9BA,EAAM1W,GAAK,WACT,OAAO5T,KAAK6T,YAGdyW,EAAMtoB,UAAUsF,SAAW,WACzB,OAAOtH,KAAK6S,WAAW,UAAW,MAKpCyX,EAAMtoB,UAAUf,IAAM,SAAckN,EAAO+F,GACzC,IAAIuW,EAAOzqB,KAAK0qB,MAEhB,IADAvc,EAAQD,EAAUlO,KAAMmO,GACjBsc,GAAQtc,KACbsc,EAAOA,EAAK3gB,KAEd,OAAO2gB,EAAOA,EAAKppB,MAAQ6S,GAG7BoW,EAAMtoB,UAAU2oB,KAAO,WACrB,OAAO3qB,KAAK0qB,OAAS1qB,KAAK0qB,MAAMrpB,OAKlCipB,EAAMtoB,UAAU4B,KAAO,WACrB,IAAIsjB,EAAcrT,UAElB,GAAyB,IAArBA,UAAU7Q,OACZ,OAAOhD,KAIT,IAFA,IAAIwlB,EAAUxlB,KAAK+N,KAAO8F,UAAU7Q,OAChCynB,EAAOzqB,KAAK0qB,MACPtW,EAAKP,UAAU7Q,OAAS,EAAGoR,GAAM,EAAGA,IAC3CqW,EAAO,CACLppB,MAAO6lB,EAAY9S,GACnBtK,KAAM2gB,GAGV,OAAIzqB,KAAKgf,WACPhf,KAAK+N,KAAOyX,EACZxlB,KAAK0qB,MAAQD,EACbzqB,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEF4qB,GAAUpF,EAASiF,IAG5BH,EAAMtoB,UAAUwoB,QAAU,SAAkB1c,GAE1C,GAAkB,KADlBA,EAAOgY,EAAqBhY,IACnBC,KACP,OAAO/N,KAET,GAAkB,IAAdA,KAAK+N,MAAcqc,GAAQtc,GAC7B,OAAOA,EAET+O,GAAkB/O,EAAKC,MACvB,IAAIyX,EAAUxlB,KAAK+N,KACf0c,EAAOzqB,KAAK0qB,MAQhB,OAPA5c,EAAKE,WAAU,SAAU3M,GACvBmkB,IACAiF,EAAO,CACLppB,MAAOA,EACPyI,KAAM2gB,MAEO,GACbzqB,KAAKgf,WACPhf,KAAK+N,KAAOyX,EACZxlB,KAAK0qB,MAAQD,EACbzqB,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEF4qB,GAAUpF,EAASiF,IAG5BH,EAAMtoB,UAAU6B,IAAM,WACpB,OAAO7D,KAAK8C,MAAM,IAGpBwnB,EAAMtoB,UAAUkf,MAAQ,WACtB,OAAkB,IAAdlhB,KAAK+N,KACA/N,KAELA,KAAKgf,WACPhf,KAAK+N,KAAO,EACZ/N,KAAK0qB,WAAQ1f,EACbhL,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEFuqB,MAGTD,EAAMtoB,UAAUc,MAAQ,SAAgByL,EAAO3L,GAC7C,GAAI0L,EAAWC,EAAO3L,EAAK5C,KAAK+N,MAC9B,OAAO/N,KAET,IAAI2Z,EAAgBlL,EAAaF,EAAOvO,KAAK+N,MAE7C,GADkBY,EAAW/L,EAAK5C,KAAK+N,QACnB/N,KAAK+N,KAEvB,OAAO+X,EAAqB9jB,UAAUc,MAAMvC,KAAKP,KAAMuO,EAAO3L,GAIhE,IAFA,IAAI4iB,EAAUxlB,KAAK+N,KAAO4L,EACtB8Q,EAAOzqB,KAAK0qB,MACT/Q,KACL8Q,EAAOA,EAAK3gB,KAEd,OAAI9J,KAAKgf,WACPhf,KAAK+N,KAAOyX,EACZxlB,KAAK0qB,MAAQD,EACbzqB,KAAKmhB,YAASnW,EACdhL,KAAK2gB,WAAY,EACV3gB,MAEF4qB,GAAUpF,EAASiF,IAK5BH,EAAMtoB,UAAUye,cAAgB,SAAwBe,GACtD,OAAIA,IAAYxhB,KAAKgf,UACZhf,KAEJwhB,EAQEoJ,GAAU5qB,KAAK+N,KAAM/N,KAAK0qB,MAAOlJ,EAASxhB,KAAKmhB,QAPlC,IAAdnhB,KAAK+N,KACAwc,MAETvqB,KAAKgf,UAAYwC,EACjBxhB,KAAK2gB,WAAY,EACV3gB,OAOXsqB,EAAMtoB,UAAUgM,UAAY,SAAoB7G,EAAImF,GAClD,IAAI4L,EAASlY,KAEb,GAAIsM,EACF,OAAO,IAAIyH,EAAS/T,KAAKkT,WAAWlF,WAClC,SAAUjC,EAAGxF,GAAK,OAAOY,EAAG4E,EAAGxF,EAAG2R,KAClC5L,GAKJ,IAFA,IAAIqI,EAAa,EACbkC,EAAO7W,KAAK0qB,MACT7T,IACsC,IAAvC1P,EAAG0P,EAAKxV,MAAOsT,IAAc3U,OAGjC6W,EAAOA,EAAK/M,KAEd,OAAO6K,GAGT2V,EAAMtoB,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACtD,GAAIA,EACF,OAAO,IAAIyH,EAAS/T,KAAKkT,WAAWG,WAAWnC,EAAM5E,GAEvD,IAAIqI,EAAa,EACbkC,EAAO7W,KAAK0qB,MAChB,OAAO,IAAI1Z,GAAS,WAClB,GAAI6F,EAAM,CACR,IAAIxV,EAAQwV,EAAKxV,MAEjB,OADAwV,EAAOA,EAAK/M,KACLmH,EAAcC,EAAMyD,IAActT,GAE3C,MArvHG,CAAEA,WAAO2J,EAAWoG,MAAM,OAyvH1BkZ,EA5LgB,CA6LvBza,GAEFya,GAAMF,QAAUA,GAEhB,IA0BIS,GA1BAC,GAAiBR,GAAMtoB,UAgB3B,SAAS4oB,GAAU7c,EAAM0c,EAAMjJ,EAAS3L,GACtC,IAAI9Q,EAAMjE,OAAOY,OAAOopB,IAMxB,OALA/lB,EAAIgJ,KAAOA,EACXhJ,EAAI2lB,MAAQD,EACZ1lB,EAAIia,UAAYwC,EAChBzc,EAAIoc,OAAStL,EACb9Q,EAAI4b,WAAY,EACT5b,EAIT,SAASwlB,KACP,OAAOM,KAAgBA,GAAcD,GAAU,IA3BjDE,GAxMsB,4BAwMY,EAClCA,GAAejmB,MAAQimB,GAAejnB,IACtCinB,GAAe7D,QAAU6D,GAAelnB,KACxCknB,GAAeC,WAAaD,GAAeN,QAC3CM,GAAe7L,cAAgBA,GAC/B6L,GAAetK,WAAaA,GAC5BsK,GAAepK,YAAcA,GAC7BoK,GAAe,qBAAuBA,GAAevK,UAAYA,GACjEuK,GAAe,qBAAuB,SAAStnB,EAAQ+Y,GACrD,OAAO/Y,EAAOyjB,QAAQ1K,IAExBuO,GAAe,uBAAyB,SAASvU,GAC/C,OAAOA,EAAImK,eAoBb,SAASsK,GAAMC,GACb,OAAO7iB,QAAQ6iB,GAAYA,EAHT,0BAMpB,SAASC,GAAaC,GACpB,OAAOH,GAAMG,IAAoBxa,EAAUwa,GAG7C,SAASC,GAAU/oB,EAAGC,GACpB,GAAID,IAAMC,EACR,OAAO,EAGT,IACGyM,EAAazM,SACF0I,IAAX3I,EAAE0L,WAAiC/C,IAAX1I,EAAEyL,MAAsB1L,EAAE0L,OAASzL,EAAEyL,WAChD/C,IAAb3I,EAAE8e,aACYnW,IAAb1I,EAAE6e,QACF9e,EAAE8e,SAAW7e,EAAE6e,QACjBlS,EAAQ5M,KAAO4M,EAAQ3M,IACvB6M,EAAU9M,KAAO8M,EAAU7M,IAC3BqO,EAAUtO,KAAOsO,EAAUrO,GAE3B,OAAO,EAGT,GAAe,IAAXD,EAAE0L,MAAyB,IAAXzL,EAAEyL,KACpB,OAAO,EAGT,IAAIsd,GAAkBhc,EAAchN,GAEpC,GAAIsO,EAAUtO,GAAI,CAChB,IAAI0W,EAAU1W,EAAE0W,UAChB,OACEzW,EAAE6Z,OAAM,SAAUpQ,EAAGxF,GACnB,IAAI6M,EAAQ2F,EAAQjP,OAAOzI,MAC3B,OAAO+R,GAASiC,EAAGjC,EAAM,GAAIrH,KAAOsf,GAAkBhW,EAAGjC,EAAM,GAAI7M,QAC/DwS,EAAQjP,OAAOsH,KAIzB,IAAIka,GAAU,EAEd,QAAetgB,IAAX3I,EAAE0L,KACJ,QAAe/C,IAAX1I,EAAEyL,KACyB,mBAAlB1L,EAAEyQ,aACXzQ,EAAEyQ,kBAEC,CACLwY,GAAU,EACV,IAAIviB,EAAI1G,EACRA,EAAIC,EACJA,EAAIyG,EAIR,IAAIwiB,GAAW,EACXC,EAAQlpB,EAAE0L,WAAU,SAAUjC,EAAGxF,GACnC,GACE8kB,GACKhpB,EAAE8R,IAAIpI,GACPuf,GACGjW,EAAGtJ,EAAG1J,EAAEpB,IAAIsF,EAAGkH,KACf4H,EAAGhT,EAAEpB,IAAIsF,EAAGkH,GAAU1B,GAG7B,OADAwf,GAAW,GACJ,KAIX,OAAOA,GAAYlpB,EAAE0L,OAASyd,EAMhC,SAASC,GAAMC,EAAMC,GACnB,IAAIC,EAAY,SAAUjqB,GACxB+pB,EAAK1pB,UAAUL,GAAOgqB,EAAQhqB,IAKhC,OAHAb,OAAOsI,KAAKuiB,GAASnhB,QAAQohB,GAC7B9qB,OAAO+qB,uBACL/qB,OAAO+qB,sBAAsBF,GAASnhB,QAAQohB,GACzCF,EAGT,SAASI,GAAKzqB,GACZ,IAAKA,GAA0B,iBAAVA,EACnB,OAAOA,EAET,IAAK0N,EAAa1N,GAAQ,CACxB,IAAK4b,GAAgB5b,GACnB,OAAOA,EAETA,EAAQmO,EAAInO,GAEd,GAAI4N,EAAQ5N,GAAQ,CAClB,IAAI0qB,EAAW,GAIf,OAHA1qB,EAAM2M,WAAU,SAAUjC,EAAGxF,GAC3BwlB,EAASxlB,GAAKulB,GAAK/f,MAEdggB,EAET,IAAIvoB,EAAS,GAIb,OAHAnC,EAAM2M,WAAU,SAAUjC,GACxBvI,EAAOI,KAAKkoB,GAAK/f,OAEZvI,EAGT,IAAI2M,GAAoB,SAAU6b,GAChC,SAAS7b,EAAI9O,GACX,OAAOA,QACH4qB,KACAjB,GAAM3pB,KAAWsP,EAAUtP,GACzBA,EACA4qB,KAAWhN,eAAc,SAAU9H,GACjC,IAAIrJ,EAAOke,EAAiB3qB,GAC5Bwb,GAAkB/O,EAAKC,MACvBD,EAAKtD,SAAQ,SAAUuB,GAAK,OAAOoL,EAAI+U,IAAIngB,SA8KrD,OA1KKigB,IAAmB7b,EAAIR,UAAYqc,GACxC7b,EAAInO,UAAYlB,OAAOY,OAAQsqB,GAAoBA,EAAiBhqB,WACpEmO,EAAInO,UAAU4N,YAAcO,EAE5BA,EAAIyD,GAAK,WACP,OAAO5T,KAAK6T,YAGd1D,EAAIgc,SAAW,SAAmB9qB,GAChC,OAAOrB,KAAKyP,EAAgBpO,GAAO+qB,WAGrCjc,EAAIkc,UAAY,SAAoBC,GAElC,OADAA,EAAO/c,EAAW+c,GAAMpZ,WACZlQ,OACRupB,GAAaF,UAAUvnB,MAAMqL,EAAImc,EAAKzoB,OAAQyoB,GAC9CL,MAGN9b,EAAIqc,MAAQ,SAAgBF,GAE1B,OADAA,EAAO/c,EAAW+c,GAAMpZ,WACZlQ,OACRupB,GAAaC,MAAM1nB,MAAMqL,EAAImc,EAAKzoB,OAAQyoB,GAC1CL,MAGN9b,EAAInO,UAAUsF,SAAW,WACvB,OAAOtH,KAAK6S,WAAW,QAAS,MAKlC1C,EAAInO,UAAUmS,IAAM,SAAc9S,GAChC,OAAOrB,KAAK4pB,KAAKzV,IAAI9S,IAKvB8O,EAAInO,UAAUkqB,IAAM,SAAc7qB,GAChC,OAAOorB,GAAUzsB,KAAMA,KAAK4pB,KAAKzS,IAAI9V,EAAOA,KAG9C8O,EAAInO,UAAUqb,OAAS,SAAiBhc,GACtC,OAAOorB,GAAUzsB,KAAMA,KAAK4pB,KAAKvM,OAAOhc,KAG1C8O,EAAInO,UAAUkf,MAAQ,WACpB,OAAOuL,GAAUzsB,KAAMA,KAAK4pB,KAAK1I,UAKnC/Q,EAAInO,UAAU+C,IAAM,SAAcsT,EAAQC,GACxC,IAAIJ,EAASlY,KAET0sB,EAAU,GACVC,EAAO,GAQX,OAPA3sB,KAAKwK,SAAQ,SAAUnJ,GACrB,IAAIurB,EAASvU,EAAO9X,KAAK+X,EAASjX,EAAOA,EAAO6W,GAC5C0U,IAAWvrB,IACbqrB,EAAQ9oB,KAAKvC,GACbsrB,EAAK/oB,KAAKgpB,OAGP5sB,KAAKif,eAAc,SAAU9H,GAClCuV,EAAQliB,SAAQ,SAAUnJ,GAAS,OAAO8V,EAAIkG,OAAOhc,MACrDsrB,EAAKniB,SAAQ,SAAUnJ,GAAS,OAAO8V,EAAI+U,IAAI7qB,UAInD8O,EAAInO,UAAUwqB,MAAQ,WAEpB,IADA,IAAIjS,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OACxByZ,KAAQlC,EAAOkC,GAAQ5I,UAAW4I,GAG1C,OAAqB,KADrBlC,EAAQA,EAAMpS,QAAO,SAAUjD,GAAK,OAAkB,IAAXA,EAAE6I,SACnC/K,OACDhD,KAES,IAAdA,KAAK+N,MAAe/N,KAAKgf,WAA8B,IAAjBzE,EAAMvX,OAGzChD,KAAKif,eAAc,SAAU9H,GAClC,IAAK,IAAI/C,EAAK,EAAGA,EAAKmG,EAAMvX,OAAQoR,IAClC4X,EAAiBzR,EAAMnG,IAAK5J,SAAQ,SAAUnJ,GAAS,OAAO8V,EAAI+U,IAAI7qB,SAJjErB,KAAK4P,YAAY2K,EAAM,KASlCpK,EAAInO,UAAUqqB,UAAY,WAExB,IADA,IAAI9R,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OACxByZ,KAAQlC,EAAOkC,GAAQ5I,UAAW4I,GAE1C,GAAqB,IAAjBlC,EAAMvX,OACR,OAAOhD,KAETua,EAAQA,EAAMxV,KAAI,SAAU+I,GAAQ,OAAOke,EAAiBle,MAC5D,IAAI+e,EAAW,GAMf,OALA7sB,KAAKwK,SAAQ,SAAUnJ,GAChBkZ,EAAM4B,OAAM,SAAUrO,GAAQ,OAAOA,EAAK6K,SAAStX,OACtDwrB,EAASjpB,KAAKvC,MAGXrB,KAAKif,eAAc,SAAU9H,GAClC0V,EAASriB,SAAQ,SAAUnJ,GACzB8V,EAAIkG,OAAOhc,UAKjB8O,EAAInO,UAAU8qB,SAAW,WAEvB,IADA,IAAIvS,EAAQ,GAAIkC,EAAM5I,UAAU7Q,OACxByZ,KAAQlC,EAAOkC,GAAQ5I,UAAW4I,GAE1C,GAAqB,IAAjBlC,EAAMvX,OACR,OAAOhD,KAETua,EAAQA,EAAMxV,KAAI,SAAU+I,GAAQ,OAAOke,EAAiBle,MAC5D,IAAI+e,EAAW,GAMf,OALA7sB,KAAKwK,SAAQ,SAAUnJ,GACjBkZ,EAAM1U,MAAK,SAAUiI,GAAQ,OAAOA,EAAK6K,SAAStX,OACpDwrB,EAASjpB,KAAKvC,MAGXrB,KAAKif,eAAc,SAAU9H,GAClC0V,EAASriB,SAAQ,SAAUnJ,GACzB8V,EAAIkG,OAAOhc,UAKjB8O,EAAInO,UAAUsZ,KAAO,SAAeF,GAElC,OAAO2R,GAAW5R,GAAYnb,KAAMob,KAGtCjL,EAAInO,UAAUqf,OAAS,SAAiBhJ,EAAQ+C,GAE9C,OAAO2R,GAAW5R,GAAYnb,KAAMob,EAAY/C,KAGlDlI,EAAInO,UAAUwe,WAAa,WACzB,OAAOxgB,KAAK4pB,KAAKpJ,cAGnBrQ,EAAInO,UAAUgM,UAAY,SAAoB7G,EAAImF,GAChD,IAAI4L,EAASlY,KAEb,OAAOA,KAAK4pB,KAAK5b,WAAU,SAAUzH,GAAK,OAAOY,EAAGZ,EAAGA,EAAG2R,KAAY5L,IAGxE6D,EAAInO,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACpD,OAAOtM,KAAK4pB,KAAKvW,WAAWnC,EAAM5E,IAGpC6D,EAAInO,UAAUye,cAAgB,SAAwBe,GACpD,GAAIA,IAAYxhB,KAAKgf,UACnB,OAAOhf,KAET,IAAI+pB,EAAS/pB,KAAK4pB,KAAKnJ,cAAce,GACrC,OAAKA,EAQExhB,KAAKgtB,OAAOjD,EAAQvI,GAPP,IAAdxhB,KAAK+N,KACA/N,KAAKitB,WAEdjtB,KAAKgf,UAAYwC,EACjBxhB,KAAK4pB,KAAOG,EACL/pB,OAKJmQ,EAvLc,CAwLrBJ,GAEFI,GAAI6a,MAAQA,GAEZ,IAsCIkC,GAtCAX,GAAepc,GAAInO,UAiBvB,SAASyqB,GAAUtV,EAAK4S,GACtB,OAAI5S,EAAI6H,WACN7H,EAAIpJ,KAAOgc,EAAOhc,KAClBoJ,EAAIyS,KAAOG,EACJ5S,GAEF4S,IAAW5S,EAAIyS,KAClBzS,EACgB,IAAhB4S,EAAOhc,KACLoJ,EAAI8V,UACJ9V,EAAI6V,OAAOjD,GAGnB,SAASoD,GAAQpoB,EAAKyc,GACpB,IAAIrK,EAAMrW,OAAOY,OAAO6qB,IAIxB,OAHApV,EAAIpJ,KAAOhJ,EAAMA,EAAIgJ,KAAO,EAC5BoJ,EAAIyS,KAAO7kB,EACXoS,EAAI6H,UAAYwC,EACTrK,EAIT,SAAS8U,KACP,OAAOiB,KAAcA,GAAYC,GAAQjP,OAvC3CqO,GA9SoB,0BA8SU,EAC9BA,GAAmB,OAAIA,GAAalP,OACpCkP,GAAa7N,MAAQ6N,GAAa7jB,OAAS6jB,GAAaC,MACxDD,GAAatN,cAAgBA,GAC7BsN,GAAa7L,YAAcA,GAC3B6L,GAAa,qBAAuBA,GAAahM,UAAYA,GAC7DgM,GAAa,qBAAuB,SAAS/oB,EAAQ+Y,GACnD,OAAO/Y,EAAO0oB,IAAI3P,IAEpBgQ,GAAa,uBAAyB,SAAShW,GAC7C,OAAOA,EAAImK,eAGb6L,GAAaU,QAAUhB,GACvBM,GAAaS,OAASG,GAiCtB,IAkIIC,GAlIAC,GAAsB,SAAU3U,GAClC,SAAS2U,EAAM1qB,EAAOC,EAAKgS,GACzB,KAAM5U,gBAAgBqtB,GACpB,OAAO,IAAIA,EAAM1qB,EAAOC,EAAKgS,GAe/B,GAbA+H,GAAmB,IAAT/H,EAAY,4BACtBjS,EAAQA,GAAS,OACLqI,IAARpI,IACFA,EAAMiM,KAER+F,OAAgB5J,IAAT4J,EAAqB,EAAItP,KAAKG,IAAImP,GACrChS,EAAMD,IACRiS,GAAQA,GAEV5U,KAAKstB,OAAS3qB,EACd3C,KAAKutB,KAAO3qB,EACZ5C,KAAKwtB,MAAQ5Y,EACb5U,KAAK+N,KAAOzI,KAAKC,IAAI,EAAGD,KAAKmoB,MAAM7qB,EAAMD,GAASiS,EAAO,GAAK,GAC5C,IAAd5U,KAAK+N,KAAY,CACnB,GAAIqf,GACF,OAAOA,GAETA,GAAcptB,MAyGlB,OArGK0Y,IAAgB2U,EAAM1d,UAAY+I,GACvC2U,EAAMrrB,UAAYlB,OAAOY,OAAQgX,GAAiBA,EAAc1W,WAChEqrB,EAAMrrB,UAAU4N,YAAcyd,EAE9BA,EAAMrrB,UAAUsF,SAAW,WACzB,OAAkB,IAAdtH,KAAK+N,KACA,WAGP,WACA/N,KAAKstB,OACL,MACAttB,KAAKutB,MACW,IAAfvtB,KAAKwtB,MAAc,OAASxtB,KAAKwtB,MAAQ,IAC1C,MAIJH,EAAMrrB,UAAUf,IAAM,SAAckN,EAAO+F,GACzC,OAAOlU,KAAKmU,IAAIhG,GACZnO,KAAKstB,OAASpf,EAAUlO,KAAMmO,GAASnO,KAAKwtB,MAC5CtZ,GAGNmZ,EAAMrrB,UAAU2W,SAAW,SAAmB+U,GAC5C,IAAIC,GAAiBD,EAAc1tB,KAAKstB,QAAUttB,KAAKwtB,MACvD,OACEG,GAAiB,GACjBA,EAAgB3tB,KAAK+N,MACrB4f,IAAkBroB,KAAKsoB,MAAMD,IAIjCN,EAAMrrB,UAAUc,MAAQ,SAAgByL,EAAO3L,GAC7C,OAAI0L,EAAWC,EAAO3L,EAAK5C,KAAK+N,MACvB/N,MAETuO,EAAQE,EAAaF,EAAOvO,KAAK+N,OACjCnL,EAAM+L,EAAW/L,EAAK5C,KAAK+N,QAChBQ,EACF,IAAI8e,EAAM,EAAG,GAEf,IAAIA,EACTrtB,KAAKiB,IAAIsN,EAAOvO,KAAKutB,MACrBvtB,KAAKiB,IAAI2B,EAAK5C,KAAKutB,MACnBvtB,KAAKwtB,SAITH,EAAMrrB,UAAU0B,QAAU,SAAkBgqB,GAC1C,IAAIG,EAAcH,EAAc1tB,KAAKstB,OACrC,GAAIO,EAAc7tB,KAAKwtB,OAAU,EAAG,CAClC,IAAIrf,EAAQ0f,EAAc7tB,KAAKwtB,MAC/B,GAAIrf,GAAS,GAAKA,EAAQnO,KAAK+N,KAC7B,OAAOI,EAGX,OAAQ,GAGVkf,EAAMrrB,UAAU8rB,YAAc,SAAsBJ,GAClD,OAAO1tB,KAAK0D,QAAQgqB,IAGtBL,EAAMrrB,UAAUgM,UAAY,SAAoB7G,EAAImF,GAKlD,IAJA,IAAIyB,EAAO/N,KAAK+N,KACZ6G,EAAO5U,KAAKwtB,MACZnsB,EAAQiL,EAAUtM,KAAKstB,QAAUvf,EAAO,GAAK6G,EAAO5U,KAAKstB,OACzDltB,EAAI,EACDA,IAAM2N,IACyC,IAAhD5G,EAAG9F,EAAOiL,EAAUyB,IAAS3N,EAAIA,IAAKJ,OAG1CqB,GAASiL,GAAWsI,EAAOA,EAE7B,OAAOxU,GAGTitB,EAAMrrB,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACtD,IAAIyB,EAAO/N,KAAK+N,KACZ6G,EAAO5U,KAAKwtB,MACZnsB,EAAQiL,EAAUtM,KAAKstB,QAAUvf,EAAO,GAAK6G,EAAO5U,KAAKstB,OACzDltB,EAAI,EACR,OAAO,IAAI4Q,GAAS,WAClB,GAAI5Q,IAAM2N,EACR,MAzuIC,CAAE1M,WAAO2J,EAAWoG,MAAM,GA2uI7B,IAAIrF,EAAI1K,EAER,OADAA,GAASiL,GAAWsI,EAAOA,EACpB3D,EAAcC,EAAM5E,EAAUyB,IAAS3N,EAAIA,IAAK2L,OAI3DshB,EAAMrrB,UAAUmT,OAAS,SAAiB4Y,GACxC,OAAOA,aAAiBV,EACpBrtB,KAAKstB,SAAWS,EAAMT,QACpBttB,KAAKutB,OAASQ,EAAMR,MACpBvtB,KAAKwtB,QAAUO,EAAMP,MACvBpC,GAAUprB,KAAM+tB,IAGfV,EA/HgB,CAgIvBvd,GAIF,SAASke,GAAMvZ,EAAYwZ,EAAe/Z,GAGxC,IAFA,IAAI6I,EAAUD,GAAcmR,GACxB7tB,EAAI,EACDA,IAAM2c,EAAQ/Z,QAEnB,IADAyR,EAAaxT,GAAIwT,EAAYsI,EAAQ3c,KAAMqN,MACxBA,EACjB,OAAOyG,EAGX,OAAOO,EAGT,SAASyZ,GAAQD,EAAe/Z,GAC9B,OAAO8Z,GAAMhuB,KAAMiuB,EAAe/Z,GAGpC,SAASia,GAAM1Z,EAAYsI,GACzB,OAAOiR,GAAMvZ,EAAYsI,EAAStP,KAAaA,EAOjD,SAAS2gB,KACPvR,GAAkB7c,KAAK+N,MACvB,IAAIjM,EAAS,GAIb,OAHA9B,KAAKgO,WAAU,SAAUjC,EAAGxF,GAC1BzE,EAAOyE,GAAKwF,KAEPjK,EAITyN,EAAW8e,WAAatf,EACxBQ,EAAWN,QAAUA,EACrBM,EAAWJ,UAAYA,EACvBI,EAAWF,cAAgBA,EAC3BE,EAAWoB,UAAYA,EAEvBpB,EAAWyB,SAAWA,EAEtBya,GAAMlc,EAAY,CAGhB2D,QAAS,WACP2J,GAAkB7c,KAAK+N,MACvB,IAAIiG,EAAQ,IAAI7N,MAAMnG,KAAK+N,MAAQ,GAC/BugB,EAAYrf,EAAQjP,MACpBI,EAAI,EAKR,OAJAJ,KAAKgO,WAAU,SAAUjC,EAAGxF,GAE1ByN,EAAM5T,KAAOkuB,EAAY,CAAC/nB,EAAGwF,GAAKA,KAE7BiI,GAGTN,aAAc,WACZ,OAAO,IAAI+E,GAAkBzY,OAG/B8rB,KAAM,WACJ,OAAOA,GAAK9rB,OAGduT,WAAY,WACV,OAAO,IAAIoE,GAAgB3X,MAAM,IAGnCmqB,MAAO,WAEL,OAAOvJ,GAAI5gB,KAAKuT,eAGlB6a,SAAUA,GAEVG,aAAc,WAEZ,OAAOnN,GAAWphB,KAAKuT,eAGzBib,aAAc,WAEZ,OAAOzB,GAAW9d,EAAQjP,MAAQA,KAAKiY,WAAajY,OAGtDyuB,MAAO,WAEL,OAAOte,GAAIlB,EAAQjP,MAAQA,KAAKiY,WAAajY,OAG/C8T,SAAU,WACR,OAAO,IAAI8E,GAAc5Y,OAG3BwS,MAAO,WACL,OAAOrD,EAAUnP,MACbA,KAAK0T,eACLzE,EAAQjP,MACNA,KAAKuT,aACLvT,KAAK8T,YAGb4a,QAAS,WAEP,OAAOpE,GAAMrb,EAAQjP,MAAQA,KAAKiY,WAAajY,OAGjD2uB,OAAQ,WAEN,OAAO9I,GAAK5W,EAAQjP,MAAQA,KAAKiY,WAAajY,OAKhDsH,SAAU,WACR,MAAO,gBAGTuL,WAAY,SAAoB4X,EAAMrC,GACpC,OAAkB,IAAdpoB,KAAK+N,KACA0c,EAAOrC,EAGdqC,EACA,IACAzqB,KAAKwS,QACFzN,IAAI/E,KAAK4uB,kBACTxoB,KAAK,MACR,IACAgiB,GAMJ1f,OAAQ,WAEN,IADA,IAAId,EAAS,GAAI6U,EAAM5I,UAAU7Q,OACzByZ,KAAQ7U,EAAQ6U,GAAQ5I,UAAW4I,GAE3C,OAAOL,GAAMpc,KAAMqa,GAAcra,KAAM4H,KAGzC+Q,SAAU,SAAkB+U,GAC1B,OAAO1tB,KAAK6F,MAAK,SAAUxE,GAAS,OAAOgU,EAAGhU,EAAOqsB,OAGvD3U,QAAS,WACP,OAAO/Y,KAAKqT,WAx7IM,IA27IpB8I,MAAO,SAAe5C,EAAWjB,GAC/BuE,GAAkB7c,KAAK+N,MACvB,IAAI8gB,GAAc,EAOlB,OANA7uB,KAAKgO,WAAU,SAAUjC,EAAGxF,EAAG9F,GAC7B,IAAK8Y,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG9F,GAEjC,OADAouB,GAAc,GACP,KAGJA,GAGT1mB,OAAQ,SAAgBoR,EAAWjB,GACjC,OAAO8D,GAAMpc,KAAMsZ,GAActZ,KAAMuZ,EAAWjB,GAAS,KAG7DwW,KAAM,SAAcvV,EAAWjB,EAASpE,GACtC,IAAId,EAAQpT,KAAK+uB,UAAUxV,EAAWjB,GACtC,OAAOlF,EAAQA,EAAM,GAAKc,GAG5B1J,QAAS,SAAiBwkB,EAAY1W,GAEpC,OADAuE,GAAkB7c,KAAK+N,MAChB/N,KAAKgO,UAAUsK,EAAU0W,EAAWptB,KAAK0W,GAAW0W,IAG7D5oB,KAAM,SAAc6oB,GAClBpS,GAAkB7c,KAAK+N,MACvBkhB,OAA0BjkB,IAAdikB,EAA0B,GAAKA,EAAY,IACvD,IAAIC,EAAS,GACTC,GAAU,EAKd,OAJAnvB,KAAKgO,WAAU,SAAUjC,GACvBojB,EAAWA,GAAU,EAAUD,GAAUD,EACzCC,GAAUnjB,QAAgCA,EAAEzE,WAAa,MAEpD4nB,GAGT9lB,KAAM,WACJ,OAAOpJ,KAAKqT,WAp+IG,IAu+IjBtO,IAAK,SAAasT,EAAQC,GACxB,OAAO8D,GAAMpc,KAAMwY,GAAWxY,KAAMqY,EAAQC,KAG9CqC,OAAQ,SAAkByU,EAASC,EAAkB/W,GACnD,OAAOqC,GACL3a,KACAovB,EACAC,EACA/W,EACAzE,UAAU7Q,OAAS,GACnB,IAIJssB,YAAa,SAAqBF,EAASC,EAAkB/W,GAC3D,OAAOqC,GACL3a,KACAovB,EACAC,EACA/W,EACAzE,UAAU7Q,OAAS,GACnB,IAIJsJ,QAAS,WACP,OAAO8P,GAAMpc,KAAMoY,GAAepY,MAAM,KAG1C8C,MAAO,SAAeyL,EAAO3L,GAC3B,OAAOwZ,GAAMpc,KAAMyZ,GAAazZ,KAAMuO,EAAO3L,GAAK,KAGpDiD,KAAM,SAAc0T,EAAWjB,GAC7B,OAAQtY,KAAKmc,MAAMoT,GAAIhW,GAAYjB,IAGrCgD,KAAM,SAAcF,GAClB,OAAOgB,GAAMpc,KAAMmb,GAAYnb,KAAMob,KAGvCxT,OAAQ,WACN,OAAO5H,KAAKqT,WAjhJK,IAshJnBmc,QAAS,WACP,OAAOxvB,KAAK8C,MAAM,GAAI,IAGxB2sB,QAAS,WACP,YAAqBzkB,IAAdhL,KAAK+N,KAAmC,IAAd/N,KAAK+N,MAAc/N,KAAK6F,MAAK,WAAc,OAAO,MAGrFsd,MAAO,SAAe5J,EAAWjB,GAC/B,OAAOzK,EACL0L,EAAYvZ,KAAKwS,QAAQrK,OAAOoR,EAAWjB,GAAWtY,OAI1D0vB,QAAS,SAAiBC,EAASrX,GACjC,OAx7GJ,SAAwB7D,EAAYkb,EAASrX,GAC3C,IAAIsX,EAAShP,KAAML,YAInB,OAHA9L,EAAWzG,WAAU,SAAUjC,EAAGxF,GAChCqpB,EAAOrR,OAAOoR,EAAQpvB,KAAK+X,EAASvM,EAAGxF,EAAGkO,GAAa,GAAG,SAAUpS,GAAK,OAAOA,EAAI,QAE/EutB,EAAOlP,cAm7GLmP,CAAe7vB,KAAM2vB,EAASrX,IAGvCnD,OAAQ,SAAgB4Y,GACtB,OAAO3C,GAAUprB,KAAM+tB,IAGzB9a,SAAU,WACR,IAAIwB,EAAazU,KACjB,GAAIyU,EAAW1B,OAEb,OAAO,IAAIgB,EAASU,EAAW1B,QAEjC,IAAI+c,EAAkBrb,EACnBjC,QACAzN,IAAIgrB,IACJrc,eAEH,OADAoc,EAAgBtc,aAAe,WAAc,OAAOiB,EAAWjC,SACxDsd,GAGTE,UAAW,SAAmBzW,EAAWjB,GACvC,OAAOtY,KAAKmI,OAAOonB,GAAIhW,GAAYjB,IAGrCyW,UAAW,SAAmBxV,EAAWjB,EAASpE,GAChD,IAAI+b,EAAQ/b,EAOZ,OANAlU,KAAKgO,WAAU,SAAUjC,EAAGxF,EAAG9F,GAC7B,GAAI8Y,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG9F,GAEhC,OADAwvB,EAAQ,CAAC1pB,EAAGwF,IACL,KAGJkkB,GAGTC,QAAS,SAAiB3W,EAAWjB,GACnC,IAAIlF,EAAQpT,KAAK+uB,UAAUxV,EAAWjB,GACtC,OAAOlF,GAASA,EAAM,IAGxB+c,SAAU,SAAkB5W,EAAWjB,EAASpE,GAC9C,OAAOlU,KAAKuT,aACTjH,UACAwiB,KAAKvV,EAAWjB,EAASpE,IAG9Bkc,cAAe,SAAuB7W,EAAWjB,EAASpE,GACxD,OAAOlU,KAAKuT,aACTjH,UACAyiB,UAAUxV,EAAWjB,EAASpE,IAGnCmc,YAAa,SAAqB9W,EAAWjB,GAC3C,OAAOtY,KAAKuT,aACTjH,UACA4jB,QAAQ3W,EAAWjB,IAGxBgY,MAAO,SAAepc,GACpB,OAAOlU,KAAK8uB,KAAK7gB,EAAY,KAAMiG,IAGrCqc,QAAS,SAAiBlY,EAAQC,GAChC,OAAO8D,GAAMpc,KAxrGjB,SAAwByU,EAAY4D,EAAQC,GAC1C,IAAIkY,EAASnU,GAAgB5H,GAC7B,OAAOA,EACJjC,QACAzN,KAAI,SAAUgH,EAAGxF,GAAK,OAAOiqB,EAAOnY,EAAO9X,KAAK+X,EAASvM,EAAGxF,EAAGkO,OAC/DiG,SAAQ,GAmrGU+V,CAAezwB,KAAMqY,EAAQC,KAGlDoC,QAAS,SAAiBI,GACxB,OAAOsB,GAAMpc,KAAM6a,GAAe7a,KAAM8a,GAAO,KAGjDtH,aAAc,WACZ,OAAO,IAAIsF,GAAoB9Y,OAGjCiB,IAAK,SAAayvB,EAAWxc,GAC3B,OAAOlU,KAAK8uB,MAAK,SAAU/lB,EAAGpH,GAAO,OAAO0T,EAAG1T,EAAK+uB,UAAe1lB,EAAWkJ,IAGhF8Z,MAAOE,GAEPyC,QAAS,SAAiBhB,EAASrX,GACjC,OAlgHJ,SAAwB7D,EAAYkb,EAASrX,GAC3C,IAAIsY,EAAc3hB,EAAQwF,GACtBmb,GAAUjf,EAAU8D,GAAc2M,KAAeR,MAAOL,YAC5D9L,EAAWzG,WAAU,SAAUjC,EAAGxF,GAChCqpB,EAAOrR,OACLoR,EAAQpvB,KAAK+X,EAASvM,EAAGxF,EAAGkO,IAC5B,SAAUpS,GAAK,OAASA,EAAIA,GAAK,IAAOuB,KAAKgtB,EAAc,CAACrqB,EAAGwF,GAAKA,GAAI1J,QAG5E,IAAImuB,EAASnU,GAAgB5H,GAC7B,OAAOmb,EAAO7qB,KAAI,SAAUwX,GAAO,OAAOH,GAAM3H,EAAY+b,EAAOjU,OAAUmE,cAw/GpEmQ,CAAe7wB,KAAM2vB,EAASrX,IAGvCnE,IAAK,SAAauc,GAChB,OAAO1wB,KAAKiB,IAAIyvB,EAAWjjB,KAAaA,GAG1C0gB,MArUF,SAAiBF,GACf,OAAOE,GAAMnuB,KAAMiuB,IAsUnB6C,SAAU,SAAkBhjB,GAE1B,OADAA,EAAgC,mBAAlBA,EAAK6K,SAA0B7K,EAAOyB,EAAWzB,GACxD9N,KAAKmc,OAAM,SAAU9a,GAAS,OAAOyM,EAAK6K,SAAStX,OAG5D0vB,WAAY,SAAoBjjB,GAE9B,OADAA,EAAgC,mBAAlBA,EAAKgjB,SAA0BhjB,EAAOyB,EAAWzB,IACnDgjB,SAAS9wB,OAGvBgxB,MAAO,SAAetD,GACpB,OAAO1tB,KAAKkwB,SAAQ,SAAU7uB,GAAS,OAAOgU,EAAGhU,EAAOqsB,OAG1DtB,OAAQ,WACN,OAAOpsB,KAAKwS,QACTzN,IAAIksB,IACJvd,gBAGLwd,KAAM,SAAchd,GAClB,OAAOlU,KAAKwS,QACTlG,UACAgkB,MAAMpc,IAGXid,UAAW,SAAmBzD,GAC5B,OAAO1tB,KAAKuT,aACTjH,UACA0kB,MAAMtD,IAGXnoB,IAAK,SAAa6V,GAChB,OAAOG,GAAWvb,KAAMob,IAG1BgW,MAAO,SAAe/Y,EAAQ+C,GAC5B,OAAOG,GAAWvb,KAAMob,EAAY/C,IAGtCvJ,IAAK,SAAasM,GAChB,OAAOG,GACLvb,KACAob,EAAaiW,GAAIjW,GAAckW,KAInCC,MAAO,SAAelZ,EAAQ+C,GAC5B,OAAOG,GACLvb,KACAob,EAAaiW,GAAIjW,GAAckW,GAC/BjZ,IAIJmZ,KAAM,WACJ,OAAOxxB,KAAK8C,MAAM,IAGpB2uB,KAAM,SAAcC,GAClB,OAAkB,IAAXA,EAAe1xB,KAAOA,KAAK8C,MAAMwC,KAAKC,IAAI,EAAGmsB,KAGtDC,SAAU,SAAkBD,GAC1B,OAAkB,IAAXA,EAAe1xB,KAAOA,KAAK8C,MAAM,GAAIwC,KAAKC,IAAI,EAAGmsB,KAG1DE,UAAW,SAAmBrY,EAAWjB,GACvC,OAAO8D,GAAMpc,KAAMka,GAAiBla,KAAMuZ,EAAWjB,GAAS,KAGhEuZ,UAAW,SAAmBtY,EAAWjB,GACvC,OAAOtY,KAAK4xB,UAAUrC,GAAIhW,GAAYjB,IAGxC+I,OAAQ,SAAgBhJ,EAAQ+C,GAC9B,OAAOgB,GAAMpc,KAAMmb,GAAYnb,KAAMob,EAAY/C,KAGnDyZ,KAAM,SAAcJ,GAClB,OAAO1xB,KAAK8C,MAAM,EAAGwC,KAAKC,IAAI,EAAGmsB,KAGnCK,SAAU,SAAkBL,GAC1B,OAAO1xB,KAAK8C,OAAOwC,KAAKC,IAAI,EAAGmsB,KAGjCM,UAAW,SAAmBzY,EAAWjB,GACvC,OAAO8D,GAAMpc,KAn/GjB,SAA0ByU,EAAY8E,EAAWjB,GAC/C,IAAI2Z,EAAe7Y,GAAa3E,GAuChC,OAtCAwd,EAAajf,kBAAoB,SAAS7L,EAAImF,GAC5C,IAAI4L,EAASlY,KAEb,GAAIsM,EACF,OAAOtM,KAAK8S,cAAc9E,UAAU7G,EAAImF,GAE1C,IAAIqI,EAAa,EAIjB,OAHAF,EAAWzG,WACT,SAAUjC,EAAGxF,EAAG9F,GAAK,OAAO8Y,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG9F,MAAQkU,GAAcxN,EAAG4E,EAAGxF,EAAG2R,MAEpFvD,GAETsd,EAAa3e,mBAAqB,SAASpC,EAAM5E,GAC/C,IAAI4L,EAASlY,KAEb,GAAIsM,EACF,OAAOtM,KAAK8S,cAAcO,WAAWnC,EAAM5E,GAE7C,IAAIwE,EAAW2D,EAAWpB,WAxvCR,EAwvCoC/G,GAClD4lB,GAAY,EAChB,OAAO,IAAIlhB,GAAS,WAClB,IAAKkhB,EACH,MAttCC,CAAE7wB,WAAO2J,EAAWoG,MAAM,GAwtC7B,IAAIwD,EAAO9D,EAAShH,OACpB,GAAI8K,EAAKxD,KACP,OAAOwD,EAET,IAAIxB,EAAQwB,EAAKvT,MACbkF,EAAI6M,EAAM,GACVrH,EAAIqH,EAAM,GACd,OAAKmG,EAAUhZ,KAAK+X,EAASvM,EAAGxF,EAAG2R,GArwCnB,IAywCThH,EAA2B0D,EAAO3D,EAAcC,EAAM3K,EAAGwF,EAAG6I,IAHjEsd,GAAY,EAhuCX,CAAE7wB,WAAO2J,EAAWoG,MAAM,QAsuC1B6gB,EA28GcE,CAAiBnyB,KAAMuZ,EAAWjB,KAGvD8Z,UAAW,SAAmB7Y,EAAWjB,GACvC,OAAOtY,KAAKgyB,UAAUzC,GAAIhW,GAAYjB,IAGxCiG,OAAQ,SAAgBpX,GACtB,OAAOA,EAAGnH,OAGZiY,SAAU,WACR,OAAOjY,KAAK0T,gBAKd0B,SAAU,WACR,OAAOpV,KAAKmhB,SAAWnhB,KAAKmhB,OAwQhC,SAAwB1M,GACtB,GAAIA,EAAW1G,OAASc,IACtB,OAAO,EAET,IAAIwjB,EAAU1hB,EAAU8D,GACpB6d,EAAQrjB,EAAQwF,GAChB8d,EAAIF,EAAU,EAAI,EAkBtB,OAGF,SAA0BtkB,EAAMwkB,GAQ9B,OAPAA,EAAI9c,GAAK8c,EAAG,YACZA,EAAI9c,GAAM8c,GAAK,GAAOA,KAAO,GAAK,WAClCA,EAAI9c,GAAM8c,GAAK,GAAOA,KAAO,GAAK,GAElCA,EAAI9c,IADJ8c,GAAMA,EAAI,WAAc,GAAKxkB,GACfwkB,IAAM,GAAK,YAEzBA,EAAI7c,IADJ6c,EAAI9c,GAAK8c,EAAKA,IAAM,GAAK,aACZA,IAAM,IAVZC,CAjBI/d,EAAWzG,UACpBskB,EACID,EACE,SAAUtmB,EAAGxF,GACXgsB,EAAK,GAAKA,EAAIE,GAAU5c,GAAK9J,GAAI8J,GAAKtP,IAAO,GAE/C,SAAUwF,EAAGxF,GACXgsB,EAAKA,EAAIE,GAAU5c,GAAK9J,GAAI8J,GAAKtP,IAAO,GAE5C8rB,EACE,SAAUtmB,GACRwmB,EAAK,GAAKA,EAAI1c,GAAK9J,GAAM,GAE3B,SAAUA,GACRwmB,EAAKA,EAAI1c,GAAK9J,GAAM,IAGAwmB,GAhSSG,CAAe1yB,UAUxD,IAAI2yB,GAAsBpjB,EAAWvN,UACrC2wB,GA90J2B,+BA80JiB,EAC5CA,GAAoB5hB,GAAmB4hB,GAAoB/qB,OAC3D+qB,GAAoBC,OAASD,GAAoBzf,QACjDyf,GAAoB/D,iBAAmB1R,GACvCyV,GAAoB1gB,QAAU0gB,GAAoBzgB,SAAW,WAC3D,OAAOlS,KAAKsH,YAEdqrB,GAAoBE,MAAQF,GAAoBpC,QAChDoC,GAAoBG,SAAWH,GAAoBha,SAEnD8S,GAAMhc,EAAiB,CAGrBpD,KAAM,WACJ,OAAO+P,GAAMpc,KAAMkZ,GAAYlZ,QAGjC+yB,WAAY,SAAoB1a,EAAQC,GACtC,IAAIJ,EAASlY,KAET2U,EAAa,EACjB,OAAOyH,GACLpc,KACAA,KAAKwS,QACFzN,KAAI,SAAUgH,EAAGxF,GAAK,OAAO8R,EAAO9X,KAAK+X,EAAS,CAAC/R,EAAGwF,GAAI4I,IAAcuD,MACxE1E,iBAIPwf,QAAS,SAAiB3a,EAAQC,GAChC,IAAIJ,EAASlY,KAEb,OAAOoc,GACLpc,KACAA,KAAKwS,QACFnG,OACAtH,KAAI,SAAUwB,EAAGwF,GAAK,OAAOsM,EAAO9X,KAAK+X,EAAS/R,EAAGwF,EAAGmM,MACxD7L,WAKT,IAAI4mB,GAA2BxjB,EAAgBzN,UAC/CixB,GAn3JsB,4BAm3JsB,EAC5CA,GAAyBliB,GAAmB4hB,GAAoB5Z,QAChEka,GAAyBL,OAASxE,GAClC6E,GAAyBrE,iBAAmB,SAAU7iB,EAAGxF,GAAK,OAAO2W,GAAY3W,GAAK,KAAO2W,GAAYnR,IAEzG0f,GAAM5b,EAAmB,CAGvB0D,WAAY,WACV,OAAO,IAAIoE,GAAgB3X,MAAM,IAKnCmI,OAAQ,SAAgBoR,EAAWjB,GACjC,OAAO8D,GAAMpc,KAAMsZ,GAActZ,KAAMuZ,EAAWjB,GAAS,KAG7DjO,UAAW,SAAmBkP,EAAWjB,GACvC,IAAIlF,EAAQpT,KAAK+uB,UAAUxV,EAAWjB,GACtC,OAAOlF,EAAQA,EAAM,IAAM,GAG7B1P,QAAS,SAAiBgqB,GACxB,IAAI/rB,EAAM3B,KAAKgxB,MAAMtD,GACrB,YAAe1iB,IAARrJ,GAAqB,EAAIA,GAGlCmsB,YAAa,SAAqBJ,GAChC,IAAI/rB,EAAM3B,KAAKmxB,UAAUzD,GACzB,YAAe1iB,IAARrJ,GAAqB,EAAIA,GAGlC2K,QAAS,WACP,OAAO8P,GAAMpc,KAAMoY,GAAepY,MAAM,KAG1C8C,MAAO,SAAeyL,EAAO3L,GAC3B,OAAOwZ,GAAMpc,KAAMyZ,GAAazZ,KAAMuO,EAAO3L,GAAK,KAGpDgK,OAAQ,SAAgBuB,EAAO+kB,GAC7B,IAAIC,EAAUtf,UAAU7Q,OAExB,GADAkwB,EAAY5tB,KAAKC,IAAI2tB,GAAa,EAAG,GACrB,IAAZC,GAA8B,IAAZA,IAAkBD,EACtC,OAAOlzB,KAKTmO,EAAQM,EAAaN,EAAOA,EAAQ,EAAInO,KAAKmjB,QAAUnjB,KAAK+N,MAC5D,IAAIqlB,EAAUpzB,KAAK8C,MAAM,EAAGqL,GAC5B,OAAOiO,GACLpc,KACY,IAAZmzB,EACIC,EACAA,EAAQ1qB,OAAO4T,GAAQzI,UAAW,GAAI7T,KAAK8C,MAAMqL,EAAQ+kB,MAMjEG,cAAe,SAAuB9Z,EAAWjB,GAC/C,IAAIlF,EAAQpT,KAAKowB,cAAc7W,EAAWjB,GAC1C,OAAOlF,EAAQA,EAAM,IAAM,GAG7Bkd,MAAO,SAAepc,GACpB,OAAOlU,KAAKiB,IAAI,EAAGiT,IAGrBwG,QAAS,SAAiBI,GACxB,OAAOsB,GAAMpc,KAAM6a,GAAe7a,KAAM8a,GAAO,KAGjD7Z,IAAK,SAAakN,EAAO+F,GAEvB,OADA/F,EAAQD,EAAUlO,KAAMmO,IACT,GACZnO,KAAK+N,OAASc,UAA2B7D,IAAdhL,KAAK+N,MAAsBI,EAAQnO,KAAK+N,KAClEmG,EACAlU,KAAK8uB,MAAK,SAAU/lB,EAAGpH,GAAO,OAAOA,IAAQwM,SAAUnD,EAAWkJ,IAGxEC,IAAK,SAAahG,GAEhB,OADAA,EAAQD,EAAUlO,KAAMmO,KAEb,SACMnD,IAAdhL,KAAK+N,KACF/N,KAAK+N,OAASc,KAAYV,EAAQnO,KAAK+N,MACd,IAAzB/N,KAAK0D,QAAQyK,KAIrBmlB,UAAW,SAAmBrE,GAC5B,OAAO7S,GAAMpc,KAz8GjB,SAA0ByU,EAAYwa,GACpC,IAAIsE,EAAqBna,GAAa3E,GA6BtC,OA5BA8e,EAAmBxlB,KAAO0G,EAAW1G,MAA0B,EAAlB0G,EAAW1G,KAAW,EACnEwlB,EAAmBvgB,kBAAoB,SAAS7L,EAAImF,GAClD,IAAI4L,EAASlY,KAET2U,EAAa,EAMjB,OALAF,EAAWzG,WACT,SAAUjC,GAAK,QAAS4I,IAAsD,IAAxCxN,EAAG8nB,EAAWta,IAAcuD,MAChC,IAAhC/Q,EAAG4E,EAAG4I,IAAcuD,KACtB5L,GAEKqI,GAET4e,EAAmBjgB,mBAAqB,SAASpC,EAAM5E,GACrD,IAEIsI,EAFA9D,EAAW2D,EAAWpB,WAp8CT,EAo8CoC/G,GACjDqI,EAAa,EAEjB,OAAO,IAAI3D,GAAS,WAClB,QAAK4D,GAAQD,EAAa,KACxBC,EAAO9D,EAAShH,QACPsH,KACAwD,EAGJD,EAAa,EAChB1D,EAAcC,EAAMyD,IAAcsa,GAClChe,EAAcC,EAAMyD,IAAcC,EAAKvT,MAAOuT,OAG/C2e,EA26GcC,CAAiBxzB,KAAMivB,KAG5CwE,WAAY,WACV,IAAI3U,EAAc,CAAC9e,MAAM0I,OAAO4T,GAAQzI,YACpC6f,EAAShY,GAAe1b,KAAKwS,QAAS1C,EAAW8D,GAAIkL,GACrD6U,EAAcD,EAAOhZ,SAAQ,GAIjC,OAHIgZ,EAAO3lB,OACT4lB,EAAY5lB,KAAO2lB,EAAO3lB,KAAO+Q,EAAY9b,QAExCoZ,GAAMpc,KAAM2zB,IAGrBvH,OAAQ,WACN,OAAOiB,GAAM,EAAGrtB,KAAK+N,OAGvBmjB,KAAM,SAAchd,GAClB,OAAOlU,KAAKiB,KAAK,EAAGiT,IAGtB0d,UAAW,SAAmBrY,EAAWjB,GACvC,OAAO8D,GAAMpc,KAAMka,GAAiBla,KAAMuZ,EAAWjB,GAAS,KAGhEsb,IAAK,WACH,IAAI9U,EAAc,CAAC9e,MAAM0I,OAAO4T,GAAQzI,YACxC,OAAOuI,GAAMpc,KAAM0b,GAAe1b,KAAM6zB,GAAe/U,KAGzDjD,OAAQ,WACN,IAAIiD,EAAc,CAAC9e,MAAM0I,OAAO4T,GAAQzI,YACxC,OAAOuI,GAAMpc,KAAM0b,GAAe1b,KAAM6zB,GAAe/U,GAAa,KAGtEgV,QAAS,SAAiBlY,GACxB,IAAIkD,EAAcxC,GAAQzI,WAE1B,OADAiL,EAAY,GAAK9e,KACVoc,GAAMpc,KAAM0b,GAAe1b,KAAM4b,EAAQkD,OAIpD,IAAIiV,GAA6BlkB,EAAkB7N,UAiCnD,SAAS2Y,GAAOlG,EAAY2a,EAAS4E,EAAW1b,EAAS2b,EAAU3nB,GAUjE,OATAuQ,GAAkBpI,EAAW1G,MAC7B0G,EAAWzG,WAAU,SAAUjC,EAAGxF,EAAG9F,GAC/BwzB,GACFA,GAAW,EACXD,EAAYjoB,GAEZioB,EAAY5E,EAAQ7uB,KAAK+X,EAAS0b,EAAWjoB,EAAGxF,EAAG9F,KAEpD6L,GACI0nB,EAGT,SAAS/C,GAAUllB,EAAGxF,GACpB,OAAOA,EAGT,SAASwpB,GAAYhkB,EAAGxF,GACtB,MAAO,CAACA,EAAGwF,GAGb,SAASwjB,GAAIhW,GACX,OAAO,WACL,OAAQA,EAAUzU,MAAM9E,KAAM6T,YAIlC,SAASwd,GAAI9X,GACX,OAAO,WACL,OAAQA,EAAUzU,MAAM9E,KAAM6T,YAIlC,SAASggB,KACP,OAAOvX,GAAQzI,WAGjB,SAASyd,GAAqBjvB,EAAGC,GAC/B,OAAOD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,EAyClC,SAASmwB,GAAUpwB,EAAGC,GACpB,OAAQD,EAAKC,EAAI,YAAcD,GAAK,IAAMA,GAAK,GAAO,EAhHxD0xB,GAt/JwB,8BAs/JwB,EAChDA,GAA2BrjB,IAAqB,EAEhD+a,GAAM1b,EAAe,CAGnB9O,IAAK,SAAaI,EAAO6S,GACvB,OAAOlU,KAAKmU,IAAI9S,GAASA,EAAQ6S,GAGnCyE,SAAU,SAAkBtX,GAC1B,OAAOrB,KAAKmU,IAAI9S,IAKlB+qB,OAAQ,WACN,OAAOpsB,KAAKiY,cAIhBlI,EAAc/N,UAAUmS,IAAMwe,GAAoBha,SAClD5I,EAAc/N,UAAU8wB,SAAW/iB,EAAc/N,UAAU2W,SAI3D8S,GAAM/b,EAAUD,EAAgBzN,WAChCypB,GAAM3b,EAAYD,EAAkB7N,WACpCypB,GAAMzb,EAAQD,EAAc/N,WAuF5B,IAAI+qB,GAA2B,SAAUmH,GACvC,SAASnH,EAAW1rB,GAClB,OAAOA,QACH8yB,KACAjJ,GAAa7pB,GACXA,EACA8yB,KAAkBlV,eAAc,SAAU9H,GACxC,IAAIrJ,EAAOiC,EAAc1O,GACzBwb,GAAkB/O,EAAKC,MACvBD,EAAKtD,SAAQ,SAAUuB,GAAK,OAAOoL,EAAI+U,IAAIngB,SAoBrD,OAhBKmoB,IAASnH,EAAWpd,UAAYukB,GACrCnH,EAAW/qB,UAAYlB,OAAOY,OAAQwyB,GAAUA,EAAOlyB,WACvD+qB,EAAW/qB,UAAU4N,YAAcmd,EAEnCA,EAAWnZ,GAAK,WACd,OAAO5T,KAAK6T,YAGdkZ,EAAWZ,SAAW,SAAmB9qB,GACvC,OAAOrB,KAAKyP,EAAgBpO,GAAO+qB,WAGrCW,EAAW/qB,UAAUsF,SAAW,WAC9B,OAAOtH,KAAK6S,WAAW,eAAgB,MAGlCka,EA7BqB,CA8B5B5c,IAEF4c,GAAW7B,aAAeA,GAE1B,IAgBIkJ,GAhBAC,GAAsBtH,GAAW/qB,UAQrC,SAASsyB,GAAevvB,EAAKyc,GAC3B,IAAIrK,EAAMrW,OAAOY,OAAO2yB,IAIxB,OAHAld,EAAIpJ,KAAOhJ,EAAMA,EAAIgJ,KAAO,EAC5BoJ,EAAIyS,KAAO7kB,EACXoS,EAAI6H,UAAYwC,EACTrK,EAIT,SAASgd,KACP,OACEC,KAAsBA,GAAoBE,GAAe3K,OAlB7D0K,GAAoB3jB,IAAqB,EACzC2jB,GAAoBT,IAAMG,GAA2BH,IACrDS,GAAoBP,QAAUC,GAA2BD,QAEzDO,GAAoBpH,QAAUkH,GAC9BE,GAAoBrH,OAASsH,GAiB7B,IAAIC,GAAS,SAAgBC,EAAe7zB,GAC1C,IAAI8zB,EAEAC,EAAa,SAAgB9sB,GAC/B,IAAIsQ,EAASlY,KAEb,GAAI4H,aAAkB8sB,EACpB,OAAO9sB,EAET,KAAM5H,gBAAgB00B,GACpB,OAAO,IAAIA,EAAW9sB,GAExB,IAAK6sB,EAAgB,CACnBA,GAAiB,EACjB,IAAIrrB,EAAOtI,OAAOsI,KAAKorB,GACnBG,EAAWC,EAAoBC,SAAW,GAI9CD,EAAoBE,MAAQn0B,EAC5Bi0B,EAAoBtgB,MAAQlL,EAC5BwrB,EAAoBG,eAAiBP,EACrC,IAAK,IAAIp0B,EAAI,EAAGA,EAAIgJ,EAAKpG,OAAQ5C,IAAK,CACpC,IAAI40B,EAAW5rB,EAAKhJ,GACpBu0B,EAAQK,GAAY50B,EAChBw0B,EAAoBI,GAEH,iBAAZC,SACLA,QAAQC,MACRD,QAAQC,KACN,iBACEC,GAAWn1B,MACX,mBACAg1B,EACA,yDAINI,GAAQR,EAAqBI,IAInCh1B,KAAKgf,eAAYhU,EACjBhL,KAAKq1B,QAAUxP,KAAO5G,eAAc,SAAU5e,GAC5CA,EAAE+lB,QAAQlO,EAAO5D,MAAMtR,QACvByM,EAAgB7H,GAAQ4C,SAAQ,SAAUuB,EAAGxF,GAC3ClG,EAAE8W,IAAIe,EAAO2c,SAAStuB,GAAIwF,IAAMmM,EAAO6c,eAAexuB,QAAKyE,EAAYe,UAKzE6oB,EAAuBF,EAAW1yB,UAAYlB,OAAOY,OACvD4zB,IAQF,OANAV,EAAoBhlB,YAAc8kB,EAE9B/zB,IACF+zB,EAAWa,YAAc50B,GAGpB+zB,GAGTH,GAAOvyB,UAAUsF,SAAW,WAI1B,IAHA,IAEIf,EAFAhE,EAAM4yB,GAAWn1B,MAAQ,MACzBoJ,EAAOpJ,KAAKsU,MAEPlU,EAAI,EAAGC,EAAI+I,EAAKpG,OAAQ5C,IAAMC,EAAGD,IAExCmC,IAAQnC,EAAI,KAAO,KADnBmG,EAAI6C,EAAKhJ,IACoB,KAAO8c,GAAYld,KAAKiB,IAAIsF,IAE3D,OAAOhE,EAAM,MAGfgyB,GAAOvyB,UAAUmT,OAAS,SAAiB4Y,GACzC,OACE/tB,OAAS+tB,GACRA,GACC/tB,KAAKsU,QAAUyZ,EAAMzZ,OACrBkhB,GAAUx1B,MAAMmV,OAAOqgB,GAAUzH,KAIvCwG,GAAOvyB,UAAUoT,SAAW,WAC1B,OAAOogB,GAAUx1B,MAAMoV,YAKzBmf,GAAOvyB,UAAUmS,IAAM,SAAc5N,GACnC,OAAOvG,KAAK60B,SAAS5yB,eAAesE,IAGtCguB,GAAOvyB,UAAUf,IAAM,SAAcsF,EAAG2N,GACtC,IAAKlU,KAAKmU,IAAI5N,GACZ,OAAO2N,EAET,IAAI/F,EAAQnO,KAAK60B,SAAStuB,GACtBlF,EAAQrB,KAAKq1B,QAAQp0B,IAAIkN,GAC7B,YAAiBnD,IAAV3J,EAAsBrB,KAAK+0B,eAAexuB,GAAKlF,GAKxDkzB,GAAOvyB,UAAUmV,IAAM,SAAc5Q,EAAGwF,GACtC,GAAI/L,KAAKmU,IAAI5N,GAAI,CACf,IAAIqF,EAAY5L,KAAKq1B,QAAQle,IAC3BnX,KAAK60B,SAAStuB,GACdwF,IAAM/L,KAAK+0B,eAAexuB,QAAKyE,EAAYe,GAE7C,GAAIH,IAAc5L,KAAKq1B,UAAYr1B,KAAKgf,UACtC,OAAOyW,GAAWz1B,KAAM4L,GAG5B,OAAO5L,MAGTu0B,GAAOvyB,UAAUqb,OAAS,SAAiB9W,GACzC,OAAOvG,KAAKmX,IAAI5Q,IAGlBguB,GAAOvyB,UAAUkf,MAAQ,WACvB,IAAItV,EAAY5L,KAAKq1B,QAAQnU,QAAQkF,QAAQpmB,KAAKsU,MAAMtR,QACxD,OAAOhD,KAAKgf,UAAYhf,KAAOy1B,GAAWz1B,KAAM4L,IAGlD2oB,GAAOvyB,UAAUwe,WAAa,WAC5B,OAAOxgB,KAAKq1B,QAAQ7U,cAGtB+T,GAAOvyB,UAAUwQ,MAAQ,WACvB,OAAOgjB,GAAUx1B,OAGnBu0B,GAAOvyB,UAAU8pB,KAAO,WACtB,OAAOA,GAAK9rB,OAGdu0B,GAAOvyB,UAAU+W,QAAU,WACzB,OAAO/Y,KAAKqT,WA/tKQ,IAkuKtBkhB,GAAOvyB,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACvD,OAAOkpB,GAAUx1B,MAAMqT,WAAWnC,EAAM5E,IAG1CioB,GAAOvyB,UAAUgM,UAAY,SAAoB7G,EAAImF,GACnD,OAAOkpB,GAAUx1B,MAAMgO,UAAU7G,EAAImF,IAGvCioB,GAAOvyB,UAAUye,cAAgB,SAAwBe,GACvD,GAAIA,IAAYxhB,KAAKgf,UACnB,OAAOhf,KAET,IAAI4L,EAAY5L,KAAKq1B,QAAQ5U,cAAce,GAC3C,OAAKA,EAKEiU,GAAWz1B,KAAM4L,EAAW4V,IAJjCxhB,KAAKgf,UAAYwC,EACjBxhB,KAAKq1B,QAAUzpB,EACR5L,OAKXu0B,GAAOjkB,SAAWA,EAClBikB,GAAOmB,mBAAqBP,GAC5B,IAAIG,GAAkBf,GAAOvyB,UAyB7B,SAASyzB,GAAWE,EAAY/tB,EAAQ4Z,GACtC,IAAIoU,EAAS90B,OAAOY,OAAOZ,OAAO+0B,eAAeF,IAGjD,OAFAC,EAAOP,QAAUztB,EACjBguB,EAAO5W,UAAYwC,EACZoU,EAGT,SAAST,GAAWS,GAClB,OAAOA,EAAOhmB,YAAY2lB,aAAeK,EAAOhmB,YAAYjP,MAAQ,SAGtE,SAAS60B,GAAUI,GACjB,OAAOniB,EAAkBmiB,EAAOthB,MAAMvP,KAAI,SAAUwB,GAAK,MAAO,CAACA,EAAGqvB,EAAO30B,IAAIsF,QAGjF,SAAS6uB,GAAQpzB,EAAWrB,GAC1B,IACEG,OAAOC,eAAeiB,EAAWrB,EAAM,CACrCM,IAAK,WACH,OAAOjB,KAAKiB,IAAIN,IAElBwW,IAAK,SAAS9V,GACZsb,GAAU3c,KAAKgf,UAAW,sCAC1Bhf,KAAKmX,IAAIxW,EAAMU,MAGnB,MAAOgK,KAlDXiqB,GA5wKuB,6BA4wKa,EACpCA,GAAsB,OAAIA,GAAgBjY,OAC1CiY,GAAgBhX,SAAWgX,GAAgBjX,SAAWC,GACtDgX,GAAgBtH,MAAQE,GACxBoH,GAAgBnH,MAAQwE,GAAoBxE,MAC5CmH,GAAgB5W,MAAQA,GACxB4W,GAAgB1W,UAAYA,GAC5B0W,GAAgBlV,QAAUA,GAC1BkV,GAAgB9V,UAAYU,GAC5BoV,GAAgB5V,cAAgBS,GAChCmV,GAAgBjV,YAAcA,GAC9BiV,GAAgBnX,MAAQC,GACxBkX,GAAgB/W,OAASC,GACzB8W,GAAgB/X,SAAWkB,GAC3B6W,GAAgBrW,cAAgBA,GAChCqW,GAAgB/U,UAAYA,GAC5B+U,GAAgB5U,YAAcA,GAC9B4U,GAAgBvkB,GAAmBukB,GAAgBvc,QACnDuc,GAAgB1C,OAAS0C,GAAgBlH,SACvCuE,GAAoBvE,SACtBkH,GAAgBrjB,QAAUqjB,GAAgBpjB,SAAW,WACnD,OAAOlS,KAAKsH,YAsCd,IA8FIwuB,GA9FAC,GAAuB,SAAUrd,GACnC,SAASqd,EAAO10B,EAAO20B,GACrB,KAAMh2B,gBAAgB+1B,GACpB,OAAO,IAAIA,EAAO10B,EAAO20B,GAI3B,GAFAh2B,KAAKi2B,OAAS50B,EACdrB,KAAK+N,UAAiB/C,IAAVgrB,EAAsBnnB,IAAWvJ,KAAKC,IAAI,EAAGywB,GACvC,IAAdh2B,KAAK+N,KAAY,CACnB,GAAI+nB,GACF,OAAOA,GAETA,GAAe91B,MAgFnB,OA5EK0Y,IAAgBqd,EAAOpmB,UAAY+I,GACxCqd,EAAO/zB,UAAYlB,OAAOY,OAAQgX,GAAiBA,EAAc1W,WACjE+zB,EAAO/zB,UAAU4N,YAAcmmB,EAE/BA,EAAO/zB,UAAUsF,SAAW,WAC1B,OAAkB,IAAdtH,KAAK+N,KACA,YAEF,YAAc/N,KAAKi2B,OAAS,IAAMj2B,KAAK+N,KAAO,YAGvDgoB,EAAO/zB,UAAUf,IAAM,SAAckN,EAAO+F,GAC1C,OAAOlU,KAAKmU,IAAIhG,GAASnO,KAAKi2B,OAAS/hB,GAGzC6hB,EAAO/zB,UAAU2W,SAAW,SAAmB+U,GAC7C,OAAOrY,EAAGrV,KAAKi2B,OAAQvI,IAGzBqI,EAAO/zB,UAAUc,MAAQ,SAAgByL,EAAO3L,GAC9C,IAAImL,EAAO/N,KAAK+N,KAChB,OAAOO,EAAWC,EAAO3L,EAAKmL,GAC1B/N,KACA,IAAI+1B,EACF/1B,KAAKi2B,OACLtnB,EAAW/L,EAAKmL,GAAQU,EAAaF,EAAOR,KAIpDgoB,EAAO/zB,UAAUsK,QAAU,WACzB,OAAOtM,MAGT+1B,EAAO/zB,UAAU0B,QAAU,SAAkBgqB,GAC3C,OAAIrY,EAAGrV,KAAKi2B,OAAQvI,GACX,GAED,GAGVqI,EAAO/zB,UAAU8rB,YAAc,SAAsBJ,GACnD,OAAIrY,EAAGrV,KAAKi2B,OAAQvI,GACX1tB,KAAK+N,MAEN,GAGVgoB,EAAO/zB,UAAUgM,UAAY,SAAoB7G,EAAImF,GAGnD,IAFA,IAAIyB,EAAO/N,KAAK+N,KACZ3N,EAAI,EACDA,IAAM2N,IAC+C,IAAtD5G,EAAGnH,KAAKi2B,OAAQ3pB,EAAUyB,IAAS3N,EAAIA,IAAKJ,QAIlD,OAAOI,GAGT21B,EAAO/zB,UAAUqR,WAAa,SAAqBnC,EAAM5E,GACvD,IAAI4L,EAASlY,KAET+N,EAAO/N,KAAK+N,KACZ3N,EAAI,EACR,OAAO,IAAI4Q,GACT,WAAc,OAAO5Q,IAAM2N,EA91KxB,CAAE1M,WAAO2J,EAAWoG,MAAM,GAg2KvBH,EAAcC,EAAM5E,EAAUyB,IAAS3N,EAAIA,IAAK8X,EAAO+d,YAIjEF,EAAO/zB,UAAUmT,OAAS,SAAiB4Y,GACzC,OAAOA,aAAiBgI,EACpB1gB,EAAGrV,KAAKi2B,OAAQlI,EAAMkI,QACtB7K,GAAU2C,IAGTgI,EA3FiB,CA4FxBjmB,GAIF,SAASomB,GAAO70B,EAAO80B,GACrB,OAUF,SAASC,EAAWtqB,EAAOqqB,EAAW90B,EAAOM,EAAKob,EAASsZ,GACzD,IAAI7jB,EAAQrM,MAAMkB,QAAQhG,GACtByO,EACAkN,GAAW3b,GACTqO,EACA,KACN,GAAI8C,EAAO,CACT,IAAK1G,EAAMpI,QAAQrC,GACjB,MAAM,IAAIiK,UAAU,kDAEtBQ,EAAMlI,KAAKvC,GACX0b,GAAmB,KAARpb,GAAcob,EAAQnZ,KAAKjC,GACtC,IAAI20B,EAAYH,EAAU51B,KACxB81B,EACA10B,EACA6Q,EAAMnR,GAAO0D,KAAI,SAAUgH,EAAGxF,GAAK,OAAO6vB,EAAWtqB,EAAOqqB,EAAWpqB,EAAGxF,EAAGwW,EAAS1b,MAEtF0b,GAAWA,EAAQja,SAIrB,OAFAgJ,EAAMjI,MACNkZ,GAAWA,EAAQlZ,MACZyyB,EAET,OAAOj1B,EAjCA+0B,CACL,GACAD,GAAaI,GACbl1B,EACA,GACA80B,GAAaA,EAAUnzB,OAAS,EAAI,QAAKgI,EACzC,CAAE,GAAI3J,IA8BV,SAASk1B,GAAiBhwB,EAAGwF,GAC3B,OAAOkD,EAAQlD,GAAKA,EAAEoe,QAAUpe,EAAE4iB,SAGpC,IAAI6H,GAAU,cAEVC,GAAY,CACdD,QAASA,GAETjnB,WAAYA,EAEZmnB,SAAUnnB,EAEVC,IAAKA,EACLoR,IAAKA,GACLQ,WAAYA,GACZyE,KAAMA,GACNyE,MAAOA,GACPna,IAAKA,GACL4c,WAAYA,GAEZwH,OAAQA,GACRlH,MAAOA,GACP0I,OAAQA,GAER1gB,GAAIA,EACJ6gB,OAAQA,GACRrgB,KAAMA,GAENrF,YAAaA,EACbzB,aAAcA,EACdE,QAASA,EACTE,UAAWA,EACXE,cAAeA,EACfsB,UAAWA,EACXsE,cAAeA,EACf7E,MAAOA,EACPuV,OAAQA,GACR9Q,MAAOA,EACPE,aAAcA,EACdqV,QAASA,GACTY,MAAOA,GACPE,aAAcA,GACd5a,SAAUA,EAEVrP,IAAKA,GACL+sB,MAAOA,GACP7Z,IAAKA,GACLga,MAAOA,GACPzP,MAAOU,GACPI,UAAWA,GACXZ,UAAWW,GACXG,cAAeA,GACfrC,OAAQA,GACRgB,SAAUA,GACVlH,IAAKA,GACLgH,MAAOA,GACPI,OAAQA,GACRhB,SAAUA,IAIRmZ,GAAWnnB,EAEA,c,yECtrLf,MAAMonB,EAAY,EAAQ,yCACpBC,EAAU,gCACVC,EAAe,cAErB,MAAMC,EACL,YAAYvuB,EAASgB,GACpBvJ,KAAKuI,QAAUA,EACfvI,KAAKuJ,QAAUA,GAAW,GAG3B,SAIC,OAHKvJ,KAAK+2B,SAA0B,IAAhB/2B,KAAK+2B,SACxB/2B,KAAK+2B,OAASC,EAAOh3B,KAAKuI,QAASvI,KAAKuJ,UAElCvJ,KAAK+2B,OAGb,QAAQE,GACP,IAAIzzB,GAAS,EACTL,EAAQ8zB,EAAK9zB,MAAMnD,KAAKg3B,UAQ5B,OAPI7zB,IACHA,EAAQA,EAAMgF,OAAO+uB,GACrB1zB,EAASL,EAAM,IAAMA,EAAM,GACtBnD,KAAKuJ,QAAQ4tB,QAAqB,MAAX3zB,IAC3BA,EAASA,EAAO0E,QAAQ,WAAY,MAG/B1E,GAIT,SAASiB,EAAM8D,GACd,MAAM5D,EAAQ4D,EAAQ9D,MAAMmyB,GAC5B,OAAqB,IAAjBjyB,EAAM3B,OACF,CAAC,GAAI2B,EAAM,GAAI,IAEhB,CAACA,EAAM,GAAIA,EAAM7B,MAAM,GAAI,GAAGsD,KAAK,IAAKzB,EAAMA,EAAM3B,OAAS,IAGrE,MAAMo0B,EAAW,CAACA,UAAU,GAuB5B,SAASJ,EAAOzuB,EAASgB,GACxB,IACC,OAvBF,SAAiBhB,EAASgB,GACzB,MAAM8tB,EAAQ9tB,GAAWA,EAAQ+tB,OAAS,IAAM,GAE1CC,EADcZ,EAAUa,YAAYjvB,EAASgB,GACnBxE,IAAI0yB,IACnC,MAAM9yB,EAAQF,EAAMgzB,GACdn0B,EAAOqB,EAAM,GACb+yB,EAAS/yB,EAAM,GACfpB,EAAQoB,EAAM,GACdqF,EAAO1G,EAAOxC,OAAO62B,OAAO,GAAIpuB,EAAS6tB,GAAY7tB,EAE3D,IAAIquB,EADOjB,EAAUK,OAAOU,EAAQ1tB,GACnB6tB,OAAO/0B,MAAM,GAAI,GAMlC,OALI+zB,EAAa1yB,KAAKuzB,KACrBE,EAAUA,EAAQ1vB,QAAQ,UACzB,MAAQ3E,EAAMu0B,WAAW,KAAO,IAAM,KAAO,SAGxCC,EAAaz0B,GAAQ,IAAMs0B,EAAU,IAAMG,EAAax0B,KAEhE,OAAO,IAAIf,OAAO,OAAS+0B,EAAYnxB,KAAK,KAAO,KAAMixB,GAKjDW,CAAQzvB,EAASgB,GACvB,MAAOkO,GACR,OAAO,GA4BT,SAASyf,EAAMnrB,GACd,YAAaf,IAANe,EAIR,SAASgsB,EAAa51B,GACrB,OAAOA,EAAE+F,QAAQ,2BAA4B,QAjB9CrI,EAAOD,QAAU,SAASq3B,EAAM1uB,EAASgB,GACxC,OAAO,IAAIutB,EAAQvuB,EAASgB,GAASquB,QAAQX,IAG9Cn2B,OAAO62B,OAAO93B,EAAOD,QAAS,CAC7Bk3B,UACAryB,QACAuyB,SACA7zB,MArBD,SAAegjB,EAAM5d,EAASgB,GAC7B,MAAM0uB,EAAM,IAAInB,EAAQvuB,EAASgB,GAC3B/F,EAAS,GACf,IAAK,IAAIpD,EAAI,EAAGA,EAAI+lB,EAAKnjB,OAAQ5C,IAAK,CACrC,MAAM62B,EAAO9Q,EAAK/lB,GACZ+C,EAAQ80B,EAAIL,QAAQX,GACtB9zB,GACHK,EAAOI,KAAK,CAACqzB,EAAM9zB,IAGrB,OAAOK,M,wDClFR3D,EAAOD,QAAU+2B,EACjBA,EAAUuB,UAAYA,EAEtB,IAAIjB,EAAO,CAAEkB,IAAK,KAClB,IACElB,EAAO,EAAQ,2CACf,MAAOmB,IAET,IAAIC,EAAW1B,EAAU0B,SAAWH,EAAUG,SAAW,GACrDr0B,EAAS,EAAQ,2CAEjBs0B,EAAU,CACZ,IAAK,CAAEC,KAAM,YAAaC,MAAO,aACjC,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAoBzBC,EAAqB,kBAIdh0B,MAAM,IAAIkW,QAAO,SAAUxD,EAAK1W,GAEvC,OADA0W,EAAI1W,IAAK,EACF0W,IACN,IAIL,IAAIuhB,EAAa,MAUjB,SAASC,EAAKt2B,EAAGC,GACfD,EAAIA,GAAK,GACTC,EAAIA,GAAK,GACT,IAAIhB,EAAI,GAOR,OANAR,OAAOsI,KAAK9G,GAAGkI,SAAQ,SAAUjE,GAC/BjF,EAAEiF,GAAKjE,EAAEiE,MAEXzF,OAAOsI,KAAK/G,GAAGmI,SAAQ,SAAUjE,GAC/BjF,EAAEiF,GAAKlE,EAAEkE,MAEJjF,EAwBT,SAASq1B,EAAWz0B,EAAGqG,EAASgB,GAC9B,GAAuB,iBAAZhB,EACT,MAAM,IAAI+C,UAAU,gCAMtB,OAHK/B,IAASA,EAAU,OAGnBA,EAAQqvB,WAAmC,MAAtBrwB,EAAQswB,OAAO,MAKlB,KAAnBtwB,EAAQP,OAA4B,KAAN9F,EAE3B,IAAIg2B,EAAU3vB,EAASgB,GAASpG,MAAMjB,IAG/C,SAASg2B,EAAW3vB,EAASgB,GAC3B,KAAMvJ,gBAAgBk4B,GACpB,OAAO,IAAIA,EAAU3vB,EAASgB,GAGhC,GAAuB,iBAAZhB,EACT,MAAM,IAAI+C,UAAU,gCAGjB/B,IAASA,EAAU,IACxBhB,EAAUA,EAAQP,OAGD,MAAbivB,EAAKkB,MACP5vB,EAAUA,EAAQ9D,MAAMwyB,EAAKkB,KAAK/xB,KAAK,MAGzCpG,KAAKuJ,QAAUA,EACfvJ,KAAKmX,IAAM,GACXnX,KAAKuI,QAAUA,EACfvI,KAAK+2B,OAAS,KACd/2B,KAAK84B,QAAS,EACd94B,KAAK+4B,SAAU,EACf/4B,KAAK+lB,OAAQ,EAGb/lB,KAAKg5B,OAiGP,SAASxB,EAAajvB,EAASgB,GAY7B,GAXKA,IAEDA,EADEvJ,gBAAgBk4B,EACRl4B,KAAKuJ,QAEL,SAOS,KAHvBhB,OAA6B,IAAZA,EACbvI,KAAKuI,QAAUA,GAGjB,MAAM,IAAI+C,UAAU,qBAGtB,OAAI/B,EAAQ0vB,UACT1wB,EAAQpF,MAAM,UAER,CAACoF,GAGHvE,EAAOuE,GA7MhBouB,EAAUxuB,OACV,SAAiBI,EAASgB,GAExB,OADAA,EAAUA,GAAW,GACd,SAAUrH,EAAG9B,EAAG+lB,GACrB,OAAOwQ,EAAUz0B,EAAGqG,EAASgB,KAiBjCotB,EAAUuC,SAAW,SAAUC,GAC7B,IAAKA,IAAQr4B,OAAOsI,KAAK+vB,GAAKn2B,OAAQ,OAAO2zB,EAE7C,IAAIyC,EAAOzC,EAEPn2B,EAAI,SAAoB0B,EAAGqG,EAASgB,GACtC,OAAO6vB,EAAKzC,UAAUz0B,EAAGqG,EAASowB,EAAIQ,EAAK5vB,KAO7C,OAJA/I,EAAE03B,UAAY,SAAoB3vB,EAASgB,GACzC,OAAO,IAAI6vB,EAAKlB,UAAU3vB,EAASowB,EAAIQ,EAAK5vB,KAGvC/I,GAGT03B,EAAUgB,SAAW,SAAUC,GAC7B,OAAKA,GAAQr4B,OAAOsI,KAAK+vB,GAAKn2B,OACvB2zB,EAAUuC,SAASC,GAAKjB,UADcA,GAmD/CA,EAAUl2B,UAAUq3B,MAAQ,aAE5BnB,EAAUl2B,UAAUg3B,KACpB,WAEE,GAAIh5B,KAAKs5B,MAAO,OAEhB,IAAI/wB,EAAUvI,KAAKuI,QACfgB,EAAUvJ,KAAKuJ,QAGnB,IAAKA,EAAQqvB,WAAmC,MAAtBrwB,EAAQswB,OAAO,GAEvC,YADA74B,KAAK+4B,SAAU,GAGjB,IAAKxwB,EAEH,YADAvI,KAAK+lB,OAAQ,GAKf/lB,KAAKu5B,cAGL,IAAIpiB,EAAMnX,KAAKw5B,QAAUx5B,KAAKw3B,cAE1BjuB,EAAQ8vB,QAAOr5B,KAAKq5B,MAAQpE,QAAQ5pB,OAExCrL,KAAKq5B,MAAMr5B,KAAKuI,QAAS4O,GAOzBA,EAAMnX,KAAKy5B,UAAYtiB,EAAIpS,KAAI,SAAU5C,GACvC,OAAOA,EAAEsC,MAAMi0B,MAGjB14B,KAAKq5B,MAAMr5B,KAAKuI,QAAS4O,GAGzBA,EAAMA,EAAIpS,KAAI,SAAU5C,EAAGu3B,EAAIviB,GAC7B,OAAOhV,EAAE4C,IAAI/E,KAAK25B,MAAO35B,QACxBA,MAEHA,KAAKq5B,MAAMr5B,KAAKuI,QAAS4O,GAGzBA,EAAMA,EAAIhP,QAAO,SAAUhG,GACzB,OAA6B,IAAtBA,EAAEuB,SAAQ,MAGnB1D,KAAKq5B,MAAMr5B,KAAKuI,QAAS4O,GAEzBnX,KAAKmX,IAAMA,GAGb+gB,EAAUl2B,UAAUu3B,YACpB,WACE,IAAIhxB,EAAUvI,KAAKuI,QACfuwB,GAAS,EACTvvB,EAAUvJ,KAAKuJ,QACfqwB,EAAe,EAEnB,GAAIrwB,EAAQ6tB,SAAU,OAEtB,IAAK,IAAIh3B,EAAI,EAAGC,EAAIkI,EAAQvF,OACxB5C,EAAIC,GAA2B,MAAtBkI,EAAQswB,OAAOz4B,GACxBA,IACF04B,GAAUA,EACVc,IAGEA,IAAc55B,KAAKuI,QAAUA,EAAQxE,OAAO61B,IAChD55B,KAAK84B,OAASA,GAahBnC,EAAUa,YAAc,SAAUjvB,EAASgB,GACzC,OAAOiuB,EAAYjvB,EAASgB,IAG9B2uB,EAAUl2B,UAAUw1B,YAAcA,EAsClCU,EAAUl2B,UAAU23B,MAEpB,SAAgBpxB,EAASsxB,GACvB,GAAItxB,EAAQvF,OAAS,MACnB,MAAM,IAAIsI,UAAU,uBAGtB,IAAI/B,EAAUvJ,KAAKuJ,QAGnB,IAAKA,EAAQuwB,YAA0B,OAAZvxB,EAAkB,OAAO8vB,EACpD,GAAgB,KAAZ9vB,EAAgB,MAAO,GAE3B,IAMIwxB,EANAC,EAAK,GACLC,IAAa1wB,EAAQ+tB,OACrB4C,GAAW,EAEXC,EAAmB,GACnBC,EAAgB,GAEhBC,GAAU,EACVC,GAAgB,EAChBC,GAAc,EAGdC,EAAqC,MAAtBjyB,EAAQswB,OAAO,GAAa,GAE7CtvB,EAAQkxB,IAAM,iCACd,UACEC,EAAO16B,KAEX,SAAS26B,IACP,GAAIZ,EAAW,CAGb,OAAQA,GACN,IAAK,IACHC,GAzRCY,SA0RDX,GAAW,EACb,MACA,IAAK,IACHD,GAhSE,OAiSFC,GAAW,EACb,MACA,QACED,GAAM,KAAOD,EAGjBW,EAAKrB,MAAM,uBAAwBU,EAAWC,GAC9CD,GAAY,GAIhB,IAAK,IAAiCt5B,EAA7BL,EAAI,EAAGqc,EAAMlU,EAAQvF,OACzB5C,EAAIqc,IAAShc,EAAI8H,EAAQswB,OAAOz4B,IACjCA,IAIF,GAHAJ,KAAKq5B,MAAM,eAAgB9wB,EAASnI,EAAG45B,EAAIv5B,GAGvCy5B,GAAYzB,EAAWh4B,GACzBu5B,GAAM,KAAOv5B,EACby5B,GAAW,OAIb,OAAQz5B,GACN,IAAK,IAGH,OAAO,EAET,IAAK,KACHk6B,IACAT,GAAW,EACb,SAIA,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAKH,GAJAl6B,KAAKq5B,MAAM,6BAA8B9wB,EAASnI,EAAG45B,EAAIv5B,GAIrD45B,EAAS,CACXr6B,KAAKq5B,MAAM,cACD,MAAN54B,GAAaL,IAAMm6B,EAAa,IAAG95B,EAAI,KAC3Cu5B,GAAMv5B,EACN,SAMFi6B,EAAKrB,MAAM,yBAA0BU,GACrCY,IACAZ,EAAYt5B,EAIR8I,EAAQsxB,OAAOF,IACrB,SAEA,IAAK,IACH,GAAIN,EAAS,CACXL,GAAM,IACN,SAGF,IAAKD,EAAW,CACdC,GAAM,MACN,SAGFG,EAAiBv2B,KAAK,CACpBsN,KAAM6oB,EACNp3B,MAAOvC,EAAI,EACX06B,QAASd,EAAGh3B,OACZu1B,KAAMD,EAAQyB,GAAWxB,KACzBC,MAAOF,EAAQyB,GAAWvB,QAG5BwB,GAAoB,MAAdD,EAAoB,YAAc,MACxC/5B,KAAKq5B,MAAM,eAAgBU,EAAWC,GACtCD,GAAY,EACd,SAEA,IAAK,IACH,GAAIM,IAAYF,EAAiBn3B,OAAQ,CACvCg3B,GAAM,MACN,SAGFW,IACAV,GAAW,EACX,IAAIc,EAAKZ,EAAiBt2B,MAG1Bm2B,GAAMe,EAAGvC,MACO,MAAZuC,EAAG7pB,MACLkpB,EAAcx2B,KAAKm3B,GAErBA,EAAGC,MAAQhB,EAAGh3B,OAChB,SAEA,IAAK,IACH,GAAIq3B,IAAYF,EAAiBn3B,QAAUk3B,EAAU,CACnDF,GAAM,MACNE,GAAW,EACX,SAGFS,IACAX,GAAM,IACR,SAGA,IAAK,IAIH,GAFAW,IAEIN,EAAS,CACXL,GAAM,KAAOv5B,EACb,SAGF45B,GAAU,EACVE,EAAan6B,EACbk6B,EAAeN,EAAGh3B,OAClBg3B,GAAMv5B,EACR,SAEA,IAAK,IAKH,GAAIL,IAAMm6B,EAAa,IAAMF,EAAS,CACpCL,GAAM,KAAOv5B,EACby5B,GAAW,EACX,SAKF,GAAIG,EAAS,CAQX,IAAIY,EAAK1yB,EAAQ2yB,UAAUX,EAAa,EAAGn6B,GAC3C,IACEoC,OAAO,IAAMy4B,EAAK,KAClB,MAAO7C,GAEP,IAAI+C,EAAKn7B,KAAK25B,MAAMsB,EAAIG,GACxBpB,EAAKA,EAAGj2B,OAAO,EAAGu2B,GAAgB,MAAQa,EAAG,GAAK,MAClDlB,EAAWA,GAAYkB,EAAG,GAC1Bd,GAAU,EACV,UAKJJ,GAAW,EACXI,GAAU,EACVL,GAAMv5B,EACR,SAEA,QAEEk6B,IAEIT,EAEFA,GAAW,GACFzB,EAAWh4B,IACT,MAANA,GAAa45B,IAClBL,GAAM,MAGRA,GAAMv5B,EAOR45B,IAKFY,EAAK1yB,EAAQxE,OAAOw2B,EAAa,GACjCY,EAAKn7B,KAAK25B,MAAMsB,EAAIG,GACpBpB,EAAKA,EAAGj2B,OAAO,EAAGu2B,GAAgB,MAAQa,EAAG,GAC7ClB,EAAWA,GAAYkB,EAAG,IAS5B,IAAKJ,EAAKZ,EAAiBt2B,MAAOk3B,EAAIA,EAAKZ,EAAiBt2B,MAAO,CACjE,IAAIukB,EAAO4R,EAAGl3B,MAAMi4B,EAAGD,QAAUC,EAAGxC,KAAKv1B,QACzChD,KAAKq5B,MAAM,eAAgBW,EAAIe,GAE/B3S,EAAOA,EAAKlgB,QAAQ,6BAA6B,SAAUa,EAAGsyB,EAAIC,GAYhE,OAXKA,IAEHA,EAAK,MASAD,EAAKA,EAAKC,EAAK,OAGxBt7B,KAAKq5B,MAAM,iBAAkBjR,EAAMA,EAAM2S,EAAIf,GAC7C,IAAI14B,EAAgB,MAAZy5B,EAAG7pB,KAngBJ0pB,SAogBS,MAAZG,EAAG7pB,KAvgBC,OAwgBJ,KAAO6pB,EAAG7pB,KAEd+oB,GAAW,EACXD,EAAKA,EAAGl3B,MAAM,EAAGi4B,EAAGD,SAAWx5B,EAAI,MAAQ8mB,EAI7CuS,IACIT,IAEFF,GAAM,QAKR,IAAIuB,GAAkB,EACtB,OAAQvB,EAAGnB,OAAO,IAChB,IAAK,IACL,IAAK,IACL,IAAK,IAAK0C,GAAkB,EAQ9B,IAAK,IAAI15B,EAAIu4B,EAAcp3B,OAAS,EAAGnB,GAAK,EAAGA,IAAK,CAClD,IAAI25B,EAAKpB,EAAcv4B,GAEnB45B,EAAWzB,EAAGl3B,MAAM,EAAG04B,EAAGV,SAC1BY,EAAU1B,EAAGl3B,MAAM04B,EAAGV,QAASU,EAAGR,MAAQ,GAC1CW,EAAS3B,EAAGl3B,MAAM04B,EAAGR,MAAQ,EAAGQ,EAAGR,OACnCY,EAAU5B,EAAGl3B,MAAM04B,EAAGR,OAE1BW,GAAUC,EAKV,IAAIC,EAAmBJ,EAASh3B,MAAM,KAAKzB,OAAS,EAChD84B,EAAaF,EACjB,IAAKx7B,EAAI,EAAGA,EAAIy7B,EAAkBz7B,IAChC07B,EAAaA,EAAW5zB,QAAQ,WAAY,IAI9C,IAAI6zB,EAAS,GACG,MAHhBH,EAAUE,IAGYjC,IAAUuB,IAC9BW,EAAS,KAGX/B,EADYyB,EAAWC,EAAUE,EAAUG,EAASJ,EAO3C,KAAP3B,GAAaC,IACfD,EAAK,QAAUA,GAGbuB,IACFvB,EAAKQ,EAAeR,GAItB,GAAIH,IAAUuB,EACZ,MAAO,CAACpB,EAAIC,GAMd,IAAKA,EACH,OA4SJ,SAAuB93B,GACrB,OAAOA,EAAE+F,QAAQ,SAAU,MA7SlB8zB,CAAazzB,GAGtB,IAAI8uB,EAAQ9tB,EAAQ+tB,OAAS,IAAM,GACnC,IACE,IAAI2E,EAAS,IAAIz5B,OAAO,IAAMw3B,EAAK,IAAK3C,GACxC,MAAOe,GAKP,OAAO,IAAI51B,OAAO,MAMpB,OAHAy5B,EAAOC,MAAQ3zB,EACf0zB,EAAOE,KAAOnC,EAEPiC,GA5WT,IAAIb,EAAW,GA+WfzE,EAAUK,OAAS,SAAUzuB,EAASgB,GACpC,OAAO,IAAI2uB,EAAU3vB,EAASgB,GAAW,IAAIytB,UAG/CkB,EAAUl2B,UAAUg1B,OACpB,WACE,GAAIh3B,KAAK+2B,SAA0B,IAAhB/2B,KAAK+2B,OAAkB,OAAO/2B,KAAK+2B,OAQtD,IAAI5f,EAAMnX,KAAKmX,IAEf,IAAKA,EAAInU,OAEP,OADAhD,KAAK+2B,QAAS,EACP/2B,KAAK+2B,OAEd,IAAIxtB,EAAUvJ,KAAKuJ,QAEf6yB,EAAU7yB,EAAQuwB,WA1nBbc,SA2nBLrxB,EAAQkxB,IAtnBG,0CAIE,0BAonBbpD,EAAQ9tB,EAAQ+tB,OAAS,IAAM,GAE/B0C,EAAK7iB,EAAIpS,KAAI,SAAUwD,GACzB,OAAOA,EAAQxD,KAAI,SAAU7C,GAC3B,OAAQA,IAAMm2B,EAAY+D,EACV,iBAANl6B,EA8PhB,SAAuBC,GACrB,OAAOA,EAAE+F,QAAQ,2BAA4B,QA/Pb6vB,CAAa71B,GACvCA,EAAEi6B,QACH/1B,KAAK,UACPA,KAAK,KAIR4zB,EAAK,OAASA,EAAK,KAGfh6B,KAAK84B,SAAQkB,EAAK,OAASA,EAAK,QAEpC,IACEh6B,KAAK+2B,OAAS,IAAIv0B,OAAOw3B,EAAI3C,GAC7B,MAAOgF,GACPr8B,KAAK+2B,QAAS,EAEhB,OAAO/2B,KAAK+2B,QAGdJ,EAAUxzB,MAAQ,SAAUgjB,EAAM5d,EAASgB,GAEzC,IAAI+yB,EAAK,IAAIpE,EAAU3vB,EADvBgB,EAAUA,GAAW,IAQrB,OANA4c,EAAOA,EAAKhe,QAAO,SAAUo0B,GAC3B,OAAOD,EAAGn5B,MAAMo5B,MAEdD,EAAG/yB,QAAQizB,SAAWrW,EAAKnjB,QAC7BmjB,EAAKviB,KAAK2E,GAEL4d,GAGT+R,EAAUl2B,UAAUmB,MACpB,SAAgBo5B,EAAGE,GAIjB,GAHAz8B,KAAKq5B,MAAM,QAASkD,EAAGv8B,KAAKuI,SAGxBvI,KAAK+4B,QAAS,OAAO,EACzB,GAAI/4B,KAAK+lB,MAAO,MAAa,KAANwW,EAEvB,GAAU,MAANA,GAAaE,EAAS,OAAO,EAEjC,IAAIlzB,EAAUvJ,KAAKuJ,QAGF,MAAb0tB,EAAKkB,MACPoE,EAAIA,EAAE93B,MAAMwyB,EAAKkB,KAAK/xB,KAAK,MAI7Bm2B,EAAIA,EAAE93B,MAAMi0B,GACZ14B,KAAKq5B,MAAMr5B,KAAKuI,QAAS,QAASg0B,GAOlC,IAIIG,EACAt8B,EALA+W,EAAMnX,KAAKmX,IAMf,IALAnX,KAAKq5B,MAAMr5B,KAAKuI,QAAS,MAAO4O,GAK3B/W,EAAIm8B,EAAEv5B,OAAS,EAAG5C,GAAK,KAC1Bs8B,EAAWH,EAAEn8B,IADgBA,KAK/B,IAAKA,EAAI,EAAGA,EAAI+W,EAAInU,OAAQ5C,IAAK,CAC/B,IAAImI,EAAU4O,EAAI/W,GACdu8B,EAAOJ,EAKX,GAJIhzB,EAAQqzB,WAAgC,IAAnBr0B,EAAQvF,SAC/B25B,EAAO,CAACD,IAEA18B,KAAK68B,SAASF,EAAMp0B,EAASk0B,GAErC,QAAIlzB,EAAQuzB,aACJ98B,KAAK84B,OAMjB,OAAIvvB,EAAQuzB,YACL98B,KAAK84B,QAQdZ,EAAUl2B,UAAU66B,SAAW,SAAUF,EAAMp0B,EAASk0B,GACtD,IAAIlzB,EAAUvJ,KAAKuJ,QAEnBvJ,KAAKq5B,MAAM,WACT,CAAE,KAAQr5B,KAAM28B,KAAMA,EAAMp0B,QAASA,IAEvCvI,KAAKq5B,MAAM,WAAYsD,EAAK35B,OAAQuF,EAAQvF,QAE5C,IAAK,IAAI+5B,EAAK,EACVC,EAAK,EACLC,EAAKN,EAAK35B,OACV+3B,EAAKxyB,EAAQvF,OACV+5B,EAAKE,GAAQD,EAAKjC,EACnBgC,IAAMC,IAAM,CAChBh9B,KAAKq5B,MAAM,iBACX,IA2FI6D,EA3FAh7B,EAAIqG,EAAQy0B,GACZT,EAAII,EAAKI,GAMb,GAJA/8B,KAAKq5B,MAAM9wB,EAASrG,EAAGq6B,IAIb,IAANr6B,EAAa,OAAO,EAExB,GAAIA,IAAMm2B,EAAU,CAClBr4B,KAAKq5B,MAAM,WAAY,CAAC9wB,EAASrG,EAAGq6B,IAwBpC,IAAIY,EAAKJ,EACLK,EAAKJ,EAAK,EACd,GAAII,IAAOrC,EAAI,CAQb,IAPA/6B,KAAKq5B,MAAM,iBAOJ0D,EAAKE,EAAIF,IACd,GAAiB,MAAbJ,EAAKI,IAA4B,OAAbJ,EAAKI,KACzBxzB,EAAQkxB,KAA8B,MAAvBkC,EAAKI,GAAIlE,OAAO,GAAa,OAAO,EAEzD,OAAO,EAIT,KAAOsE,EAAKF,GAAI,CACd,IAAII,EAAYV,EAAKQ,GAKrB,GAHAn9B,KAAKq5B,MAAM,mBAAoBsD,EAAMQ,EAAI50B,EAAS60B,EAAIC,GAGlDr9B,KAAK68B,SAASF,EAAK75B,MAAMq6B,GAAK50B,EAAQzF,MAAMs6B,GAAKX,GAGnD,OAFAz8B,KAAKq5B,MAAM,wBAAyB8D,EAAIF,EAAII,IAErC,EAIP,GAAkB,MAAdA,GAAmC,OAAdA,IACrB9zB,EAAQkxB,KAA+B,MAAxB4C,EAAUxE,OAAO,GAAa,CAC/C74B,KAAKq5B,MAAM,gBAAiBsD,EAAMQ,EAAI50B,EAAS60B,GAC/C,MAIFp9B,KAAKq5B,MAAM,4CACX8D,IAOJ,SAAIV,IAEFz8B,KAAKq5B,MAAM,2BAA4BsD,EAAMQ,EAAI50B,EAAS60B,GACtDD,IAAOF,IAqBf,GAZiB,iBAAN/6B,GAEPg7B,EADE3zB,EAAQ+tB,OACJiF,EAAEzzB,gBAAkB5G,EAAE4G,cAEtByzB,IAAMr6B,EAEdlC,KAAKq5B,MAAM,eAAgBn3B,EAAGq6B,EAAGW,KAEjCA,EAAMX,EAAEp5B,MAAMjB,GACdlC,KAAKq5B,MAAM,gBAAiBn3B,EAAGq6B,EAAGW,KAG/BA,EAAK,OAAO,EAenB,GAAIH,IAAOE,GAAMD,IAAOjC,EAGtB,OAAO,EACF,GAAIgC,IAAOE,EAIhB,OAAOR,EACF,GAAIO,IAAOjC,EAMhB,OADoBgC,IAAOE,EAAK,GAAoB,KAAbN,EAAKI,GAK9C,MAAM,IAAI1lB,MAAM,U,2DCh5BlB,YA4BA,SAASimB,EAAe34B,EAAO44B,GAG7B,IADA,IAAIC,EAAK,EACAp9B,EAAIuE,EAAM3B,OAAS,EAAG5C,GAAK,EAAGA,IAAK,CAC1C,IAAI8wB,EAAOvsB,EAAMvE,GACJ,MAAT8wB,EACFvsB,EAAMiI,OAAOxM,EAAG,GACE,OAAT8wB,GACTvsB,EAAMiI,OAAOxM,EAAG,GAChBo9B,KACSA,IACT74B,EAAMiI,OAAOxM,EAAG,GAChBo9B,KAKJ,GAAID,EACF,KAAOC,IAAMA,EACX74B,EAAMsiB,QAAQ,MAIlB,OAAOtiB,EA0OT,SAASwD,EAAQjB,EAAIq1B,GACjB,GAAIr1B,EAAGiB,OAAQ,OAAOjB,EAAGiB,OAAOo0B,GAEhC,IADA,IAAIn1B,EAAM,GACDhH,EAAI,EAAGA,EAAI8G,EAAGlE,OAAQ5C,IACvBm8B,EAAEr1B,EAAG9G,GAAIA,EAAG8G,IAAKE,EAAIxD,KAAKsD,EAAG9G,IAErC,OAAOgH,EA3OXxH,EAAQ69B,QAAU,WAIhB,IAHA,IAAIC,EAAe,GACfC,GAAmB,EAEdv9B,EAAIyT,UAAU7Q,OAAS,EAAG5C,IAAM,IAAMu9B,EAAkBv9B,IAAK,CACpE,IAAI62B,EAAQ72B,GAAK,EAAKyT,UAAUzT,GAAKw9B,EAAQC,MAG7C,GAAoB,iBAAT5G,EACT,MAAM,IAAI3rB,UAAU,6CACV2rB,IAIZyG,EAAezG,EAAO,IAAMyG,EAC5BC,EAAsC,MAAnB1G,EAAK4B,OAAO,IAWjC,OAAS8E,EAAmB,IAAM,KAJlCD,EAAeJ,EAAen1B,EAAOu1B,EAAaj5B,MAAM,MAAM,SAASvC,GACrE,QAASA,MACNy7B,GAAkBv3B,KAAK,OAE6B,KAK3DxG,EAAQk+B,UAAY,SAAS7G,GAC3B,IAAI8G,EAAan+B,EAAQm+B,WAAW9G,GAChC+G,EAAqC,MAArBj6B,EAAOkzB,GAAO,GAclC,OAXAA,EAAOqG,EAAen1B,EAAO8uB,EAAKxyB,MAAM,MAAM,SAASvC,GACrD,QAASA,MACN67B,GAAY33B,KAAK,OAER23B,IACZ9G,EAAO,KAELA,GAAQ+G,IACV/G,GAAQ,MAGF8G,EAAa,IAAM,IAAM9G,GAInCr3B,EAAQm+B,WAAa,SAAS9G,GAC5B,MAA0B,MAAnBA,EAAK4B,OAAO,IAIrBj5B,EAAQwG,KAAO,WACb,IAAI63B,EAAQ93B,MAAMnE,UAAUc,MAAMvC,KAAKsT,UAAW,GAClD,OAAOjU,EAAQk+B,UAAU31B,EAAO81B,GAAO,SAAS/7B,EAAGiM,GACjD,GAAiB,iBAANjM,EACT,MAAM,IAAIoJ,UAAU,0CAEtB,OAAOpJ,KACNkE,KAAK,OAMVxG,EAAQs+B,SAAW,SAASzxB,EAAMC,GAIhC,SAAS1E,EAAKuU,GAEZ,IADA,IAAI5Z,EAAQ,EACLA,EAAQ4Z,EAAIvZ,QACE,KAAfuZ,EAAI5Z,GADiBA,KAK3B,IADA,IAAIC,EAAM2Z,EAAIvZ,OAAS,EAChBJ,GAAO,GACK,KAAb2Z,EAAI3Z,GADOA,KAIjB,OAAID,EAAQC,EAAY,GACjB2Z,EAAIzZ,MAAMH,EAAOC,EAAMD,EAAQ,GAfxC8J,EAAO7M,EAAQ69B,QAAQhxB,GAAM1I,OAAO,GACpC2I,EAAK9M,EAAQ69B,QAAQ/wB,GAAI3I,OAAO,GAsBhC,IALA,IAAIo6B,EAAYn2B,EAAKyE,EAAKhI,MAAM,MAC5B25B,EAAUp2B,EAAK0E,EAAGjI,MAAM,MAExBzB,EAASsC,KAAKwJ,IAAIqvB,EAAUn7B,OAAQo7B,EAAQp7B,QAC5Cq7B,EAAkBr7B,EACb5C,EAAI,EAAGA,EAAI4C,EAAQ5C,IAC1B,GAAI+9B,EAAU/9B,KAAOg+B,EAAQh+B,GAAI,CAC/Bi+B,EAAkBj+B,EAClB,MAIJ,IAAIk+B,EAAc,GAClB,IAASl+B,EAAIi+B,EAAiBj+B,EAAI+9B,EAAUn7B,OAAQ5C,IAClDk+B,EAAY16B,KAAK,MAKnB,OAFA06B,EAAcA,EAAY51B,OAAO01B,EAAQt7B,MAAMu7B,KAE5Bj4B,KAAK,MAG1BxG,EAAQu4B,IAAM,IACdv4B,EAAQ2+B,UAAY,IAEpB3+B,EAAQ4+B,QAAU,SAAUvH,GAE1B,GADoB,iBAATA,IAAmBA,GAAc,IACxB,IAAhBA,EAAKj0B,OAAc,MAAO,IAK9B,IAJA,IAAIy7B,EAAOxH,EAAKhwB,WAAW,GACvBy3B,EAAmB,KAATD,EACV77B,GAAO,EACP+7B,GAAe,EACVv+B,EAAI62B,EAAKj0B,OAAS,EAAG5C,GAAK,IAAKA,EAEtC,GAAa,MADbq+B,EAAOxH,EAAKhwB,WAAW7G,KAEnB,IAAKu+B,EAAc,CACjB/7B,EAAMxC,EACN,YAIJu+B,GAAe,EAInB,OAAa,IAAT/7B,EAAmB87B,EAAU,IAAM,IACnCA,GAAmB,IAAR97B,EAGN,IAEFq0B,EAAKn0B,MAAM,EAAGF,IAiCvBhD,EAAQg/B,SAAW,SAAU3H,EAAM0B,GACjC,IAAI4D,EA/BN,SAAkBtF,GACI,iBAATA,IAAmBA,GAAc,IAE5C,IAGI72B,EAHAuC,EAAQ,EACRC,GAAO,EACP+7B,GAAe,EAGnB,IAAKv+B,EAAI62B,EAAKj0B,OAAS,EAAG5C,GAAK,IAAKA,EAClC,GAA2B,KAAvB62B,EAAKhwB,WAAW7G,IAGhB,IAAKu+B,EAAc,CACjBh8B,EAAQvC,EAAI,EACZ,YAEgB,IAATwC,IAGX+7B,GAAe,EACf/7B,EAAMxC,EAAI,GAId,OAAa,IAATwC,EAAmB,GAChBq0B,EAAKn0B,MAAMH,EAAOC,GAMjBg8B,CAAS3H,GAIjB,OAHI0B,GAAO4D,EAAEx4B,QAAQ,EAAI40B,EAAI31B,UAAY21B,IACvC4D,EAAIA,EAAEx4B,OAAO,EAAGw4B,EAAEv5B,OAAS21B,EAAI31B,SAE1Bu5B,GAGT38B,EAAQi/B,QAAU,SAAU5H,GACN,iBAATA,IAAmBA,GAAc,IAQ5C,IAPA,IAAI6H,GAAY,EACZC,EAAY,EACZn8B,GAAO,EACP+7B,GAAe,EAGfK,EAAc,EACT5+B,EAAI62B,EAAKj0B,OAAS,EAAG5C,GAAK,IAAKA,EAAG,CACzC,IAAIq+B,EAAOxH,EAAKhwB,WAAW7G,GAC3B,GAAa,KAATq+B,GASS,IAAT77B,IAGF+7B,GAAe,EACf/7B,EAAMxC,EAAI,GAEC,KAATq+B,GAEkB,IAAdK,EACFA,EAAW1+B,EACY,IAAhB4+B,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKL,EAAc,CACjBI,EAAY3+B,EAAI,EAChB,OAuBR,OAAkB,IAAd0+B,IAA4B,IAATl8B,GAEH,IAAhBo8B,GAEgB,IAAhBA,GAAqBF,IAAal8B,EAAM,GAAKk8B,IAAaC,EAAY,EACjE,GAEF9H,EAAKn0B,MAAMg8B,EAAUl8B,IAa9B,IAAImB,EAA6B,MAApB,KAAKA,QAAQ,GACpB,SAAUxB,EAAKI,EAAO8Z,GAAO,OAAOla,EAAIwB,OAAOpB,EAAO8Z,IACtD,SAAUla,EAAKI,EAAO8Z,GAEpB,OADI9Z,EAAQ,IAAGA,EAAQJ,EAAIS,OAASL,GAC7BJ,EAAIwB,OAAOpB,EAAO8Z,M,qGC1SjC,IAOIwiB,EACAC,EARAtB,EAAU/9B,EAAOD,QAAU,GAU/B,SAASu/B,IACL,MAAM,IAAI9nB,MAAM,mCAEpB,SAAS+nB,IACL,MAAM,IAAI/nB,MAAM,qCAsBpB,SAASgoB,EAAWC,GAChB,GAAIL,IAAqBM,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqBM,WAEhE,OADAN,EAAmBM,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAM7nB,GACJ,IAEI,OAAOwnB,EAAiB1+B,KAAK,KAAM++B,EAAK,GAC1C,MAAM7nB,GAEJ,OAAOwnB,EAAiB1+B,KAAKP,KAAMs/B,EAAK,MAvCnD,WACG,IAEQL,EADsB,mBAAfM,WACYA,WAEAJ,EAEzB,MAAO1nB,GACLwnB,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjBM,aACcA,aAEAJ,EAE3B,MAAO3nB,GACLynB,EAAqBE,GAjB7B,GAwEA,IAEIK,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAaz8B,OACb08B,EAAQD,EAAa/2B,OAAOg3B,GAE5BE,GAAc,EAEdF,EAAM18B,QACN88B,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAII,EAAUV,EAAWQ,GACzBF,GAAW,EAGX,IADA,IAAIljB,EAAMijB,EAAM18B,OACVyZ,GAAK,CAGP,IAFAgjB,EAAeC,EACfA,EAAQ,KACCE,EAAanjB,GACdgjB,GACAA,EAAaG,GAAYI,MAGjCJ,GAAc,EACdnjB,EAAMijB,EAAM18B,OAEhBy8B,EAAe,KACfE,GAAW,EAnEf,SAAyBM,GACrB,GAAIf,IAAuBM,aAEvB,OAAOA,aAAaS,GAGxB,IAAKf,IAAuBE,IAAwBF,IAAuBM,aAEvE,OADAN,EAAqBM,aACdA,aAAaS,GAExB,IAEWf,EAAmBe,GAC5B,MAAOxoB,GACL,IAEI,OAAOynB,EAAmB3+B,KAAK,KAAM0/B,GACvC,MAAOxoB,GAGL,OAAOynB,EAAmB3+B,KAAKP,KAAMigC,KAgD7CC,CAAgBH,IAiBpB,SAASI,EAAKb,EAAKtrB,GACfhU,KAAKs/B,IAAMA,EACXt/B,KAAKgU,MAAQA,EAYjB,SAASosB,KA5BTxC,EAAQyC,SAAW,SAAUf,GACzB,IAAIh3B,EAAO,IAAInC,MAAM0N,UAAU7Q,OAAS,GACxC,GAAI6Q,UAAU7Q,OAAS,EACnB,IAAK,IAAI5C,EAAI,EAAGA,EAAIyT,UAAU7Q,OAAQ5C,IAClCkI,EAAKlI,EAAI,GAAKyT,UAAUzT,GAGhCs/B,EAAM97B,KAAK,IAAIu8B,EAAKb,EAAKh3B,IACJ,IAAjBo3B,EAAM18B,QAAiB28B,GACvBN,EAAWS,IASnBK,EAAKn+B,UAAUg+B,IAAM,WACjBhgC,KAAKs/B,IAAIx6B,MAAM,KAAM9E,KAAKgU,QAE9B4pB,EAAQ0C,MAAQ,UAChB1C,EAAQ2C,SAAU,EAClB3C,EAAQ4C,IAAM,GACd5C,EAAQp0B,KAAO,GACfo0B,EAAQpH,QAAU,GAClBoH,EAAQ6C,SAAW,GAInB7C,EAAQ8C,GAAKN,EACbxC,EAAQ+C,YAAcP,EACtBxC,EAAQgD,KAAOR,EACfxC,EAAQiD,IAAMT,EACdxC,EAAQkD,eAAiBV,EACzBxC,EAAQmD,mBAAqBX,EAC7BxC,EAAQoD,KAAOZ,EACfxC,EAAQqD,gBAAkBb,EAC1BxC,EAAQsD,oBAAsBd,EAE9BxC,EAAQuD,UAAY,SAAUxgC,GAAQ,MAAO,IAE7Ci9B,EAAQwD,QAAU,SAAUzgC,GACxB,MAAM,IAAI0W,MAAM,qCAGpBumB,EAAQC,IAAM,WAAc,MAAO,KACnCD,EAAQyD,MAAQ,SAAUC,GACtB,MAAM,IAAIjqB,MAAM,mCAEpBumB,EAAQ2D,MAAQ,WAAa,OAAO,I,2DCvLpC,IAAIx8B,EAAM,CACT,KAAM,0BACN,QAAS,wBACT,WAAY,wBACZ,OAAQ,uBACR,UAAW,uBACX,UAAW,0BACX,aAAc,0BACd,OAAQ,uBACR,UAAW,uBACX,SAAU,yBACV,YAAa,yBACb,SAAU,yBACV,YAAa,yBACb,YAAa,4BACb,eAAgB,4BAChB,UAAW,0BACX,aAAc,0BACd,OAAQ,uBACR,UAAW,uBACX,UAAW,0BACX,aAAc,0BACd,aAAc,6BACd,gBAAiB,6BACjB,QAAS,wBACT,WAAY,wBACZ,OAAQ,uBACR,UAAW,uBACX,UAAW,0BACX,aAAc,0BACd,SAAU,yBACV,YAAa,yBACb,UAAW,0BACX,aAAc,0BACd,yBAA0B,yCAC1B,4BAA6B,yCAC7B,WAAY,2BACZ,cAAe,4BAIhB,SAASy8B,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOvhC,EAAoBwhC,GAE5B,SAASC,EAAsBF,GAC9B,IAAIvhC,EAAoBW,EAAEkE,EAAK08B,GAAM,CACpC,IAAIhqB,EAAI,IAAIJ,MAAM,uBAAyBoqB,EAAM,KAEjD,MADAhqB,EAAEgnB,KAAO,mBACHhnB,EAEP,OAAO1S,EAAI08B,GAEZD,EAAep4B,KAAO,WACrB,OAAOtI,OAAOsI,KAAKrE,IAEpBy8B,EAAe/D,QAAUkE,EACzB9hC,EAAOD,QAAU4hC,EACjBA,EAAeE,GAAK,4C,qWCtDpB,I,EAAA,G,EAAA,qC,2BACA,kEACA,kDACA,oC,8gBAEA,IAUaE,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KAEP,OAAoB,IAAhBA,EAAKxG,OACA,GAKF,CACL++B,QAHgBv4B,EAAKzE,KAAI,SAAAi9B,GAAO,OAAI,IAAAC,aAAYJ,EAAOG,MAGpCj9B,KAAI,SAAAkyB,GAAI,OAtBLiL,EAsB0BL,EAAMM,gBAtB5BC,EAsB6CnL,EAtBhC,EACrBoL,EAAOC,SAASJ,EAAIE,GAAjCG,EADkC,EAClCA,IAAK5F,EAD6B,EAC7BA,KAER4F,EACKC,EAAcC,gBAAgBF,GAGhCC,EAAcE,eAAe/F,EAAK17B,IAAI,YAPtB,IAACihC,EAAIE,EAAa,EAClCG,EAAK5F,Q,oWCNd,I,EAAA,G,EAAA,qC,2BACA,uEACA,wDACA,kDACA,4BACA,oC,8gBAEA,IAAMgG,EAAiB,SAACd,EAAOe,GAC7B,OAAOC,EAAgBC,uBACrBjB,EAAMkB,kBAAmB,MAAOH,IAIvBhB,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KACDo5B,EAAap5B,EAAK,IAAK,IAAAy4B,aAAYJ,EAAOr4B,EAAK,IAAM,IAE3D,IAAKw5B,EAAYC,aAAapB,EAAMM,gBAAiBS,GAAa,CAChE,IAAMM,GAA4B,IAAAC,WAAUC,cAAYC,mBAExD,MAAO,CACLl6B,OAAQq5B,EAAcC,gBAAgBS,IAI1C,MAAO,CACLrB,MAAOA,EAAMyB,gBACXX,EAAed,EAAOe,O,kIC7B5B,2C,SAEsB,G,UAEP,SAACf,EAAOC,GACrB,MAAO,CACLD,MAAOA,EAAM0B,YAAW,IAAA7hC,c,oWCN5B,I,EAAA,G,EAAA,qC,2BACA,kEACA,uEACA,qCACA,kDACA,qCACA,4BACA,oC,8gBAaA,IA0EakgC,EAAS,CACpB,kBAAmB,I,qBAGN,SAACC,EAAOC,GAAmB,OAChB,aAAaA,EAAgBF,GAA9Cp4B,EADiC,EACjCA,KAAMD,EAD2B,EAC3BA,QAEb,GAAIC,EAAKxG,OAAS,EAChB,MAAO,GAGT,IAAMwgC,GAAU,IAAAvB,aAAYJ,EAAOr4B,EAAK,IAClCi6B,GAAW,IAAAxB,aAAYJ,EAAOr4B,EAAK,IACnCk6B,EAAqBC,EAASC,eAAep6B,EAAK,IAExD,OAAIg6B,IAAYC,EACP,CACLt6B,OAAQq5B,EAAcE,eAAe,sDAIrCn5B,EAAQs6B,UA1Dc,SAAChC,EAAO2B,EAASC,GAC3C,GAAIT,EAAYC,aAAapB,EAAMM,gBAAiBsB,GAAW,CAC7D,IAAMK,EAAoBH,EAASI,gBAAgBP,GAGzB,MAAtBM,IACFL,EAAW,GAAH,OAAMA,EAAN,YAAkBK,IAK9B,IAAKd,EAAYC,aAAapB,EAAMM,gBAAiBsB,GAAW,CAC9D,IAAMO,EAAWC,EAASC,gBADoC,EAE5ClB,EAAYmB,aAAatC,EAAMM,gBAAiBsB,EAAUO,GAAU,GAA/E9B,EAFuD,EAEvDA,GAAIK,EAFmD,EAEnDA,IAIX,GAFAV,EAAQA,EAAMuC,cAAclC,GAExBK,EACF,MAAO,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAnBY,MAwBtCS,EAAYqB,cAAcxC,EAAMM,gBAAiBqB,EAASC,GAArEvB,EAxBiD,EAwBjDA,GAAIK,EAxB6C,EAwB7CA,IAEX,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAclC,IA0BpBoC,CAAoBzC,EAAO2B,EAASC,GAhGxB,SAAC5B,EAAO2B,EAASC,EAAUc,GAChD,IAAMrC,EAAKL,EAAMM,gBAEjB,GAAIoC,IAAuBvB,EAAYC,aAAaf,EAAIuB,GAAW,CACjE,IAAMe,GAAkC,IAAArB,WAAUC,cAAYC,mBAE9D,MAAO,CACLl6B,OAAQq5B,EAAcC,gBAAgB+B,IAP6B,MAW3CnC,EAAOoC,SAASvC,EAAIsB,EAASC,GAA9CiB,EAX4D,EAWhExC,GAAcK,EAXkD,EAWlDA,IAErB,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAcM,IA+EtBC,CAAe9C,EAAO2B,EAASC,EAAUC,K,sWCvHlD,M,maAAA,+CACA,qD,yGAEA,IAAMkB,EAAuB,WACvBC,EAAqB,S,SAQL,G,UAEP,SAAChD,EAAOC,GACrB,IAT8BgD,EASxB/8B,EAAQ+5B,EAAe17B,KAAK,KAI5B2+B,GAbwBD,EAW5BjD,EAAMkB,kBAAmBh7B,EAVXG,QAAQ08B,GAAsB,SAACzhC,EAAO6hC,GAAR,OAC5C,IAAAC,wBAAuBH,EAAsBE,IAAY,OAWhCh9B,OAAOE,QAAQ28B,EAAoB,KAE9D,MAAO,CACL17B,OAAQq5B,EAAcE,eAAeqC,M,sWCtBzC,I,EAAA,G,EAAA,qC,2BACA,E,maAAA,+CACA,8CACA,oC,yGAEO,IAAMnD,EAAS,CACpB,cAAe,W,qBAGF,SAACC,EAAOC,GAAmB,OAChB,aAAaA,EAAgBF,GAA9Cp4B,EADiC,EACjCA,KAAMD,EAD2B,EAC3BA,QAEb,GAAoB,IAAhBC,EAAKxG,OACP,MAAO,GAGT,IAAMo/B,GAAW,IAAAH,aAAYJ,EAAOr4B,EAAK,IAPD,GASjB,IAAA07B,iBACrBrD,EAAMM,gBAAiBC,EAAU74B,GAFZ,SAAC47B,EAAOC,GAAR,OAAsBD,EAAMriC,MAAM,EAAGsiC,MACrDC,EATiC,EASjCA,QAAS9C,EATwB,EASxBA,IAIhB,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLp5B,OAAQq5B,EAAcE,eAAe2C,M,yWC7BzC,I,EAAA,G,EAAA,qC,2BACA,E,maAAA,+CACA,uC,yGAEA,IAAMC,EAAoB,SAACzD,GAAD,OACxBA,EAAM0D,YAAW,IAAA7jC,YAEb8jC,EAAwB,SAAC3D,GAAD,OAC5BA,EAAM4D,aAAar/B,KAAK,OAEbw7B,EAAS,CACpB,cAAe,I,qBAGF,SAACC,EAAOC,GAGrB,OAFkB,aAAaA,EAAgBF,GAAxCr4B,QAEK2X,MACH,CACL2gB,MAAOyD,EAAkBzD,IAItB,CACL14B,OAAQq5B,EAAcE,eAAe8C,EAAsB3D,O,8dC5BxD,IAAM6D,EAAe,CAC1B,MACA,KACA,QACA,KACA,OACA,OACA,UACA,KACA,QACA,WACA,MACA,KACA,QACA,OACA,QACA,U,uBAGaA,EAAa/qB,QAAO,SAACgrB,EAASC,GAC3C,O,+VAAA,IACKD,EADL,KAEGC,EAAc,CACbC,SAAUC,8CAAQ,YAAYF,IAApB,QACVhE,OAAQkE,8CAAQ,YAAYF,IAAehE,YAG9C,I,iXCvBH,I,EAAA,G,EAAA,qC,2BACA,uEACA,wDACA,qCACA,kD,8gBAGA,IAAMmE,GAA4B,EAFlC,mDAEkCv2B,KAAI,CAAC,IAAK,OA6BtCw2B,EAAmB,SAACC,GACxB,IAAMC,EAAgBD,EAAQ3qB,OAE9B,MAAO,CACLnS,OAAQq5B,EAAcE,eAAewD,EAAc9/B,KAAK,SAItD+/B,EAA0B,SAACvQ,GAC/B,OAAQA,EAAOkC,WAAW,MAGf8J,EAAS,CACpB,YAAa,GACb,mBAAoB,I,qBAGP,SAACC,EAAOC,GAAmB,OAChB,aAAaA,EAAgBF,GAA9Cr4B,EADiC,EACjCA,QAASC,EADwB,EACxBA,KACV48B,EAlCuB,SAACC,EAAc78B,GAC5C,IAAMq0B,EAAMgF,EAAgBoC,uBAAuBoB,EAAc,OAEjE,OAAI78B,EAAKxG,OAAS,EACT2gC,EAAS2C,eAAe98B,EAAK,GAAIq0B,GAGnCA,EA2BS0I,CAAuB1E,EAAMkB,kBAAmBv5B,GAFxB,EAGXw5B,EAAYwD,cAAc3E,EAAMM,gBAAiBiE,GAAvE7D,EAHiC,EAGjCA,IAAWkE,EAHsB,EAG5BtgB,KAEZ,OAAIoc,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAItCh5B,EAAQm9B,IACHV,EAAiBD,EAA0Br9B,OAAO+9B,IAChDl9B,EAAQo9B,UACVX,EAAiBS,GAGnBT,EAAiBS,EAAQt+B,OAAOg+B,M,uWCtEzC,I,EAAA,G,EAAA,qC,2BACA,uEACA,kDACA,qCACA,oC,8gBAEA,IAAMS,EAAY3C,EAASC,gBAEdtC,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KAEP,GAAoB,IAAhBA,EAAKxG,OACP,MAAO,GAGT,IAAM6jC,GAAgB,IAAA5E,aAAYJ,EAAOr4B,EAAK,IAPN,EAQtBs9B,EAAM3C,aAAatC,EAAMM,gBAAiB0E,EAAeD,GAAW,GAA/E1E,EARiC,EAQjCA,GAAIK,EAR6B,EAQ7BA,IAEX,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAclC,M,0WC3B/B,I,EAAA,G,EAAA,qC,2BACA,E,maAAA,+CACA,qD,m1BAGA,IAAM6E,EAAwB,SAACV,GAK7B,OAJgBA,EAAa1rB,QAAO,SAAConB,EAASiF,EAAQC,GAAlB,kBAC/BlF,GAD+B,WACnBkF,EADmB,YACTD,OACxB,IAEY5gC,KAAK,OAGTw7B,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KACD68B,EAAexE,EAAMkB,kBAE3B,GAAoB,IAAhBv5B,EAAKxG,OACP,MAAO,CACLmG,OAAQq5B,EAAcE,eAAeqE,EAAsBV,KAM/D,IAAMa,GAAW,IAAAjC,wBAAuBoB,EAAc78B,EAAK,IAE3D,OAAI09B,EACK,CACL/9B,OAAQq5B,EAAcE,eAAewE,IAIlC,K,qWCnCT,M,maAAA,+CACA,qD,kHAEsB,G,UAEP,SAACrF,EAAOC,GACrB,MAAO,CACL34B,OAAQq5B,EAAcE,gBACpB,IAAAuC,wBAAuBpD,EAAMkB,kBAAmB,W,oWCRtD,I,EAAA,G,EAAA,qC,2BACA,kEACA,uEACA,kDACA,oCACA,4B,8gBAEO,IAAMnB,EAAS,CACpB,uCAAwC,GACxC,kBAAmB,I,qBAWN,SAACC,EAAOC,GAAmB,OAChB,aAAaA,EAAgBF,GAA9Cp4B,EADiC,EACjCA,KAAMD,EAD2B,EAC3BA,QAEb,GAAoB,IAAhBC,EAAKxG,OACP,MAAO,GAGT,IAdMmkC,EAcAC,GAAe,IAAAnF,aAAYJ,EAAOr4B,EAAK,IACvC04B,EAAKL,EAAMM,gBAEjB,GAAqB,MAAjBiF,IAAmD,IAA3B79B,EAAQ89B,eAClC,MAAO,GAGT,IAAKnF,EAAG/tB,IAAIizB,GACV,OAtBID,GAAuB,IAAAhE,WAAUC,cAAYkE,2BAE5C,CACLn+B,OAAQq5B,EAAcC,gBAAgB0E,IAIA,OAkBe,IAAtB59B,EAAQs6B,UACvCiD,EAAMS,gBAAgBrF,EAAIkF,GAAc,GACxC/E,EAAOmF,WAAWtF,EAAIkF,GAFbK,EAlB6B,EAkBjCvF,GAAmBK,EAlBc,EAkBdA,IAI1B,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAcqD,M,uWCjD/B,I,EAAA,G,EAAA,qC,2BACA,uEACA,kDACA,oC,8gBAEO,IAAM7F,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KAEP,GAAoB,IAAhBA,EAAKxG,OACP,MAAO,GAGT,IAAM0kC,GAAe,IAAAzF,aAAYJ,EAAOr4B,EAAK,IAPL,EAQtBs9B,EAAMS,gBAAgB1F,EAAMM,gBAAiBuF,GAAc,GAAtExF,EARiC,EAQjCA,GAAIK,EAR6B,EAQ7BA,IAEX,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAclC,M,sWCxB/B,I,EAAA,G,EAAA,qC,2BACA,E,maAAA,+CACA,8CACA,oC,yGAEO,IAAMN,EAAS,CACpB,cAAe,W,qBAGF,SAACC,EAAOC,GAAmB,OAChB,aAAaA,EAAgBF,GAA9Cp4B,EADiC,EACjCA,KAAMD,EAD2B,EAC3BA,QAEb,GAAoB,IAAhBC,EAAKxG,OACP,MAAO,GAGT,IAAMo/B,GAAW,IAAAH,aAAYJ,EAAOr4B,EAAK,IAPD,GASjB,IAAA07B,iBACrBrD,EAAMM,gBAAiBC,EAAU74B,GAFZ,SAAC47B,EAAOC,GAAR,OAAsBD,EAAMriC,OAAO,EAAIsiC,MACvDC,EATiC,EASjCA,QAAS9C,EATwB,EASxBA,IAIhB,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLp5B,OAAQq5B,EAAcE,eAAe2C,M,uWC7BzC,I,EAAA,G,EAAA,qC,2BACA,kEACA,kDACA,qCACA,oC,8gBAEA,IAAMsC,EAAa1D,EAAS2D,WAEfhG,EAAS,G,qBAEP,SAACC,EAAOC,GAAmB,IACjCt4B,GAAQ,aAAas4B,EAAgBF,GAArCp4B,KAEP,GAAoB,IAAhBA,EAAKxG,OACP,MAAO,GAGT,IAAMo/B,GAAW,IAAAH,aAAYJ,EAAOr4B,EAAK,IAEzC,GAAIq4B,EAAMM,gBAAgBhuB,IAAIiuB,GAC5B,MAAO,GAV+B,MAatBC,EAAOwF,UAAUhG,EAAMM,gBAAiBC,EAAUuF,GAA7DzF,EAbiC,EAajCA,GAAIK,EAb6B,EAa7BA,IAEX,OAAIA,EACK,CACLp5B,OAAQq5B,EAAcC,gBAAgBF,IAInC,CACLV,MAAOA,EAAMuC,cAAclC,M,qXCpC/B,sEACA,kD,giBAI+B,SAACA,EAAIE,EAAU74B,EAASu+B,GAAe,MAChDzF,EAAOC,SAASJ,EAAIE,GAAjCzF,EAD6D,EAC7DA,KAAM4F,EADuD,EACvDA,IAEb,GAAIA,EACF,MAAO,CACLA,IAAKC,EAAcC,gBAAgBF,IAIvC,IAAMwF,EAAax+B,EAAQ47B,MAAQ/yB,OAAO7I,EAAQ47B,OAXzB,GAczB,MAAO,CACLE,QAHmByC,EAAWnL,EAAK17B,IAAI,WAAWwD,MAAM,MAAOsjC,GAGzC3hC,KAAK,S,wWCd/B,M,maAAA,+CACA,qD,kHAIsB,G,UAEP,SAACy7B,EAAOC,GACrB,MAAO,CACL34B,OAAQq5B,EAAcE,gBACpB,IAAAuC,wBAAuBpD,EAAMkB,kBAAmB,SAP5B,W,y3BCJX,CACbP,cAJF,gDAIiBwF,WAHjB,8C,qOCDA,yDACA,4CAMaC,GAAe,IAAA1T,QAAO,CACjCrjB,UAAMlG,EACNq6B,aAASr6B,I,oCAQqB,SAAC6yB,EAAKqK,GACpC,OAAO,IAAID,EAAa,CACtB/2B,KAAMi3B,qBACN9C,QAAS,CAAExH,MAAKqK,c,iBASU,SAAC7C,GAC7B,OAAO,IAAI4C,EAAa,CACtB/2B,KAAMk3B,mBACN/C,a,kBAS2B,SAAC9C,GAC9B,OAAO,IAAI0F,EAAa,CACtB/2B,KAAMm3B,yBACNhD,QAAS,GAAF,OAAK9C,EAAI1K,OAAT,aAAoB0K,EAAIrxB,U,gNCxCH,c,yBACM,oB,qBACJ,sB,uICNlC,yDACA,+CACA,qDACA,2CACA,uCACA,uC,8RAEA,IAMqBo3B,E,WACnB,WAAYC,GACV,G,4FADqB,WAChBA,GAAeA,aAAqB3nB,OACvC,MAAM,IAAIvJ,MAAM,sEAGlBrX,KAAKwoC,WAAaD,E,4DAQlB,OAAOD,EAAc5mC,OAAO,M,gCAe3B,UALDwgC,UAKC,OALI,IAAAxgC,UAKJ,MAJDojC,4BAIC,OAJsB,IAAApjC,UAItB,MAHD+mC,eAGC,OAHS,IAAA/mC,UAGT,MAFDqgC,eAEC,OAFS,IAAArgC,UAET,MADDgnC,sBACC,OADgB,IAAAhnC,UAChB,EASD,OAAO,IAAI4mC,EARM,IAAI1nB,OAAJ,OApCN,KAqCCshB,GADK,IAnCa,uBAqCC4C,GAFd,IAlCD,UAqCC2D,GAHA,IAjCD,UAqCC1G,GAJA,IAhCO,iBAqCC2G,GALR,S,yCAYjB,OAAO1oC,KAAK2oC,eAAe1nC,IAhDhB,Q,oCAmDC2nC,GACZ,OAAO,IAAIN,EACTtoC,KAAK2oC,eAAexxB,IArDX,KAqDuByxB,M,wCAKlC,OAAO5oC,KAAK2oC,eAAe1nC,IAzDG,0B,sCA4DhB4nC,GACd,OAAO,IAAIP,EACTtoC,KAAK2oC,eAAexxB,IA9DQ,uBA8DuB0xB,M,mCAKrD,OAAO7oC,KAAK2oC,eAAe1nC,IAlEX,a,iCAqEP6nC,GACT,OAAO,IAAIR,EACTtoC,KAAK2oC,eAAexxB,IAvEN,UAuEuB2xB,M,mCAKvC,OAAO9oC,KAAK2oC,eAAe1nC,IA3EX,a,iCA8EP8nC,GACT,OAAO,IAAIT,EACTtoC,KAAK2oC,eAAexxB,IAhFN,UAgFuB4xB,M,0CAKvC,OAAO/oC,KAAK2oC,eAAe1nC,IApFH,oB,wCAuFR+nC,GAChB,OAAO,IAAIV,EACTtoC,KAAK2oC,eAAexxB,IAzFE,iBAyFuB6xB,M,qCAK/C,OAAOhpC,KAAKwoC,a,6BAIZ,OAAOxoC,KAAKwoC,WAAW1c,Y,wSC7G3B,I,EAAA,qDACA,G,EAAA,+B,oCAOsB,WACpB,IADgE,IAA3C4c,EAA2C,uDAA1BO,UACtC,MAA0BnoC,OAAOsI,KAAKs/B,GAAtC,eAAuD,CAAlD,IAAM9C,EAAW,KACdsC,EAAUQ,EAAe9C,GAE/B,IAAKsC,EAAQjmC,eAAe,YAC1B,MAAM,IAAIoV,MAAJ,yEAA4EuuB,IAGpF,IAAKsC,EAAQjmC,eAAe,UAC1B,MAAM,IAAIoV,MAAJ,mFAAsFuuB,IAIhG,OAAO,IAAA1P,QAAOwS,I,eASY,SAACA,EAAgB9C,GAC3C,OAAO8C,EAAev0B,IAAIyxB,I,aAWF,SAAC8C,EAAgB9C,EAAasD,EAAWtH,GACjE,QAAkB52B,IAAdk+B,EACF,MAAM,IAAI7xB,MAAJ,qBAAwBuuB,EAAxB,8BAGR,QAAe56B,IAAX42B,EACF,MAAM,IAAIvqB,MAAJ,qBAAwBuuB,EAAxB,yEAGR,OAAO8C,EAAevxB,IAAIyuB,GAAa,IAAA1P,QAAO,CAC5C,SAAYgT,EACZ,OAAUtH,M,eAUc,SAAC8G,EAAgB9C,GAC3C,OAAO8C,EAAc,OAAQ9C,I,eAUH,SAAC8C,EAAgB9C,GAC3C,GAAI8C,EAAev0B,IAAIyxB,GACrB,OAAO8C,EAAeznC,IAAI2kC,GAAa3kC,IAAI,a,mBAYf,SAACynC,EAAgB9C,GAC/C,GAAI8C,EAAev0B,IAAIyxB,GACrB,OAAO8C,EAAeznC,IAAI2kC,GAAa3kC,IAAI,W,kBAWhB,SAACynC,GAC9B,OAAOA,EAAetc,W,2NCtGxB,yD,gsBAQsB,WAAsC,IAArC+c,EAAqC,uDAAlB,GAAItL,EAAc,uDAAR,IAClD,IAAKA,IAAQsL,EAAiBlnC,eAAe,OAC3C,MAAM,IAAIoV,MACR,sFAIJ,OAAO,IAAAuJ,KAAA,GACL,IAAOid,GACJsL,K,yBAU+B,SAACrE,EAAsBnjC,GAC3D,OAAOmjC,EAAqB7jC,IAAIU,I,yBAUI,SAACmjC,EAAsBnjC,EAAKqiB,GAChE,OAAO8gB,EAAqB3tB,IAAIxV,EAAKqiB,I,2BASC,SAAC8gB,EAAsBnjC,GAC7D,OAAOmjC,EAAoB,OAAQnjC,K,yWCjDrC,yCACA,sDACA,qD,8gBAEA,IAAMynC,EAAsB,CAC1B,IAAKnF,EAASC,iB,SAQM,WAAgC,IAA/BmF,EAA+B,uDAAxBD,EAC5B,OAAOtC,EAAMwC,UAAS,IAAApT,QAAOmT,M,gJCd/B,yD,mvBAQsB,WAAkB,IAAjBtwB,EAAiB,uDAAP,GAC/B,OAAOuR,QAAM1W,GAAN,QAAA0W,MAAA,EAAYvR,K,gBAUQ,SAAC0vB,EAASc,GACrC,OAAOd,EAAQ7kC,KAAK2lC,K,oWCpBtB,I,EAAA,kDACA,wDACA,8CACA,0CACA,0C,ohBAGe,CACbjB,gB,EAHF,6C,4BAGEA,QACAkB,iBACAC,uBACAC,aACAC,UACAC,W,6KCbF,yD,SAQsB,WAAkB,IAAjB7H,EAAiB,uDAAP,GAC/B,OAAO,IAAAlc,MAAKkc,I,YAQW,SAACA,EAAS8H,GACjC,IAAKtV,SAAOjkB,SAASu5B,GACnB,MAAM,IAAIxyB,MAAM,6DAGlB,IAAKwyB,EAAa11B,IAAI,QACpB,MAAM,IAAIkD,MAAM,qCAGlB,IAAKwyB,EAAa11B,IAAI,WACpB,MAAM,IAAIkD,MAAM,sCAGlB,OAAO0qB,EAAQn+B,KAAKimC,K,uWC9BtB,4DACA,qC,4hBAS2B,SAAChI,EAAO5K,GACjC,IAAM4G,EAAMgF,EAAgBoC,uBAC1BpD,EAAMkB,kBAAmB,OAG3B,OAAOY,EAAS2C,eAAerP,EAAM4G,K,+ZCfvC,yCACA,qCACA,+C,0wCAQ+B,SAACiM,EAAYC,GAC1C,IAAMC,GAAiB,IAAAC,iBAAgBH,GAEvC,SAAWI,EAASC,QAAQH,EAAjB,UAAoCD,EAApC,Q,wBAUwB,SAACD,EAAYlE,EAAamE,GAC7D,KAAK,IAAAK,cAAaN,EAAYlE,GAC5B,MAAO,GAGT,IAAMyE,GAAY,IAAAC,kBAAiBR,EAAYlE,GAC5CxZ,SACAmE,SAAQ,SAAAvmB,GAAI,OACXA,EAAKvF,MAAM,KAAKM,KAAI,SAAAyH,GAAG,OAAIA,EAAIxE,aAGnC,SAAWkiC,EAASC,QAAQE,EAAjB,UAA+BN,EAA/B,Q,yBAUyB,SAACQ,EAAY1M,EAAKkM,GACtD,IAAM9S,EAAO0M,EAAS2C,eAAeyD,EAAYlM,GAG3C2M,EAAsB,GAAH,OAAMvT,EAAN,KAEnBwT,EAAoC,MAATxT,EAAe,KAAf,UAAyBA,EAAzB,OAE3ByT,EAAcX,EAAWY,SAAS,KAAOF,EAA2BD,EAEpEI,EAAaV,EAASW,UAAUN,EAAYG,GAElD,OAAI/G,EAASmH,UAAUf,GACrB,EAAWa,GAGb,EAAWA,EAAW7lC,KAAI,SAAAkyB,GACxB,IAAM8T,EAAuBpH,EAASqH,YAAYjB,GAAYjnC,MAAM,GAAI,GAClE0jB,EAAUmd,EAASI,gBAAgB9M,GAEzC,OAAO0M,EAASsH,OAAOF,EAAqBriC,OAAO8d,U,2XChEvD,4CACA,+CACA,E,maAAA,+C,m1BAQO,IAAM0kB,EAAwB,SAACC,GACpC,OAAO,IAAA1I,kBAAgB,IAAAU,WAAUgI,K,gCAqBhB,SAACzC,EAAgB9C,EAAawF,GAA8D,IAAjDC,EAAiD,uDAAxCC,oBAAkBC,kBAEjFC,EAAmB,iBAAO,CAC9BriC,OAAQ+hC,EAAsBG,KAGhC,IAAKI,EAAmBrB,aAAa1B,EAAgB9C,GACnD,OAAO4F,EAAgB,WAAhB,IAAoBJ,IAG7B,IAAMlD,EAAUuD,EAAmBC,aAAahD,EAAgB9C,GAEhE,IACE,OAAOsC,EAAO,WAAP,IAAWkD,IAClB,MAAOO,GACP,MAAO,CACLxiC,OAAQ+hC,EAAsBI,oBAAkBM,gC,4KC5CrB,CAC/BL,kBAAmB,oBACnBK,2BAA4B,2B,YASL,SAACN,GAAoC,IAAjBO,EAAiB,uDAAP,GACrD,MAAO,CACLhU,OAAQ,WACR3mB,KAAMo6B,EACNO,a,8VCnBJ,I,EAAA,E,maAAA,wCACA,G,EAAA,sC,2BACA,+CACA,uCACA,qDACA,uCACA,qD,kkDAEqBC,E,0LAUNjK,EAAOkI,GAClB,IAAMgC,EAAc/rC,KAAKgsC,QAAQnK,EAAOkI,GAExC,GAA2B,IAAvBgC,EAAY/oC,OACd,OAAO+mC,EAGT,IAAMkC,EAAW,IAAIpmB,OAAKkkB,EAAWtlC,MAAM,MACrCynC,EAAoBH,EAAY,GAEtC,OAAOE,EACJ1tB,QAAQ,GAAG,SAAA4tB,GAAO,OAAID,KACtB9lC,KAAK,O,8BASFy7B,EAAOkI,GAGb,IACMqC,EAAsC,OAH5CrC,EAAa/pC,KAAKqsC,kBAAkBtC,IAEDjnC,OAAO,GAGpCmpC,EAAWlC,EAAW/hC,OAAOvD,MAAM,KANhB,EAOsBzE,KAAKssC,kBAAkBL,GAAxDM,EAPW,EAOlB5pC,MAAqB6pC,EAPH,EAOF5pC,IAEvB,IAAKwpC,GAAuC,IAApBH,EAASjpC,OAC/B,OAAO,IAAAypC,iBAAgB5K,EAAM6K,oBAAqBH,GAGpD,IAAMI,EAAgBP,EAAkB,GAAKI,EACvC3O,GAAM,IAAAoH,wBAAuBpD,EAAMkB,kBAAmB,OAE5D,mBACK,IAAA6J,uBAAsB/K,EAAM6K,oBAAqBH,EAASI,IAD/D,GAEK,IAAAE,wBAAuBhL,EAAMM,gBAAiBtE,EAAK8O,O,wCAIxCpqC,GAChB,OAAOA,EAAI2F,QAAQ,QAAS,M,wCAGZ+jC,GAChB,MAAO,CACLtpC,MAAOspC,EAAS,GAChBrpC,IAAKqpC,EAASA,EAASjpC,OAAS,M,8BAY5B6+B,EAAOt/B,GAAwC,MAAnCuqC,EAAmC,uDAAd,GAAIzB,EAAU,2CACrByB,GADqB,IACrD,2BAAoD,KAAzCC,EAAyC,QAClDA,EAAkBC,iBAAiBnL,EAAOt/B,IAFS,8BAKrDs/B,EAAQ7hC,KAAKitC,iBAAiBpL,EAAOt/B,GAElB,KAAfA,EAAIyF,OAEN65B,EAAQ7hC,KAAKktC,mBAAmBrL,EAAO,EAAC,IAAAa,gBAAe,OAEvDb,EAAQ7hC,KAAKmtC,qBAAqBtL,EAAOt/B,GACzCs/B,EAAQ7hC,KAAKotC,wBAAwBvL,EAAOt/B,EAAK8oC,IAZE,UAerByB,GAfqB,IAerD,2BAAoD,KAAzCC,EAAyC,QAClDA,EAAkBM,mBAAmBxL,IAhBc,8BAmBrD,OAAOA,I,8CAGeA,EAAOyL,EAAqBjC,GAAU,WAChB,aAAciC,IADE,IAC5D,2BAAgF,eAApE1H,EAAoE,EAApEA,YAAa9D,EAAuD,EAAvDA,eACjB4G,EAAiB7G,EAAM6K,oBACvBtB,EAAc,CAACvJ,EAAOC,GAFkD,EAIlCyL,EAAcvN,IACxD0I,EAAgB9C,EAAawF,EAAaC,GAD9BmC,EAJgE,EAIvE3L,MAAkB14B,EAJqD,EAIrDA,OAAQ44B,EAJ6C,EAI7CA,QAI7ByL,IACF3L,EAAQ2L,GAGNrkC,EACF04B,EAAQ7hC,KAAKktC,mBAAmBrL,EAAO,CAAC14B,IAC/B44B,IACTF,EAAQ7hC,KAAKktC,mBAAmBrL,EAAOE,KAhBiB,8BAoB5D,OAAOF,I,2CAGYA,EAAOqG,GAC1B,IAAMO,EAAU5G,EAAM4D,aAEtB,OAAO5D,EAAM0D,YAAW,IAAAkI,eAAchF,EAASP,M,uCAGhCrG,EAAO6L,GACtB,IAAMrH,EAAexE,EAAMkB,kBACrBlF,GAAM,IAAAoH,wBAAuBoB,EAAc,OAEjD,OAAOrmC,KAAKktC,mBAAmBrL,EAAO,EAAC,IAAA8L,kBAAiB9P,EAAK6P,O,yCAO5C7L,EAAOE,GAAS,UACZA,GADY,IACjC,2BAA8B,KAAnB54B,EAAmB,QACtB44B,EAAUF,EAAM+L,aAEtB/L,EAAQA,EAAM0B,WAAWxB,EAAQn+B,KAAKuF,KAJP,8BAOjC,OAAO04B,O,2dC/IUgM,E,WACnB,WAAYC,GAAyB,IAAX3/B,EAAW,uDAAH,EAAG,UACnCnO,KAAK8tC,aAAeA,EAAalqC,KAAK,IACtC5D,KAAKmO,MAAQA,E,uDAIb,OAAOnO,KAAKmO,MAAQ,EAAInO,KAAK8tC,aAAa//B,O,2BAQ1C,OAJI/N,KAAK+tC,SACP/tC,KAAKmO,QAGAnO,KAAK8tC,aAAa7sC,IAAIjB,KAAKmO,S,gCAIlC,OAAOnO,KAAKmO,MAAQ,GAAK,I,6BAQzB,OAJInO,KAAKguC,WACPhuC,KAAKmO,QAGAnO,KAAK8tC,aAAa7sC,IAAIjB,KAAKmO,Y,kNCjCtC,I,EAAA,G,EAAA,wD,qMAEqB8/B,E,WACnB,WAAYpM,I,4FAAO,SACjB7hC,KAAKkuC,yBAA2B,KAChCluC,KAAK8tC,aAAejM,EAAM4D,a,gEAIX5D,EAAOt/B,M,yCAKLs/B,GACjB7hC,KAAKkuC,yBAA2B,KAChCluC,KAAK8tC,aAAejM,EAAM4D,e,mCAO1B,OAFAzlC,KAAKmuC,8BAEEnuC,KAAKkuC,yBAAyB1Q,O,qCAMrC,OAFAx9B,KAAKmuC,8BAEEnuC,KAAKkuC,yBAAyBE,S,oDAKhCpuC,KAAKkuC,2BACRluC,KAAKkuC,yBAA2B,IAAIL,UAClC7tC,KAAK8tC,oB,qNChCc,CACzBO,YAAa,cACbC,iBAAkB,mBAClBC,oBAAqB,sBACrBjH,0BAA2B,4BAC3BkH,aAAc,eACdnL,kBAAmB,oBACnBoL,yBAA0B,2BAC1BC,eAAgB,iBAChBC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,MAAO,S,YAWgB,SAACzL,GAA8B,IAAjByI,EAAiB,uDAAP,GAC/C,MAAO,CACLhU,OAAQ,KACR3mB,KAAMkyB,EACNyI,a,42BC3BW,CACb/E,MAJF,qEAKEzE,OAJF,iE,wiBCGA,0DACA,2CACA,4B,8gBAEA,IAAMyM,EAAwC,WAAyC,IAAxCjD,EAAwC,uDAA9B,0BACvD,MAAO,CACLtJ,KAAK,IAAAY,WAAUC,cAAYwL,kBAAmB/C,K,eAItB,WAC1B,OAAOkD,EAAoB9L,aAApB,MAAA8L,EAAmB,Y,gBAGC,WAC3B,OAAOA,EAAoBvI,cAApB,MAAAuI,EAAmB,Y,qBAGM,WAChC,OAAOA,EAAoBC,mBAApB,MAAAD,EAAmB,Y,uBAGQ,WAClC,OAAOA,EAAoBE,qBAApB,MAAAF,EAAmB,Y,eAGA,SAAC7M,EAAIjL,GAC/B,IAAKiY,EAAeC,cAAcjN,EAAIjL,GACpC,OAAO6X,IAFwC,2BAATxmC,EAAS,iCAATA,EAAS,kBAKjD,OAAOymC,EAAoB5K,aAApB,MAAA4K,EAAmB,CAAc7M,EAAIjL,GAAlB,OAA2B3uB,K,gBAG1B,SAAC45B,EAAIsB,EAASC,GACzC,IAAKyL,EAAeC,cAAcjN,EAAIsB,GACpC,OAAOsL,EAAsC,kCAG/C,IAAKI,EAAeC,cAAcjN,EAAIuB,GACpC,OAAOqL,EAAsC,gCANgB,2BAATxmC,EAAS,iCAATA,EAAS,kBAS/D,OAAOymC,EAAoB1K,cAApB,MAAA0K,EAAmB,CAAe7M,EAAIsB,EAASC,GAA5B,OAAyCn7B,K,kBAGtC,SAAC45B,EAAIjL,GAClC,IAAKiY,EAAeC,cAAcjN,EAAIjL,GACpC,OAAO6X,IAF2C,2BAATxmC,EAAS,iCAATA,EAAS,kBAKpD,OAAOymC,EAAoBxH,gBAApB,MAAAwH,EAAmB,CAAiB7M,EAAIjL,GAArB,OAA8B3uB,K,kBAG3B,SAAC45B,EAAIkN,EAAaC,GAC/C,OAAKH,EAAeC,cAAcjN,EAAIkN,GAIjCF,EAAeC,cAAcjN,EAAImN,GAI/BN,EAAoBO,gBAAgBpN,EAAIkN,EAAaC,GAHnDP,EAAsC,8BAJtCA,EAAsC,gC,6aCxDjD,+CACA,iDACA,4B,8gBAEA,IAAMS,EAAmC,WAAoC,IAAnC1D,EAAmC,uDAAzB,qBAClD,MAAO,CACLtJ,KAAK,IAAAY,WAAUC,cAAYwL,kBAAmB/C,K,UAI3B,WACrB,OAAO2D,EAAeC,QAAf,MAAAD,EAAc,Y,WAGC,WACtB,OAAOA,EAAelN,SAAf,MAAAkN,EAAc,Y,YAGE,SAACtN,EAAIE,GAC5B,IAAK8M,EAAeC,cAAcjN,EAAIE,GACpC,OAAOmN,IAFyC,2BAATjnC,EAAS,iCAATA,EAAS,kBAKlD,OAAOknC,EAAe3H,UAAf,MAAA2H,EAAc,CAAWtN,EAAIE,GAAf,OAA4B95B,K,WAG3B,SAAC45B,EAAIwN,EAAYjM,GACvC,OAAKyL,EAAeC,cAAcjN,EAAIwN,GAIjCR,EAAeC,cAAcjN,EAAIuB,GAI/B+L,EAAe/K,SAASvC,EAAIwN,EAAYjM,GAHtC8L,EAAiC,kCAJjCA,EAAiC,8B,aAUlB,SAACrN,EAAIE,GAC7B,OAAK8M,EAAeC,cAAcjN,EAAIE,GAI/BoN,EAAehI,WAAWtF,EAAIE,GAH5BmN,M,kXC5CX,yCACA,sDACA,iDACA,qCACA,4B,q/CAWmB,SAACrN,EAAIyN,EAAWC,GAA2C,IAA3BC,EAA2B,wDAC5E,GAAI3N,EAAG/tB,IAAIw7B,GACT,MAAO,CACLpN,KAAK,IAAAY,WAAUC,cAAYqL,2BAI/B,IAP4E,EAOtEqB,EAAcnM,EAASoM,mBAAmBJ,GAAW7sC,MAAM,GAAI,GAPO,IASnDgtC,GATmD,IAS5E,2BAAsC,KAA3BE,EAA2B,QACpC,GAAI3N,EAAOoN,QAAQvN,EAAI8N,GACrB,MAAO,CACLzN,KAAK,IAAAY,WAAUC,cAAYuL,gBAAtB,qCAC2BqB,KAIpC,IAAK9N,EAAG/tB,IAAI67B,KAAgBH,EAC1B,MAAO,CACLtN,KAAK,IAAAY,WAAUC,cAAYC,kBAAtB,2CACiC2M,MApBgC,8BAyB5E,IAAMC,EAAmB/N,EAAG/qB,IAAIw4B,EAAWC,GAE3C,MAAO,CACL1N,GAAI2N,EAAiB/I,EAAMwC,SAAS2G,GAAoBA,I,SAWtC,SAAC/N,EAAIgO,GAAsD,IAAxCC,IAAwC,yDAC/E,IAAKjO,EAAG/tB,IAAI+7B,GACV,MAAO,CACL3N,KAAK,IAAAY,WAAUC,cAAYkE,4BAI/B,IAAM8I,EAAoC,MAAjBF,EAAuB,MAAvB,UAAkCA,EAAlC,OACnBtF,EAAaV,EAASW,UAAU3I,EAAIkO,GAE1C,OAAKD,GAAiCvF,EAAWnb,UAM1C,CACLyS,GAAIA,EAAGvgB,UAAUipB,EAAWliC,OAAOwnC,KAN5B,CACL3N,KAAK,IAAAY,WAAUC,cAAYmL,wB,igBClEjC,yCACA,qCACA,qCACA,iDACA,4BACA,8C,0hEAEA,IAAM8B,EAAkB,SAAAnO,GAAE,OAAI,SAAAjL,GAAI,OAAIgN,EAASqM,OAAOpO,EAAGjhC,IAAIg2B,MACvDsZ,EAAwB,SAAArO,GAAE,OAAI,SAAAjL,GAAI,OAAIgN,EAASuM,YAAYtO,EAAGjhC,IAAIg2B,M,WA+BhD,SAACiL,GACvB,IAAMuO,EAAiBxM,EAASC,gBAE1BwM,EAAoBxO,EAAG9V,SAC1BmE,SAAQ,SAAA0G,GAAI,OAAI0M,EAASoM,mBAAmB9Y,MAC5C9uB,QAAO,SAAA8uB,GAAI,OAAKiL,EAAG/tB,IAAI8iB,MAE1B,OAAOiL,EAAGjjB,eAAc,SAACijB,GAAO,UACCwO,GADD,IAC9B,2BAAkD,KAAvCC,EAAuC,QAChDzO,EAAG/qB,IAAIw5B,EAAkBF,IAFG,mCAa3B,IAAMxN,EAAe,SAACf,EAAIjL,GAC/B,OAAOiL,EAAG/tB,IAAI8iB,IAASgN,EAASuM,YAAYtO,EAAGjhC,IAAIg2B,K,iBAS9C,IAAM+X,EAAqB,SAAC9M,EAAIjL,GACrC,IAAI,IAAAwY,SAAQvN,EAAIjL,GACd,MAAO,CACLsL,KAAK,IAAAY,WAAUC,cAAYiL,YAAa,wBAI5C,IAAKpL,EAAaf,EAAIjL,GACpB,MAAO,CACLsL,KAAK,IAAAY,WAAUC,cAAYC,kBAAmB,gDAIlD,IAAMuN,EAAwB,MAAT3Z,EAAe,KAAf,UAAyBA,EAAzB,MAErB,MAAO,CACL9Q,KAAM+jB,EAAS2G,iBAAiB3O,EAAI0O,EAAcP,EAAgBnO,M,uBAU/D,IAAM+M,EAAuB,SAAC/M,EAAIjL,GAAyC,IAAnC6Z,IAAmC,yDAChF,IAAI,IAAArB,SAAQvN,EAAIjL,GACd,MAAO,CACLsL,KAAK,IAAAY,WAAUC,cAAYiL,YAAa,wBAI5C,IAAKpL,EAAaf,EAAIjL,GACpB,MAAO,CACLsL,KAAK,IAAAY,WAAUC,cAAYC,kBAAmB,kDAIlD,IAAM0N,EAA0B,MAAT9Z,EAAe,KAAf,UAAyBA,EAAzB,MACjB+Z,EAAc9G,EAAS2G,iBAC3B3O,EAAI6O,EAAgBR,EAAsBrO,IAG5C,OAAI4O,EACK,CACL3qB,KAAM6qB,EAAYjsC,KAAI,SAAAksC,GAAU,gBAAOA,EAAP,SAI7B,CACL9qB,KAAM6qB,I,yCAWmB,SAAC9O,EAAIjL,GAAkC,IAA5Bia,IAA4B,2DACvBlC,EAAmB9M,EAAIjL,GAAtDka,EADsD,EAC3D5O,IAAwB6O,EADmC,EACzCjrB,KADyC,EAEnB8oB,EAAqB/M,EAAIjL,EAAMia,GAAlEG,EAFsD,EAE3D9O,IAA0B+O,EAFiC,EAEvCnrB,KAE3B,OAAIgrB,GAAeE,EACV,CACL9O,IAAK4O,GAA4BE,GAI9B,CACLlrB,KAAMirB,EAAS1oC,OAAO4oC,K,eAYE,SAACpP,EAAIjL,EAAMqK,GAA+B,IAA1BuO,IAA0B,yDACpE,OAAI,IAAAJ,SAAQvN,EAAIyB,EAAS4N,cAActa,IAC9B,CACLsL,KAAK,IAAAY,WAAUC,cAAYiL,YAAa,wBAIrCmD,EAAOtlB,IAAIgW,EAAIjL,EAAMqK,EAAKuO,IAcnC,IAAM4B,EAAqB,SAACvP,EAAIwP,GAAY,UACRA,GADQ,IAC1C,2BAA2C,oBAA/BlO,EAA+B,KAAtBC,EAAsB,KACzC,GAAIvB,EAAG/tB,IAAIsvB,GAAW,CACpB,IAAI,IAAAgM,SAAQvN,EAAIsB,IAAYP,EAAaf,EAAIuB,GAE3C,OAAO,EACF,GAAIR,EAAaf,EAAIsB,KAAY,IAAAiM,SAAQvN,EAAIuB,GAElD,OAAO,IAR6B,8BAa1C,OAAO,GAeIY,EAAgB,SAACnC,EAAIsB,EAASC,GAA+B,IAArBkO,IAAqB,yDACxE,IAAK1O,EAAaf,EAAIsB,GACpB,MAAO,CACLjB,KAAK,IAAAY,WAAUC,cAAYC,kBAAmB,oCAIlD,IAAKJ,EAAaf,EAAIuB,GACpB,MAAO,CACLlB,KAAK,IAAAY,WAAUC,cAAYC,kBAAmB,yCAIlD,IAAMuO,EAA8B,MAAZpO,EAAkB,MAAlB,UAA6BA,EAA7B,OAClBqO,EAAW3H,EAASW,UAAU3I,EAAI0P,GAClCE,EAAc5H,EAAS2G,iBAAiB3O,EAAI0P,GAC5CG,EAAYD,EAAY/sC,KAAI,SAAAkyB,GAAI,MAAa,MAATA,EAAewM,EAAf,UAA6BA,EAA7B,YAAyCxM,MAEnF,OAAKwa,EAAmBvP,EAAI2P,EAASje,IAAIme,IAMlC,CACL7P,GAAIA,EAAGjjB,eAAc,SAAC+yB,GAAU,UACIH,EAASje,IAAIme,IADjB,IAC9B,2BAA2D,oBAA/CvO,EAA+C,KAAtCC,EAAsC,KACpDvB,EAAG/tB,IAAIsvB,KAAakO,GACvBK,EAAM76B,IAAIssB,EAAUvB,EAAGjhC,IAAIuiC,KAHD,mCANzB,CACLjB,KAAK,IAAAY,WAAUC,cAAYyL,MAAO,qE,kBAsBjC,IAAMtH,EAAkB,SAACrF,EAAIwF,GAAuD,IAAzCyI,EAAyC,wDACzF,OAAI,IAAAV,SAAQvN,EAAIwF,GACP,CACLnF,KAAK,IAAAY,WAAUC,cAAYiL,YAAa,wBAIvCpL,EAAaf,EAAIwF,GAMf8J,EAAOn0B,OAAO6kB,EAAIwF,EAAcyI,GAL9B,CACL5N,KAAK,IAAAY,WAAUC,cAAYC,kBAAtB,6BAA+DqE,M,sCAc3C,SAACxF,EAAIkN,EAAaC,GAAY,MAC/BhL,EAAcnC,EAAIkN,EAAaC,GAAS,GAA7D9M,EADoD,EACpDA,IAASmC,EAD2C,EAC/CxC,GAEZ,OAAIK,EACK,CAACA,OAGHgF,EAAgB7C,EAAU0K,GAAa,K,4ZCnRhD,yCACA,iDACA,kCACA,mDACA,4B,8gBASO,IAAMK,EAAU,SAACvN,EAAIE,GAC1B,GAAIF,EAAG/tB,IAAIiuB,GAAW,CACpB,IAAM6P,EAAe/P,EAAGjhC,IAAImhC,GAE5B,OAAO,IAAAkO,QAAO2B,GAEhB,OAAO,G,uBASe,SAAC/P,EAAIE,GAC3B,OAAI,IAAAa,cAAaf,EAAIE,GACZ,CACLG,KAAK,IAAAY,WAAUC,cAAYsL,iBAI1Be,EAAQvN,EAAIE,GAMV,CACLzF,KAAMuF,EAAGjhC,IAAImhC,IANN,CACLG,KAAK,IAAAY,WAAUC,cAAYoL,gB,YAgBR,SAACtM,EAAIE,EAAUzF,GACtC,OAAO6U,EAAOtlB,IAAIgW,EAAIE,EAAUzF,I,WAUV,SAACuF,EAAIwN,EAAYjM,GACvC,IAAKgM,EAAQvN,EAAIwN,GACf,MAAO,CACLnN,KAAK,IAAAY,WAAUC,cAAYoL,aAAc,+BAI7C,IAAM0D,EAAavO,EAAS4N,cAAc9N,GAE1C,KAAK,IAAAR,cAAaf,EAAIgQ,GACpB,MAAO,CACL3P,KAAK,IAAAY,WAAUC,cAAYC,kBAAmB,yCAIlD,IAAI,IAAAJ,cAAaf,EAAIuB,GAAW,CAE9B,IAAM0O,EAAiBxO,EAASI,gBAAgB2L,GAEhDjM,EAAwB,MAAbA,EAAA,WAAuB0O,GAAvB,UAA6C1O,EAA7C,YAAyD0O,GAGtE,MAAO,CACLjQ,GAAIA,EAAG/qB,IAAIssB,EAAUvB,EAAGjhC,IAAIyuC,M,aAUN,SAACxN,EAAIE,GAC7B,OAAI,IAAAa,cAAaf,EAAIE,GACZ,CACLG,KAAK,IAAAY,WAAUC,cAAYsL,iBAI1Be,EAAQvN,EAAIE,GAMVoP,EAAOn0B,OAAO6kB,EAAIE,GALhB,CACLG,KAAK,IAAAY,WAAUC,cAAYoL,iB,oKC1GjC,yD,gsBAOsB,SAACzpC,GACrB,OAAOA,EAAIoP,IAAI,Y,cAQU,SAACpP,GAC1B,OAAQA,EAAIoP,IAAI,Y,WAQM,WAAiC,IAAhCkxB,EAAgC,uDAAtB,GAAI+M,EAAkB,uDAAP,GAChD,OAAO,IAAAlc,QAAA,GACLmP,WACG+M,K,gBASsB,WAAmB,IAAlBA,EAAkB,uDAAP,GACvC,OAAO,IAAAlc,QAAA,KACFkc,M,kKCvCP,oDACA,oDACA,qD,mDAEA,IAAMC,EAAe,CAAC5X,KAAK,G,OAEP,SAACl4B,EAAKmoC,GACxB,OAAO,aAAUnoC,EAAKmoC,EAAa2H,IAG9B,IAAMlI,EAAU,SAAC13B,EAAKi4B,GAC3B,OAAOj4B,EAAItK,QAAO,SAAC8uB,GAAD,OAAU,aAAUA,EAAMyT,EAAa2H,O,wBAGlC,SAACnQ,EAAIwI,GAC5B,OAAOP,EAAQjI,EAAG9V,SAAUse,I,mBAGE,SAACxI,EAAIwI,GAAkD,IAArC4H,EAAqC,uDAAnB,SAACrb,GAAD,OAAU,GAC5E,OAAOiL,EAAG9V,SAASzR,QAAO,SAAC43B,EAAUtb,GACnC,GAAIqb,EAAgBrb,GAAO,CACzB,IAAMub,GAAe,aAAQvb,EAAMyT,EAAa2H,GAEhD,GAAIG,EACF,OAAOD,EAAS7pC,OAAO8pC,GAI3B,OAAOD,KACN,IAAA1sB,W,0wCCrByB,SAACoR,GAC7B,OAAOA,EAAK0T,SAAS,MAAiB,MAAT1T,GAQxB,IAAMwb,EAA0B,SAACxb,GACtC,OAAIA,EAAK0T,SAAS,MAAiB,MAAT1T,EACjBA,EAAKn0B,MAAM,GAAI,GAEjBm0B,G,4BAQF,IAAM6T,EAAY,SAAC7T,GACxB,OAAOA,EAAKa,WAAW,M,cAalB,IAAMkT,EAAc,SAAC/T,GAC1B,GAAa,MAATA,EACF,MAAO,CAAC,KAIV,IAAMyb,GADNzb,EAAOwb,EAAwBxb,IACRxyB,MAAM,KAE7B,GAAIqmC,EAAU7T,GAAO,KACP0b,EADO,EACaD,GADb,SAGnB,OAAQ,KAAR,SAAgBC,IAGlB,OAAOD,G,gBAQF,IAAMzH,EAAS,SAACyH,GACrB,GAAqB,MAAjBA,EAAU,GAAY,KACZC,EADY,EACQD,GADR,SAGxB,iBAAWC,EAAiBvsC,KAAK,MAGnC,OAAOssC,EAAUtsC,KAAK,M,gCAUU,SAAC6wB,GACjC,IAAMyb,EAAY1H,EAAY/T,GAE9B,GAAIyb,EAAU1vC,QAAU,EACtB,MAAO,CAAC,KAJgC,QAOU0vC,GAA3CE,EAPiC,KAS1C,OAT0C,WASdj4B,QAAO,SAACk4B,EAAaC,GAC/C,IAAMC,EAAqBF,EAAYA,EAAY7vC,OAAS,GAE5D,kBAAW6vC,GAAX,WAA2BE,EAA3B,YAAiDD,OAChD,CAAC,IAAD,WAAUF,MASR,IAAMrB,EAAgB,SAACnP,GAC5B,GAAiB,MAAbA,EACF,MAAO,IAGT,IACM4Q,EADYhI,EAAY5I,GACat/B,MAAM,GAAI,GAErD,OAAOmoC,EAAO+H,I,kBAQT,IAAMjP,EAAkB,SAAC3B,GAC9B,IAAMsQ,EAAY1H,EAAY5I,GAE9B,OAAOsQ,EAAUA,EAAU1vC,OAAS,I,oCAQT,SAACo/B,GAC5B,MAAO,CACL,QAAWmP,EAAcnP,GACzB,SAAY2B,EAAgB3B,K,iBAcF,SAAC6Q,EAAcpV,GAC3CoV,EAAeR,EAAwBQ,GACvC,IAFmD,EAFtBnnC,EAIvBonC,EAAYpI,EAAUmI,GAAgB,GAAKjI,EAAYnN,GAFV,E,6kBAAA,CAI5BmN,EAAYiI,IAJgB,IAInD,2BAAkD,KAAvCH,EAAuC,QARtC,OASNA,GAPiD,KAA1BhnC,EAQGonC,GARYlwC,QAA6B,MAAb8I,EAAM,KAS5DonC,EAAUrvC,MAVE,MAYLivC,GACTI,EAAUtvC,KAAKkvC,IAVgC,8BAcnD,OAAO7H,EAAOiI,K,6WClKhB,M,maAAA,kC,0kCAEA,IAWMC,EAAwB,SAACjR,EAAIjL,GACjC,IAAMmc,EAAYlR,EAAGjhC,IAAIg2B,EAAM,MAE/B,GAAImc,IACgBA,EAAUnyC,IAAI,aAfT,GAkBrB,OAAO,EAIX,OAAO,G,gBASoB,SAACihC,EAAIjL,GAChC,IADyC,MACjB0M,EAASoM,mBAAmB9Y,IADX,IAGzC,2BAA8C,KAAnCoc,EAAmC,QAC5C,IAAKF,EAAsBjR,EAAImR,GAC7B,OAAO,GAL8B,8BASzC,OAAO,I,o2CC1CT,sCACA,0DACA,qCACA,sCACA,yBACA,6BACA,kC,i7BCDA,IAcaC,EAAgB,SAACC,GAC5B,OAAOA,EACJ9uC,MAAM,QACNM,KAAI,SAACmjC,GAAD,OAVc,SAAAA,GAAO,OAPC3lC,EAO0B2lC,EAPnB3lC,EAAIyF,OAAOE,QAAQ,SAAU,MAODzD,MAAM,MAPzC,IAAAlC,EAiBTixC,CAAetL,MAChCnjC,KAAI,6BAAuC,CAC1C6gC,YADG,KAEH9D,eAFG,gB,wBAMMwR,E,wdC3BA,CACbG,a,maAHF,sC,+KCAA,I,EAAA,G,EAAA,2C,2BAQO,IAAMC,EAAe,SAAC5R,EAAgBF,GAAjB,OAC1B,aAAQE,EAAgBF,EAAQ,CAC9Bn3B,mBAAoB,gB,uBAGTipC,E","file":"terminal.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Terminal\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Terminal\"] = factory();\n\telse\n\t\troot[\"Terminal\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","\"use strict\";\n\n/**\n * Class used internally to represent individual options.\n * @internal\n */\nclass Option{\n\t\n\t/**\n\t * Create a new Option instance.\n\t *\n\t * @param {String|Array} names - Comma-separated list of names.\n\t * @param {String|Array} params - Arguments which the option expects.\n\t * @example new Option(\"-l, --long-list, --length\", \"<num> <type>\")\n\t * @example new Option(\"-e, --exec\", \"[num] [type]\")\n\t * @constructor\n\t */\n\tconstructor(names, params = \"\"){\n\t\tthis.shortNames = [];\n\t\tthis.longNames  = [];\n\t\tthis.params     = [];\n\t\tthis.values     = [];\n\t\t\n\t\tthis.defineNames(names);\n\t\tthis.defineParams(params);\n\t}\n\t\n\t\n\t/**\n\t * Describe the names used to refer to this option.\n\t * \n\t * @param {String|Array} input\n\t * @internal\n\t */\n\tdefineNames(input){\n\t\tif(!Array.isArray(input))\n\t\t\tinput = String(input).split(/,/g);\n\t\t\n\t\tfor(let name of input){\n\t\t\tname = name.trim();\n\t\t\t/^-([^\\s-])$/.test(name)\n\t\t\t\t? this.shortNames.push(RegExp.lastParen)\n\t\t\t\t: this.longNames.push(name.replace(/^-+/, \"\"));\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Describe the parameters this option accepts/expects.\n\t *\n\t * @param {String|Array} input\n\t * @internal\n\t */\n\tdefineParams(input){\n\t\tinput = Array.isArray(input)\n\t\t\t? input.filter(Boolean).join(\" \")\n\t\t\t: String(input).trim().split(/\\s+/g);\n\t\t\n\t\t// Strip any enclosing brackets added for readability\n\t\tinput = input.map(param => param.replace(/^<(.+?)>$|^\\[(.+?)\\]$|^\\((.+?)\\)$/gm, (...args) =>\n\t\t\targs.slice(1, 4).filter(Boolean).join(\"\")));\n\t\t\n\t\tfor(const param of input){\n\t\t\tif(!param) continue;\n\t\t\tconst [, name, pattern=\".+\"] = param.match(/^([^=]+)(?:=(.+)?)?$/);\n\t\t\tthis.params.push({name, pattern});\n\t\t\tif(/\\.{3}$/.test(name))\n\t\t\t\tthis.variadic = true;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Pattern to match option when expressed in bundled short-form.\n\t *\n\t * @readonly\n\t * @return {String}\n\t */\n\tget bundlePattern(){\n\t\t\n\t\t// Use a cached result if possible\n\t\tif(this._bundlePattern)\n\t\t\treturn this._bundlePattern;\n\t\t\n\t\tconst param = this.params.map(param => `(${param.pattern})?`).join(\"\");\n\t\tconst names = 1 === this.shortNames.length\n\t\t\t? this.shortNames[0]\n\t\t\t: `[${this.shortNames.join(\"\")}]`;\n\t\treturn (this._bundlePattern = names + param);\n\t}\n\t\n\t\n\t/**\n\t * Number of parameters this option expects/accepts.\n\t *\n\t * @readonly\n\t * @property {Number}\n\t */\n\tget arity(){\n\t\treturn this.params ? this.params.length : 0;\n\t}\n\t\n\t\n\t/**\n\t * Array of names recognised by the option, both long and short.\n\t *\n\t * @readonly\n\t * @property {Array}\n\t */\n\tget names(){\n\t\treturn this.shortNames.concat(this.longNames);\n\t}\n\t\n\t\n\t/**\n\t * Whether the option can accept another parameter.\n\t *\n\t * @readonly\n\t * @property {Boolean}\n\t */\n\tget canCollect(){\n\t\treturn !!(this.variadic || this.values.length < this.params.length);\n\t}\n}\n\n\n\n/**\n * Box a value inside an {@link Array}, unless it already is one.\n *\n * @example arrayify(1)   => [1]\n * @example arrayify([1]) => [1]\n * @param {*} input\n * @return {Array}\n * @internal\n */\nfunction arrayify(input){\n\treturn Array.isArray(input) ? input : [input];\n}\n\n\n/**\n * Strip leading dashes from an option name and convert it to camelCase.\n *\n * @param {String} input - An option's name, such as \"--write-to\"\n * @param {Boolean} noCamelCase - Strip leading dashes only\n * @return {String}\n * @internal\n */\nfunction formatName(input, noCamelCase){\n\tinput = input.replace(/^-+/, \"\");\n\t\n\t// Convert kebab-case to camelCase\n\tif(!noCamelCase && /-/.test(input))\n\t\tinput = input.toLowerCase().replace(/([a-z])-+([a-z])/g, (_, a, b) => a + b.toUpperCase());\n\t\n\treturn input;\n}\n\n\n/**\n * Test a string against a list of patterns.\n *\n * @param {String} input\n * @param {String[]|RegExp[]} patterns\n * @return {Boolean}\n * @internal\n */\nfunction match(input, patterns = []){\n\tif(!patterns || 0 === patterns.length)\n\t\treturn false;\n\t\n\tinput    = String(input);\n\tpatterns = arrayify(patterns).filter(Boolean);\n\tfor(const pattern of patterns)\n\t\tif((pattern === input && \"string\" === typeof pattern)\n\t\t|| (pattern instanceof RegExp) && pattern.test(input))\n\t\t\treturn true;\n\treturn false;\n}\n\n\n/**\n * Filter duplicate strings from an array.\n *\n * @param {String[]} input\n * @return {Array}\n * @internal\n */\nfunction uniqueStrings(input){\n\tconst output = {};\n\tfor(let i = 0, l = input.length; i < l; ++i)\n\t\toutput[input[i]] = true;\n\treturn Object.keys(output);\n}\n\n\n/**\n * Parse a string as a whitespace-delimited list of options,\n * preserving quoted and escaped characters.\n *\n * @example unstringify(\"--foo --bar\")     => [\"--foo\", \"--bar\"];\n * @example unstringify('--foo \"bar baz\"') => [\"--foo\", '\"bar baz\"'];\n * @param {String} input\n * @return {Object}\n * @internal\n */\nfunction unstringify(input){\n\tinput = String(input || \"\");\n\tconst tokens   = [];\n\tconst {length} = input;\n\t\n\tlet quoteChar  = \"\";    // Quote-type enclosing current region\n\tlet tokenData  = \"\";    // Characters currently being collected\n\tlet isEscaped  = false; // Flag identifying an escape sequence\n\t\n\tfor(let i = 0; i < length; ++i){\n\t\tconst char = input[i];\n\t\t\n\t\t// Previous character was a backslash\n\t\tif(isEscaped){\n\t\t\ttokenData += char;\n\t\t\tisEscaped = false;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t// Whitespace: terminate token unless quoted\n\t\tif(!quoteChar && /[ \\t\\n]/.test(char)){\n\t\t\ttokenData && tokens.push(tokenData);\n\t\t\ttokenData = \"\";\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t// Backslash: escape next character\n\t\tif(\"\\\\\" === char){\n\t\t\tisEscaped = true;\n\t\t\t\n\t\t\t// Swallow backslash if it escapes a metacharacter\n\t\t\tconst next = input[i + 1];\n\t\t\tif(quoteChar && (quoteChar === next || \"\\\\\" === next)\n\t\t\t|| !quoteChar && /[- \\t\\n\\\\'\"`]/.test(next))\n\t\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t// Quote marks\n\t\telse if((!quoteChar || char === quoteChar) && /['\"`]/.test(char)){\n\t\t\tquoteChar = quoteChar === char ? \"\" : char;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\ttokenData += char;\n\t}\n\tif(tokenData)\n\t\ttokens.push(tokenData);\n\treturn tokens;\n}\n\n\n/**\n * Parse input using \"best guess\" logic. Called when no optdef is passed.\n *\n * Essentially, the following assumptions are made about input:\n *\n * - Anything beginning with at least one dash is an option name\n * - Options without arguments mean a boolean \"true\"\n * - Option-reading stops at \"--\"\n * - Anything caught between two options becomes the first option's value\n *\n * @param {Array} input\n * @param {Object} [config={}]\n * @return {Object}\n * @internal\n */\nfunction autoOpts(input, config = {}){\n\tconst opts = new Object(null);\n\tconst argv = [];\n\tlet argvEnd;\n\t\n\t// Bail early if passed a blank string\n\tif(!input) return opts;\n\t\n\t// Stop parsing options after a double-dash\n\tconst stopAt = input.indexOf(\"--\");\n\tif(stopAt !== -1){\n\t\targvEnd = input.slice(stopAt + 1);\n\t\tinput = input.slice(0, stopAt);\n\t}\n\t\n\tfor(let i = 0, l = input.length; i < l; ++i){\n\t\tlet name = input[i];\n\t\t\n\t\t// Appears to be an option\n\t\tif(/^-/.test(name)){\n\t\t\t\n\t\t\t// Equals sign is used, should it become the option's value?\n\t\t\tif(!config.ignoreEquals && /=/.test(name)){\n\t\t\t\tconst split = name.split(/=/);\n\t\t\t\tname        = formatName(split[0], config.noCamelCase);\n\t\t\t\topts[name]  = split.slice(1).join(\"=\");\n\t\t\t}\n\t\t\t\n\t\t\telse{\n\t\t\t\tname = formatName(name, config.noCamelCase);\n\t\t\t\t\n\t\t\t\t// Treat a following non-option as this option's value\n\t\t\t\tconst next = input[i + 1];\n\t\t\t\tif(next != null && !/^-/.test(next)){\n\t\t\t\t\t\n\t\t\t\t\t// There's another option after this one. Collect multiple non-options into an array.\n\t\t\t\t\tconst nextOpt = input.findIndex((s, I) => I > i && /^-/.test(s));\n\t\t\t\t\tif(nextOpt !== -1){\n\t\t\t\t\t\topts[name] = input.slice(i + 1, nextOpt);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// There's only one value to store; don't wrap it in an array\n\t\t\t\t\t\tif(nextOpt - i < 3)\n\t\t\t\t\t\t\topts[name] = opts[name][0];\n\t\t\t\t\t\t\n\t\t\t\t\t\ti = nextOpt - 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// We're at the last option. Don't touch argv; assume it's a boolean-type option\n\t\t\t\t\telse opts[name] = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// No arguments defined. Assume it's a boolean-type option.\n\t\t\t\telse opts[name] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Non-option: add to argv\n\t\telse argv.push(name);\n\t}\n\t\n\t\n\t// Add any additional arguments that were found after a \"--\" delimiter\n\tif(argvEnd)\n\t\targv.push(...argvEnd);\n\t\n\treturn {\n\t\toptions: opts,\n\t\targv:    argv,\n\t};\n}\n\n\n\n/**\n * Extract command-line options from a list of strings.\n *\n * @param {String|Array} input\n * @param {String|Object} [optdef=null]\n * @param {Object} [config={}]\n */\nfunction getOpts(input, optdef = null, config = {}){\n\t\n\t// Do nothing if given nothing\n\tif(!input || 0 === input.length)\n\t\treturn {options: {}, argv: []};\n\t\n\t// Avoid modifying original array\n\tif(Array.isArray(input))\n\t\tinput = [...input].map(String);\n\t\n\t// If called with a string, break it apart into an array\n\telse if(\"string\" === typeof input)\n\t\tinput = unstringify(input);\n\t\n\t\n\t// Take a different approach if optdefs aren't specified\n\tif(null === optdef || \"\" === optdef || false === optdef)\n\t\treturn autoOpts(input, config);\n\t\n\t\n\t// Allow \"t:h:i:s\" style of getopt usage\n\tif(\"[object String]\" === Object.prototype.toString.call(optdef)){\n\t\tconst names = optdef.match(/[^\\s:]:?/g);\n\t\toptdef = {};\n\t\tnames.forEach(name => {\n\t\t\toptdef[`-${name.replace(/:/, \"\")}`] = name.length > 1 ? \"<arg>\" : \"\";\n\t\t});\n\t}\n\n\t// Parse settings that affect runtime option-handling\n\tconst {\n\t\tnoAliasPropagation,\n\t\tnoCamelCase,\n\t\tnoBundling,\n\t\tnoMixedOrder,\n\t\tnoUndefined,\n\t\tterminator,\n\t\tignoreEquals,\n\t\tduplicates = \"use-last\",\n\t} = config;\n\t\n\tconst shortNames = {};\n\tconst longNames = {};\n\tconst result = {argv: [], options: new Object(null)};\n\n\t// Define each named option. Throw an error if a duplicate is found.\n\tfor(const name in optdef){\n\t\tconst option = new Option(name, optdef[name]);\n\t\t\n\t\tfor(const name of option.shortNames){\n\t\t\tif(undefined !== shortNames[name])\n\t\t\t\tthrow new ReferenceError(`Short option \"-${name}\" already defined`);\n\t\t\tshortNames[`-${name}`] = option;\n\t\t}\n\t\t\n\t\tfor(const name of option.longNames){\n\t\t\tif(undefined !== longNames[name])\n\t\t\t\tthrow new ReferenceError(`Long option \"--${name}\" already defined`);\n\t\t\tlongNames[`--${name}`] = option;\n\t\t}\n\t}\n\t\n\t// Pointer to the option that's currently picking up arguments\n\tlet currentOption;\n\t\n\t\n\t// Manage duplicated option values\n\tfunction resolveDuplicate(option, name, value){\n\t\tswitch(duplicates){\n\t\t\t\n\t\t\t// Use the first value (or set of values); discard any following duplicates\n\t\t\tcase \"use-first\":\n\t\t\t\treturn result.options[name];\n\t\t\t\n\t\t\t// Use the last value (or set of values); discard any preceding duplicates. Default.\n\t\t\tcase \"use-last\":\n\t\t\tdefault:\n\t\t\t\treturn result.options[name] = value;\n\t\t\t\n\t\t\t// Use the first/last options; treat any following/preceding duplicates as argv items respectively\n\t\t\tcase \"limit-first\":\n\t\t\tcase \"limit-last\":\n\t\t\t\tresult.argv.push(option.prevMatchedName, ...arrayify(value));\n\t\t\t\tbreak;\n\t\t\t\n\t\t\t// Throw an exception\n\t\t\tcase \"error\":\n\t\t\t\tconst error = new TypeError(`Attempting to reassign option \"${name}\" with value(s) ${JSON.stringify(value)}`);\n\t\t\t\terror.affectedOption = option;\n\t\t\t\terror.affectedValue  = value;\n\t\t\t\tthrow error;\n\t\t\t\n\t\t\t// Add parameters of duplicate options to the argument list of the first\n\t\t\tcase \"append\":\n\t\t\t\tconst oldValues = arrayify(result.options[name]);\n\t\t\t\tconst newValues = arrayify(value);\n\t\t\t\tresult.options[name] = oldValues.concat(newValues);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\t// Store parameters of duplicated options in a multidimensional array\n\t\t\tcase \"stack\": {\n\t\t\t\tlet oldValues   = result.options[name];\n\t\t\t\tconst newValues = arrayify(value);\n\t\t\t\t\n\t\t\t\t// This option hasn't been \"stacked\" yet\n\t\t\t\tif(!option.stacked){\n\t\t\t\t\toldValues            = arrayify(oldValues);\n\t\t\t\t\tresult.options[name] = [oldValues, newValues];\n\t\t\t\t\toption.stacked       = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Already \"stacked\", so just shove the values onto the end of the array\n\t\t\t\telse result.options[name].push(arrayify(newValues));\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\t// Store each duplicated value in an array using the order they appear\n\t\t\tcase \"stack-values\": {\n\t\t\t\tlet values = result.options[name];\n\t\t\t\t\n\t\t\t\t// First time \"stacking\" this option (nesting its value/s inside an array)\n\t\t\t\tif(!option.stacked){\n\t\t\t\t\tconst stack = [];\n\t\t\t\t\tfor(const value of arrayify(values))\n\t\t\t\t\t\tstack.push([value]);\n\t\t\t\t\tvalues = stack;\n\t\t\t\t\toption.stacked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tarrayify(value).forEach((v, i) => {\n\t\t\t\t\t\n\t\t\t\t\t// An array hasn't been created at this index yet,\n\t\t\t\t\t// because an earlier option wasn't given enough parameters.\n\t\t\t\t\tif(undefined === values[i])\n\t\t\t\t\t\tvalues[i] = Array(values[0].length - 1);\n\t\t\t\t\t\n\t\t\t\t\tvalues[i].push(v);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tresult.options[name] = values;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// Assign an option's parsed value to the result's `.options` property\n\tfunction setValue(option, value){\n\t\t\n\t\t// Assign the value only to the option name it matched\n\t\tif(noAliasPropagation){\n\t\t\tlet name = option.lastMatchedName;\n\t\t\t\n\t\t\t// Special alternative:\n\t\t\t// In lieu of using the matched option name, use the first --long-name only\n\t\t\tif(\"first-only\" === noAliasPropagation)\n\t\t\t\tname = option.longNames[0] || option.shortNames[0];\n\t\t\t\n\t\t\t// camelCase?\n\t\t\tname = formatName(name, noCamelCase);\n\t\t\t\n\t\t\t// This option's already been set before\n\t\t\tif(result.options[name])\n\t\t\t\tresolveDuplicate(option, name, value);\n\t\t\t\n\t\t\telse result.options[name] = value;\n\t\t}\n\t\t\n\t\t// Copy across every alias this option's recognised by\n\t\telse{\n\t\t\tconst {names} = option;\n\t\t\t\n\t\t\tfor(let name of names){\n\t\t\t\t\n\t\t\t\t// Decide whether to camelCase this option name\n\t\t\t\tname = formatName(name, noCamelCase);\n\t\t\t\t\n\t\t\t\t// Ascertain if this option's being duplicated\n\t\t\t\tif(result.options[name])\n\t\t\t\t\tresolveDuplicate(option, name, value);\n\t\t\t\t\n\t\t\t\tresult.options[name] = value;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// Push whatever we've currently collected for this option and reset pointer\n\tfunction wrapItUp(){\n\t\tlet optValue = currentOption.values;\n\t\t\n\t\t// Don't store solitary values in an array. Store them directly as strings\n\t\tif(1 === currentOption.arity && !currentOption.variadic)\n\t\t\toptValue = optValue[0];\n\n\t\tsetValue(currentOption, optValue);\n\t\tcurrentOption.values = [];\n\t\tcurrentOption = null;\n\t}\n\t\n\t\n\t// Reverse the order of an argument list, keeping options and their parameter lists intact\n\tfunction flip(input){\n\t\tinput = input.reverse();\n\t\t\n\t\t// Flip any options back into the right order\n\t\tfor(let i = 0, l = input.length; i < l; ++i){\n\t\t\tconst arg = input[i];\n\t\t\tconst opt = shortNames[arg] || longNames[arg];\n\t\t\t\n\t\t\tif(opt){\n\t\t\t\tconst from    = Math.max(0, i - opt.arity);\n\t\t\t\tconst to      = i + 1;\n\t\t\t\tconst extract = input.slice(from, to).reverse();\n\t\t\t\tinput.splice(from, extract.length, ...extract);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn input;\n\t}\n\t\n\t\n\t// Tackle bundling. Ensure there's at least one option with a short name to work with.\n\tconst nameKeys = Object.keys(shortNames);\n\tlet bundleMatch, bundlePatterns, niladicArgs;\n\t\n\tif(!noBundling && nameKeys.length){\n\t\tbundlePatterns  = uniqueStrings(nameKeys.map(n => shortNames[n].bundlePattern)).join(\"|\");\n\t\tbundleMatch     = new RegExp(`^-(${bundlePatterns})+`, \"g\");\n\t\tniladicArgs     = uniqueStrings(nameKeys.filter(n => !shortNames[n].arity).map(n => shortNames[n].bundlePattern)).join(\"|\");\n\t\tniladicArgs     = new RegExp(`^(-(?:${niladicArgs})+)((?!${bundlePatterns})\\\\S+)`);\n\t\tbundlePatterns  = new RegExp(bundlePatterns, \"g\");\n\t}\n\t\n\t\n\t// Is pre-processing of the argument list necessary?\n\tif(!ignoreEquals || bundleMatch){\n\t\t\n\t\t// Limit equals-sign expansion to items that begin with recognised option names\n\t\tconst legalNames = new RegExp(`^(?:${ Object.keys(longNames).join(\"|\") })=`);\n\t\t\n\t\tfor(let i = 0, l = input.length; i < l; ++i){\n\t\t\tlet arg = input[i];\n\t\t\t\n\t\t\t// We have bundling in use\n\t\t\tif(bundleMatch){\n\t\t\t\tbundleMatch.lastIndex = 0;\n\t\t\t\t\n\t\t\t\t// Expand bundled option clusters (\"-mvl2\" -> \"-m -v -l 2\")\n\t\t\t\tif(bundleMatch.test(arg)){\n\t\t\t\t\t\n\t\t\t\t\t// Break off arguments attached to niladic options\n\t\t\t\t\tconst niladicMatch = arg.match(niladicArgs);\n\t\t\t\t\tif(niladicMatch){\n\t\t\t\t\t\tniladicArgs.lastIndex = 0;\n\t\t\t\t\t\targ = niladicMatch[1];\n\t\t\t\t\t\tinput.splice(i + 1, 0, niladicMatch[2]);\n\t\t\t\t\t\tl = input.length;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst segments = [].concat(...arg.match(bundlePatterns).map(m => {\n\t\t\t\t\t\tconst option = shortNames[`-${m[0]}`];\n\t\t\t\t\t\tconst result = [`-${m[0]}`];\n\t\t\t\t\t\tif(!option.arity) return result;\n\t\t\t\t\t\tresult.push(...m.match(new RegExp(option.bundlePattern)).slice(1).filter(i => i));\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}));\n\t\t\t\t\tinput.splice(i, 1, ...segments);\n\t\t\t\t\tl =  input.length;\n\t\t\t\t\ti += segments.length - 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Expand \"--option=value\" sequences to become \"--option value\"\n\t\t\tif(legalNames.test(arg)){\n\t\t\t\tconst match = arg.match(/^([^=]+)=(.+)$/);\n\t\t\t\tinput.splice(i, 1, match[1], match[2]);\n\t\t\t\tl =  input.length;\n\t\t\t\ti += 1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// If we're handling duplicate options with \"limit-last\", flip the input order\n\tif(\"limit-last\" === duplicates)\n\t\tinput = flip(input);\n\t\n\t// Start processing the arguments we were given to handle\n\tfor(let i = 0, l = input.length; i < l; ++i){\n\t\tconst arg = input[i];\n\t\tconst opt = shortNames[arg] || longNames[arg];\n\t\t\n\t\t// This argument matches a recognised option name\n\t\tif(opt){\n\t\t\t\n\t\t\t// Record the name given on command-line that matched the option\n\t\t\topt.lastMatchedName = arg;\n\t\t\t\n\t\t\t// Did we have an existing option that was collecting values?\n\t\t\tif(currentOption) wrapItUp();\n\t\t\t\n\t\t\t\n\t\t\t// Option takes at least one argument\n\t\t\tif(opt.arity)\n\t\t\t\tcurrentOption = opt;\n\t\t\t\n\t\t\t// This option takes no arguments, so just assign it a value of \"true\"\n\t\t\telse setValue(opt, true);\n\t\t\t\n\t\t\t\n\t\t\t// Store an additional back-reference to the current option's name\n\t\t\topt.prevMatchedName = arg;\n\t\t}\n\t\t\n\t\telse{\n\t\t\tconst isTerminator = match(arg, terminator);\n\t\t\tconst keepRest = () => result.argv.push(...input.slice(i + 1));\n\t\t\t\n\t\t\t// A previous option is still collecting arguments\n\t\t\tif(currentOption && currentOption.canCollect && !isTerminator)\n\t\t\t\tcurrentOption.values.push(arg);\n\t\t\t\n\t\t\t// Not associated with an option\n\t\t\telse{\n\t\t\t\tcurrentOption && wrapItUp();\n\t\t\t\t\n\t\t\t\t// Terminate option parsing?\n\t\t\t\tif(isTerminator){\n\t\t\t\t\tkeepRest();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Raise an exception if unrecognised switches are considered an error\n\t\t\t\tif(noUndefined && /^-./.test(arg)){\n\t\t\t\t\tlet error = noUndefined;\n\t\t\t\t\t\n\t\t\t\t\t// Prepare an error object to be thrown in the user's direction\n\t\t\t\t\tswitch(typeof noUndefined){\n\t\t\t\t\t\tcase \"function\": error = error(arg); break;\n\t\t\t\t\t\tcase \"boolean\":  error = 'Unknown option: \"%s\"'; // Fall-through\n\t\t\t\t\t\tcase \"string\":   error = new TypeError(error.replace(\"%s\", arg));\n\t\t\t\t\t}\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tresult.argv.push(arg);\n\t\t\t\t\n\t\t\t\t// Finish processing if mixed-order is disabled\n\t\t\t\tif(noMixedOrder){\n\t\t\t\t\tkeepRest();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t// Ended abruptly?\n\tif(currentOption) wrapItUp();\n\t\n\t\n\t// Check if we need to flip the returned .argv array back into the right order again\n\tif(\"limit-last\" === duplicates)\n\t\tresult.argv = flip(result.argv);\n\t\t\n\treturn result;\n}\n\n\nif(\"undefined\" !== typeof module.exports)\n\tmodule.exports = getOpts;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n        ? index\n        : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\n// Note: value is unchanged to not break immutable-devtools.\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function() {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n          ? value.toSeq()\n          : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n          ? value.toSeq().entrySeq()\n          : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  switch (typeof o) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return o ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(o);\n    case 'string':\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(o)\n        : hashString(o);\n    case 'object':\n    case 'function':\n      if (o === null) {\n        return 0x42108422;\n      }\n      if (typeof o.hashCode === 'function') {\n        // Drop any high bits from accidentally long hash codes.\n        return smi(o.hashCode(o));\n      }\n      if (o.valueOf !== defaultValueOf && typeof o.valueOf === 'function') {\n        o = o.valueOf(o);\n      }\n      return hashJSObj(o);\n    case 'undefined':\n      return 0x42108423;\n    default:\n      if (typeof o.toString === 'function') {\n        return hashString(o.toString());\n      }\n      throw new Error('Value type ' + typeof o + ' cannot be hashed.');\n  }\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction isPlainObj(value) {\n  return (\n    value &&\n    (typeof value.constructor !== 'function' ||\n      value.constructor.name === 'Object')\n  );\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObj(value))\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n        ? collection.get(key)\n        : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n}\n\nfunction setIn(collection, keyPath, value) {\n  return updateIn(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn$1(keyPath, v) {\n  return setIn(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update(collection, key, notSetValue, updater) {\n  return updateIn(collection, [key], notSetValue, updater);\n}\n\nfunction update$1(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update(this, key, notSetValue, updater);\n}\n\nfunction updateIn$1(keyPath, notSetValue, updater) {\n  return updateIn(this, keyPath, notSetValue, updater);\n}\n\nfunction merge() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update(\n            collection,\n            key,\n            NOT_SET,\n            function (oldVal) { return (oldVal === NOT_SET ? value : merger(oldVal, value, key)); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection$$1 = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection$$1(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) && isDataStructure(newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n  }\n  return deepMerger;\n}\n\nfunction mergeDeep$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, map));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn$1;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update$1;\nMapPrototype.updateIn = updateIn$1;\nMapPrototype.merge = MapPrototype.concat = merge;\nMapPrototype.mergeWith = mergeWith;\nMapPrototype.mergeDeep = mergeDeep$1;\nMapPrototype.mergeDeepWith = mergeDeepWith$1;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function(result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n        ? this.shift()\n        : index === this.size - 1\n          ? this.pop()\n          : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection$$1(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, list));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn$1;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update$1;\nListPrototype.updateIn = updateIn$1;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function(result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function(result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var removes = [];\n    var adds = [];\n    this.forEach(function (value) {\n      var mapped = mapper.call(context, value, value, this$1);\n      if (mapped !== value) {\n        removes.push(value);\n        adds.push(mapped);\n      }\n    });\n    return this.withMutations(function (set) {\n      removes.forEach(function (value) { return set.remove(value); });\n      adds.forEach(function (value) { return set.add(value); });\n    });\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function(result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn$1(searchKeyPath, notSetValue) {\n  return getIn(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn(collection, keyPath) {\n  return getIn(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn$1(searchKeyPath) {\n  return hasIn(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq()\n        .map(this.__toStringMapper)\n        .join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection\n      .toSeq()\n      .map(entryMapper)\n      .toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn$1,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn$1,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq()\n      .map(keyMapper)\n      .toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq()\n      .reverse()\n      .first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function() {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (other &&\n      this._keys === other._keys &&\n      recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn$1;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge;\nRecordPrototype.mergeWith = mergeWith;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep$1;\nRecordPrototype.mergeDeepWith = mergeDeepWith$1;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn$1;\nRecordPrototype.update = update$1;\nRecordPrototype.updateIn = updateIn$1;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function() {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value)\n      ? KeyedSeq\n      : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nvar version = \"4.0.0-rc.11\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn,\n  has: has,\n  hasIn: hasIn,\n  merge: merge$1,\n  mergeDeep: mergeDeep,\n  mergeWith: mergeWith$1,\n  mergeDeepWith: mergeDeepWith,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn,\n  update: update,\n  updateIn: updateIn,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { version, Collection, Iterable, Seq, Map, OrderedMap, List, Stack, Set, OrderedSet, Record, Range, Repeat, is, fromJS, hash, isImmutable, isCollection, isKeyed, isIndexed, isAssociative, isOrdered, isValueObject, get, getIn, has, hasIn, merge$1 as merge, mergeDeep, mergeWith$1 as mergeWith, mergeDeepWith, remove, removeIn, set, setIn, update, updateIn };\n","\"use strict\"\n\nconst minimatch = require(\"minimatch\")\nconst splitRe = /([!?+*@]\\([^)]+\\)|\\*{1,2}|\\?)/\nconst endWithNegRe = /!\\([^)]+\\)$/\n\nclass Capture {\n\tconstructor(pattern, options) {\n\t\tthis.pattern = pattern\n\t\tthis.options = options || {}\n\t}\n\n\tmakeRe() {\n\t\tif (!this.regexp && this.regexp !== false) {\n\t\t\tthis.regexp = makeRe(this.pattern, this.options)\n\t\t}\n\t\treturn this.regexp\n\t}\n\n\tcapture(path) {\n\t\tlet result = false\n\t\tlet match = path.match(this.makeRe())\n\t\tif (match) {\n\t\t\tmatch = match.filter(isDef)\n\t\t\tresult = match[1] || match[0]\n\t\t\tif (!this.options.notrim && result !== \"/\") {\n\t\t\t\tresult = result.replace(/^\\/|\\/$/g, \"\")\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n}\n\nfunction split(pattern) {\n\tconst parts = pattern.split(splitRe)\n\tif (parts.length === 1) {\n\t\treturn [\"\", parts[0], \"\"]\n\t}\n\treturn [parts[0], parts.slice(1, -1).join(\"\"), parts[parts.length - 1]]\n}\n\nconst nonegate = {nonegate: true}\n\nfunction _makeRe(pattern, options) {\n\tconst flags = options && options.nocase ? \"i\" : \"\"\n\tconst subpatterns = minimatch.braceExpand(pattern, options)\n\tconst expressions = subpatterns.map(subpattern => {\n\t\tconst parts = split(subpattern)\n\t\tconst left = parts[0]\n\t\tconst middle = parts[1]\n\t\tconst right = parts[2]\n\t\tconst opts = left ? Object.assign({}, options, nonegate) : options\n\t\tconst re = minimatch.makeRe(middle, opts)\n\t\tlet capture = re.source.slice(4, -2)\n\t\tif (endWithNegRe.test(middle)) {\n\t\t\tcapture = capture.replace(/\\)\\$\\)/g,\n\t\t\t\t\"(?\" + (right.startsWith(\"/\") ? \"=\" : \"!\") + \"/)))\"\n\t\t\t)\n\t\t}\n\t\treturn regExpEscape(left) + \"(\" + capture + \")\" + regExpEscape(right)\n\t})\n\treturn new RegExp(\"^(?:\" + expressions.join(\"|\") + \")$\", flags)\n}\n\nfunction makeRe(pattern, options) {\n\ttry {\n\t\treturn _makeRe(pattern, options)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nfunction match(list, pattern, options) {\n\tconst cap = new Capture(pattern, options)\n\tconst result = []\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst path = list[i]\n\t\tconst match = cap.capture(path)\n\t\tif (match) {\n\t\t\tresult.push([path, match])\n\t\t}\n\t}\n\treturn result\n}\n\nmodule.exports = function(path, pattern, options) {\n\treturn new Capture(pattern, options).capture(path)\n}\n\nObject.assign(module.exports, {\n\tCapture,\n\tsplit,\n\tmakeRe,\n\tmatch,\n})\n\nfunction isDef(v) {\n\treturn v !== undefined\n}\n\n// private function copied from https://github.com/isaacs/minimatch\nfunction regExpEscape(s) {\n\treturn s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\")\n}\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var map = {\n\t\"./\": \"./src/commands/index.js\",\n\t\"./cat\": \"./src/commands/cat.js\",\n\t\"./cat.js\": \"./src/commands/cat.js\",\n\t\"./cd\": \"./src/commands/cd.js\",\n\t\"./cd.js\": \"./src/commands/cd.js\",\n\t\"./clear\": \"./src/commands/clear.js\",\n\t\"./clear.js\": \"./src/commands/clear.js\",\n\t\"./cp\": \"./src/commands/cp.js\",\n\t\"./cp.js\": \"./src/commands/cp.js\",\n\t\"./echo\": \"./src/commands/echo.js\",\n\t\"./echo.js\": \"./src/commands/echo.js\",\n\t\"./head\": \"./src/commands/head.js\",\n\t\"./head.js\": \"./src/commands/head.js\",\n\t\"./history\": \"./src/commands/history.js\",\n\t\"./history.js\": \"./src/commands/history.js\",\n\t\"./index\": \"./src/commands/index.js\",\n\t\"./index.js\": \"./src/commands/index.js\",\n\t\"./ls\": \"./src/commands/ls.js\",\n\t\"./ls.js\": \"./src/commands/ls.js\",\n\t\"./mkdir\": \"./src/commands/mkdir.js\",\n\t\"./mkdir.js\": \"./src/commands/mkdir.js\",\n\t\"./printenv\": \"./src/commands/printenv.js\",\n\t\"./printenv.js\": \"./src/commands/printenv.js\",\n\t\"./pwd\": \"./src/commands/pwd.js\",\n\t\"./pwd.js\": \"./src/commands/pwd.js\",\n\t\"./rm\": \"./src/commands/rm.js\",\n\t\"./rm.js\": \"./src/commands/rm.js\",\n\t\"./rmdir\": \"./src/commands/rmdir.js\",\n\t\"./rmdir.js\": \"./src/commands/rmdir.js\",\n\t\"./tail\": \"./src/commands/tail.js\",\n\t\"./tail.js\": \"./src/commands/tail.js\",\n\t\"./touch\": \"./src/commands/touch.js\",\n\t\"./touch.js\": \"./src/commands/touch.js\",\n\t\"./util/_head_tail_util\": \"./src/commands/util/_head_tail_util.js\",\n\t\"./util/_head_tail_util.js\": \"./src/commands/util/_head_tail_util.js\",\n\t\"./whoami\": \"./src/commands/whoami.js\",\n\t\"./whoami.js\": \"./src/commands/whoami.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/commands sync recursive ^\\\\.\\\\/.*$\";","/**\n * Combines one or more files to display in the terminal output\n * Usage: cat file1.txt file2.txt\n */\nimport parseOptions from 'parser/option-parser';\nimport * as FileOp from 'fs/operations-with-permissions/file-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { resolvePath } from 'emulator-state/util';\n\nconst fileToTextOutput = (fs, filePath) => {\n  const {err, file} = FileOp.readFile(fs, filePath);\n\n  if (err) {\n    return OutputFactory.makeErrorOutput(err);\n  };\n\n  return OutputFactory.makeTextOutput(file.get('content'));\n};\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {};\n  }\n\n  const filePaths = argv.map(pathArg => resolvePath(state, pathArg));\n\n  return {\n    outputs: filePaths.map(path => fileToTextOutput(state.getFileSystem(), path))\n  };\n};\n","/**\n * Changes the current working directory to another directory\n * Usage: cd /newDirectory\n */\nimport parseOptions from 'parser/option-parser';\nimport * as DirectoryOp from 'fs/operations-with-permissions/directory-operations';\nimport * as EnvVariableUtil from 'emulator-state/environment-variables';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { makeError, fsErrorType } from 'fs/fs-error';\nimport { resolvePath } from 'emulator-state/util';\n\nconst updateStateCwd = (state, newCwdPath) => {\n  return EnvVariableUtil.setEnvironmentVariable(\n    state.getEnvVariables(), 'cwd', newCwdPath\n  );\n};\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n  const newCwdPath = argv[0] ? resolvePath(state, argv[0]) : '/';\n\n  if (!DirectoryOp.hasDirectory(state.getFileSystem(), newCwdPath)) {\n    const newCwdPathDoesNotExistErr = makeError(fsErrorType.NO_SUCH_DIRECTORY);\n\n    return {\n      output: OutputFactory.makeErrorOutput(newCwdPathDoesNotExistErr)\n    };\n  }\n\n  return {\n    state: state.setEnvVariables(\n      updateStateCwd(state, newCwdPath)\n    )\n  };\n};\n","/**\n * Removes all terminal output\n * Usage: clear\n */\nimport { create as createOutputs } from 'emulator-state/outputs';\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  return {\n    state: state.setOutputs(createOutputs())\n  };\n};\n","/**\n * Copies a file/directory to another file/directory\n * Usage: cp file new-file\n */\nimport parseOptions from 'parser/option-parser';\nimport * as FileOp from 'fs/operations-with-permissions/file-operations';\nimport * as DirectoryOp from 'fs/operations-with-permissions/directory-operations';\nimport * as PathUtil from 'fs/util/path-util';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport * as FileUtil from 'fs/util/file-util';\nimport { makeError, fsErrorType } from 'fs/fs-error';\nimport { resolvePath } from 'emulator-state/util';\n\n/**\n * Copy from a source file into a directory or another file.\n *\n * A trailing slash / can be used in the destination to explicitly state the\n * destination is a directory and not a file.\n * @param  {Map}     state              emulator state\n * @param  {string}  srcPath            source file path\n * @param  {string}  destPath           destination file or destination directory path\n * @param  {Boolean} isTrailingPathDest true if the destPath ended in a /\n * @return {object}                     cp command return object\n */\nconst copySourceFile = (state, srcPath, destPath, isTrailingPathDest) => {\n  const fs = state.getFileSystem();\n\n  if (isTrailingPathDest && !DirectoryOp.hasDirectory(fs, destPath)) {\n    const dirAtTrailingPathNonExistentErr = makeError(fsErrorType.NO_SUCH_DIRECTORY);\n\n    return {\n      output: OutputFactory.makeErrorOutput(dirAtTrailingPathNonExistentErr)\n    };\n  }\n\n  const {fs: copiedFS, err} = FileOp.copyFile(fs, srcPath, destPath);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(copiedFS)\n  };\n};\n\n/**\n * Copies a directory into another directory\n *\n * When the destination path exists, cp copies the source FOLDER into the\n * destination.\n *\n * When the destination DOES NOT exist, cp copies the source FILES into the\n * destination.\n * @param  {Map}    state      emulator state\n * @param  {string} srcPath    source directory path (copy from)\n * @param  {string} destPath   destination directory path (copy to)\n * @return {object}            cp command return object\n */\nconst copySourceDirectory = (state, srcPath, destPath) => {\n  if (DirectoryOp.hasDirectory(state.getFileSystem(), destPath)) {\n    const lastPathComponent = PathUtil.getLastPathPart(srcPath);\n\n    // Remap dest to copy source FOLDER, as destination path exists\n    if (lastPathComponent !== '/') {\n      destPath = `${destPath}/${lastPathComponent}`;\n    }\n  }\n\n  // Make directory to copy into, if it doesn't already exist\n  if (!DirectoryOp.hasDirectory(state.getFileSystem(), destPath)) {\n    const emptyDir = FileUtil.makeDirectory();\n    const {fs, err} = DirectoryOp.addDirectory(state.getFileSystem(), destPath, emptyDir, false);\n\n    state = state.setFileSystem(fs);\n\n    if (err) {\n      return {\n        output: OutputFactory.makeErrorOutput(err)\n      };\n    }\n  }\n\n  const {fs, err} = DirectoryOp.copyDirectory(state.getFileSystem(), srcPath, destPath);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(fs)\n  };\n};\n\nexport const optDef = {\n  '-r, --recursive': '' // required to copy directories\n};\n\nexport default (state, commandOptions) => {\n  const {argv, options} = parseOptions(commandOptions, optDef);\n\n  if (argv.length < 2) {\n    return {};\n  }\n\n  const srcPath = resolvePath(state, argv[0]);\n  const destPath = resolvePath(state, argv[1]);\n  const isTrailingDestPath = PathUtil.isTrailingPath(argv[1]);\n\n  if (srcPath === destPath) {\n    return {\n      output: OutputFactory.makeTextOutput('Source and destination are the same (not copied).')\n    };\n  }\n\n  if (options.recursive) {\n    return copySourceDirectory(state, srcPath, destPath);\n  }\n\n  return copySourceFile(state, srcPath, destPath, isTrailingDestPath);\n};\n","/**\n * Prints arguments to text output\n * Usage: echo 'hello world'\n */\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { getEnvironmentVariable } from 'emulator-state/environment-variables';\n\nconst VARIABLE_GROUP_REGEX = /\\$(\\w+)/g;\nconst DOUBLE_SPACE_REGEX = /\\s\\s+/g;\n\nconst substituteEnvVariables = (environmentVariables, inputStr) => {\n  return inputStr.replace(VARIABLE_GROUP_REGEX, (match, varName) =>\n    getEnvironmentVariable(environmentVariables, varName) || ''\n  );\n};\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const input = commandOptions.join(' ');\n  const outputStr = substituteEnvVariables(\n    state.getEnvVariables(), input\n  );\n  const cleanStr = outputStr.trim().replace(DOUBLE_SPACE_REGEX, ' ');\n\n  return {\n    output: OutputFactory.makeTextOutput(cleanStr)\n  };\n};\n","/**\n * Prints the first n lines of a file\n * Usage: head -n 5 file.txt\n */\nimport parseOptions from 'parser/option-parser';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { trimFileContent } from 'commands/util/_head_tail_util.js';\nimport { resolvePath } from 'emulator-state/util';\n\nexport const optDef = {\n  '-n, --lines': '<count>'\n};\n\nexport default (state, commandOptions) => {\n  const {argv, options} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {};\n  }\n\n  const filePath = resolvePath(state, argv[0]);\n  const headTrimmingFn = (lines, lineCount) => lines.slice(0, lineCount);\n  const {content, err} = trimFileContent(\n    state.getFileSystem(), filePath, options, headTrimmingFn\n  );\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    output: OutputFactory.makeTextOutput(content)\n  };\n};\n","/**\n * Lists or clears commands executed in the terminal\n * Usage: history -c\n */\nimport parseOptions from 'parser/option-parser';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { create as createHistory } from 'emulator-state/history';\n\nconst clearStateHistory = (state) =>\n  state.setHistory(createHistory());\n\nconst stringifyStateHistory = (state) =>\n  state.getHistory().join('\\n');\n\nexport const optDef = {\n  '-c, --clear': '' // remove history entries\n};\n\nexport default (state, commandOptions) => {\n  const {options} = parseOptions(commandOptions, optDef);\n\n  if (options.clear) {\n    return {\n      state: clearStateHistory(state)\n    };\n  };\n\n  return {\n    output: OutputFactory.makeTextOutput(stringifyStateHistory(state))\n  };\n};\n","export const commandNames = [\n  'cat',\n  'cd',\n  'clear',\n  'cp',\n  'echo',\n  'head',\n  'history',\n  'ls',\n  'mkdir',\n  'printenv',\n  'pwd',\n  'rm',\n  'rmdir',\n  'tail',\n  'touch',\n  'whoami'\n];\n\nexport default commandNames.reduce((mapping, commandName) => {\n  return {\n    ...mapping,\n    [commandName]: {\n      function: require(`commands/${commandName}`).default,\n      optDef: require(`commands/${commandName}`).optDef\n    }\n  };\n}, {});\n","/**\n * Lists the contents of a directory\n * Usage: ls /folderName\n */\nimport parseOptions from 'parser/option-parser';\nimport * as DirectoryOp from 'fs/operations-with-permissions/directory-operations';\nimport * as EnvVariableUtil from 'emulator-state/environment-variables';\nimport * as PathUtil from 'fs/util/path-util';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { Seq } from 'immutable';\n\nconst IMPLIED_DIRECTORY_ENTRIES = Seq(['.', '..']); // . = listed folder, .. = parent folder\n\n/**\n * Finds the directory path to list entries in.\n *\n * If ls has an argument passed in (example: ls /home/user/directory-to-list),\n * use the first argument as the directory to list.\n *\n * If ls is used without any path arguments (example: ls), the cwd (current\n * working directory) should be listed by ls.\n * @param  {Map}    envVariables  environment variables\n * @param  {array}  argv          argument vector\n * @return {string}               directory path to list\n */\nconst resolveDirectoryToList = (envVariables, argv) => {\n  const cwd = EnvVariableUtil.getEnvironmentVariable(envVariables, 'cwd');\n\n  if (argv.length > 0) {\n    return PathUtil.toAbsolutePath(argv[0], cwd);\n  }\n\n  return cwd;\n};\n\n/**\n * Alphabetically sorts the ls listing for display to the user\n * @param  {array}  listing list of files/directories to present to the user\n * @return {object}         return object of ls\n */\nconst makeSortedReturn = (listing) => {\n  const sortedListing = listing.sort();\n\n  return {\n    output: OutputFactory.makeTextOutput(sortedListing.join('\\n'))\n  };\n};\n\nconst removeHiddenFilesFilter = (record) => {\n  return !record.startsWith('.');\n};\n\nexport const optDef = {\n  '-a, --all': '', // Include hidden directory entries starting with .\n  '-A, --almost-all': '' // Do not include . and .. as implied directory entries\n};\n\nexport default (state, commandOptions) => {\n  const {options, argv} = parseOptions(commandOptions, optDef);\n  const dirPath = resolveDirectoryToList(state.getEnvVariables(), argv);\n  const {err, list: dirList} = DirectoryOp.listDirectory(state.getFileSystem(), dirPath);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  if (options.all) {\n    return makeSortedReturn(IMPLIED_DIRECTORY_ENTRIES.concat(dirList));\n  } else if (options.almostAll) {\n    return makeSortedReturn(dirList);\n  }\n\n  return makeSortedReturn(dirList.filter(removeHiddenFilesFilter));\n};\n","/**\n * Creates an empty directory\n * Usage: mkdir /newDir\n */\nimport parseOptions from 'parser/option-parser';\nimport * as DirOp from 'fs/operations-with-permissions/directory-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport * as FileUtil from 'fs/util/file-util';\nimport { resolvePath } from 'emulator-state/util';\n\nconst EMPTY_DIR = FileUtil.makeDirectory();\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {}; // do nothing if no arguments are given\n  }\n\n  const newFolderPath = resolvePath(state, argv[0]);\n  const {fs, err} = DirOp.addDirectory(state.getFileSystem(), newFolderPath, EMPTY_DIR, false);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(fs)\n  };\n};\n","/**\n * Prints environment variable values\n * Usage: printenv cwd\n */\nimport parseOptions from 'parser/option-parser';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { getEnvironmentVariable } from 'emulator-state/environment-variables';\n\n// Converts all key-value pairs of the environment variables to a printable format\nconst stringifyEnvVariables = (envVariables) => {\n  const outputs = envVariables.reduce((outputs, varVal, varKey) => [\n    ...outputs, `${varKey}=${varVal}`\n  ], []);\n\n  return outputs.join('\\n');\n};\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n  const envVariables = state.getEnvVariables();\n\n  if (argv.length === 0) {\n    return {\n      output: OutputFactory.makeTextOutput(stringifyEnvVariables(envVariables))\n    };\n  }\n\n  // An argument has been passed to printenv; printenv will only print the first\n  // argument provided\n  const varValue = getEnvironmentVariable(envVariables, argv[0]);\n\n  if (varValue) {\n    return {\n      output: OutputFactory.makeTextOutput(varValue)\n    };\n  }\n\n  return {};\n};\n","/**\n * Prints out the current working directory (cwd).\n * Usage: pwd\n */\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { getEnvironmentVariable } from 'emulator-state/environment-variables';\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  return {\n    output: OutputFactory.makeTextOutput(\n      getEnvironmentVariable(state.getEnvVariables(), 'cwd')\n    )\n  };\n};\n","/**\n * Removes a directory or a file\n * Usage: rm /existingDir\n */\nimport parseOptions from 'parser/option-parser';\nimport * as FileOp from 'fs/operations-with-permissions/file-operations';\nimport * as DirOp from 'fs/operations-with-permissions/directory-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { resolvePath } from 'emulator-state/util';\nimport { makeError, fsErrorType } from 'fs/fs-error';\n\nexport const optDef = {\n  '--no-preserve-root, --noPreserveRoot': '',\n  '-r, --recursive': ''\n};\n\nconst makeNoPathErrorOutput = () => {\n  const noSuchFileOrDirError = makeError(fsErrorType.NO_SUCH_FILE_OR_DIRECTORY);\n\n  return {\n    output: OutputFactory.makeErrorOutput(noSuchFileOrDirError)\n  };\n};\n\nexport default (state, commandOptions) => {\n  const {argv, options} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {}; // do nothing if no arguments are given\n  }\n\n  const deletionPath = resolvePath(state, argv[0]);\n  const fs = state.getFileSystem();\n\n  if (deletionPath === '/' && options.noPreserveRoot !== true) {\n    return {}; // do nothing as cannot safely delete the root\n  }\n\n  if (!fs.has(deletionPath)) {\n    return makeNoPathErrorOutput();\n  }\n\n  const {fs: deletedPathFS, err} = options.recursive === true ?\n    DirOp.deleteDirectory(fs, deletionPath, true) :\n    FileOp.deleteFile(fs, deletionPath);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(deletedPathFS)\n  };\n};\n","/**\n * Removes an empty directory\n * Usage: rmdir /emptyDir\n */\nimport parseOptions from 'parser/option-parser';\nimport * as DirOp from 'fs/operations-with-permissions/directory-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { resolvePath } from 'emulator-state/util';\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {}; // do nothing if no arguments are given\n  }\n\n  const pathToDelete = resolvePath(state, argv[0]);\n  const {fs, err} = DirOp.deleteDirectory(state.getFileSystem(), pathToDelete, false);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(fs)\n  };\n};\n","/**\n * Prints the last n lines of a file\n * Usage: tail -n 5 file.txt\n */\nimport parseOptions from 'parser/option-parser';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { trimFileContent } from 'commands/util/_head_tail_util.js';\nimport { resolvePath } from 'emulator-state/util';\n\nexport const optDef = {\n  '-n, --lines': '<count>'\n};\n\nexport default (state, commandOptions) => {\n  const {argv, options} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {};\n  }\n\n  const filePath = resolvePath(state, argv[0]);\n  const tailTrimmingFn = (lines, lineCount) => lines.slice(-1 * lineCount);\n  const {content, err} = trimFileContent(\n    state.getFileSystem(), filePath, options, tailTrimmingFn\n  );\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    output: OutputFactory.makeTextOutput(content)\n  };\n};\n","/**\n * Creates an empty file.\n * Usage: touch new_file.txt\n */\nimport parseOptions from 'parser/option-parser';\nimport * as FileOp from 'fs/operations-with-permissions/file-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport * as FileUtil from 'fs/util/file-util';\nimport { resolvePath } from 'emulator-state/util';\n\nconst EMPTY_FILE = FileUtil.makeFile();\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  const {argv} = parseOptions(commandOptions, optDef);\n\n  if (argv.length === 0) {\n    return {}; // do nothing if no arguments are given\n  }\n\n  const filePath = resolvePath(state, argv[0]);\n\n  if (state.getFileSystem().has(filePath)) {\n    return {}; // do nothing if already has a file at the provided path\n  }\n\n  const {fs, err} = FileOp.writeFile(state.getFileSystem(), filePath, EMPTY_FILE);\n\n  if (err) {\n    return {\n      output: OutputFactory.makeErrorOutput(err)\n    };\n  }\n\n  return {\n    state: state.setFileSystem(fs)\n  };\n};\n","import * as FileOp from 'fs/operations-with-permissions/file-operations';\nimport * as OutputFactory from 'emulator-output/output-factory';\n\nconst DEFAULT_LINE_COUNT = 10;\n\nexport const trimFileContent = (fs, filePath, options, trimmingFn) => {\n  const {file, err} = FileOp.readFile(fs, filePath);\n\n  if (err) {\n    return {\n      err: OutputFactory.makeErrorOutput(err)\n    };\n  };\n\n  const linesCount = options.lines ? Number(options.lines) : DEFAULT_LINE_COUNT;\n  const trimmedLines = trimmingFn(file.get('content').split('\\n'), linesCount);\n\n  return {\n    content: trimmedLines.join('\\n')\n  };\n};\n","/**\n * Prints the username of the logged in user\n * Usage: whoami\n */\nimport * as OutputFactory from 'emulator-output/output-factory';\nimport { getEnvironmentVariable } from 'emulator-state/environment-variables';\n\nconst FALLBACK_USERNAME = 'root';\n\nexport const optDef = {};\n\nexport default (state, commandOptions) => {\n  return {\n    output: OutputFactory.makeTextOutput(\n      getEnvironmentVariable(state.getEnvVariables(), 'user') || FALLBACK_USERNAME\n    )\n  };\n};\n","import * as OutputFactory from 'emulator-output/output-factory';\nimport * as OutputType from 'emulator-output/output-type';\n\nexport default {\n  OutputFactory, OutputType\n};\n","import { Record } from 'immutable';\nimport { HEADER_OUTPUT_TYPE, TEXT_OUTPUT_TYPE, TEXT_ERROR_OUTPUT_TYPE } from 'emulator-output/output-type';\n\n/**\n * Output from a command or emulator used for display to the user\n * @type {OutputRecord}\n */\nexport const OutputRecord = Record({\n  type: undefined,\n  content: undefined\n});\n\n/**\n * A terminal header containing metadata\n * @param  {string} cwd   the current working directory path\n * @return {OutputRecord} output record\n */\nexport const makeHeaderOutput = (cwd, command) => {\n  return new OutputRecord({\n    type: HEADER_OUTPUT_TYPE,\n    content: { cwd, command }\n  });\n};\n\n/**\n * Unstyled text output\n * @param  {string} content plain string output from a command or the emulator\n * @return {OutputRecord}   output record\n */\nexport const makeTextOutput = (content) => {\n  return new OutputRecord({\n    type: TEXT_OUTPUT_TYPE,\n    content\n  });\n};\n\n/**\n * Error text output\n * @param  {object} err internal error object\n * @return {OutputRecord}   output record\n */\nexport const makeErrorOutput = (err) => {\n  return new OutputRecord({\n    type: TEXT_ERROR_OUTPUT_TYPE,\n    content: `${err.source}: ${err.type}`\n  });\n};\n","/**\n * Types of output which can be used to display content to the user\n * @type {String}\n */\nexport const TEXT_OUTPUT_TYPE = 'TEXT_OUTPUT';\nexport const TEXT_ERROR_OUTPUT_TYPE = 'TEXT_ERROR_OUTPUT';\nexport const HEADER_OUTPUT_TYPE = 'HEADER_OUTPUT_TYPE';\n","import { Map } from 'immutable';\nimport { create as createCommandMapping } from 'emulator-state/command-mapping';\nimport { create as createEnvironmentVariables } from 'emulator-state/environment-variables';\nimport { create as createFileSystem } from 'emulator-state/file-system';\nimport { create as createHistory } from 'emulator-state/history';\nimport { create as createOutputs } from 'emulator-state/outputs';\n\nconst FS_KEY = 'fs';\nconst ENVIRONMENT_VARIABLES_KEY = 'environmentVariables';\nconst HISTORY_KEY = 'history';\nconst OUTPUTS_KEY = 'outputs';\nconst COMMAND_MAPPING_KEY = 'commandMapping';\n\nexport default class EmulatorState {\n  constructor(immutable) {\n    if (!immutable || !(immutable instanceof Map)) {\n      throw new Error('Do not use the constructor directly. Use the static create method.');\n    }\n\n    this._immutable = immutable;\n  }\n\n  /**\n   * Creates emulator state with defaults\n   * @return {EmulatorState} default emulator state\n   */\n  static createEmpty() {\n    return EmulatorState.create({});\n  }\n\n  /**\n   * Creates emulator state using the user's state components, or a default\n   * fallback if none is provided\n   * @param  {object} optionally contains each component as a key and the component as a value\n   * @return {EmulatorState}     emulator state\n   */\n  static create({\n    fs = createFileSystem(),\n    environmentVariables = createEnvironmentVariables(),\n    history = createHistory(),\n    outputs = createOutputs(),\n    commandMapping = createCommandMapping()\n  }) {\n    const stateMap = new Map({\n      [FS_KEY]: fs,\n      [ENVIRONMENT_VARIABLES_KEY]: environmentVariables,\n      [HISTORY_KEY]: history,\n      [OUTPUTS_KEY]: outputs,\n      [COMMAND_MAPPING_KEY]: commandMapping\n    });\n\n    return new EmulatorState(stateMap);\n  }\n\n  getFileSystem() {\n    return this.getImmutable().get(FS_KEY);\n  }\n\n  setFileSystem(newFileSystem) {\n    return new EmulatorState(\n      this.getImmutable().set(FS_KEY, newFileSystem)\n    );\n  }\n\n  getEnvVariables() {\n    return this.getImmutable().get(ENVIRONMENT_VARIABLES_KEY);\n  }\n\n  setEnvVariables(newEnvVariables) {\n    return new EmulatorState(\n      this.getImmutable().set(ENVIRONMENT_VARIABLES_KEY, newEnvVariables)\n    );\n  }\n\n  getHistory() {\n    return this.getImmutable().get(HISTORY_KEY);\n  }\n\n  setHistory(newHistory) {\n    return new EmulatorState(\n      this.getImmutable().set(HISTORY_KEY, newHistory)\n    );\n  }\n\n  getOutputs() {\n    return this.getImmutable().get(OUTPUTS_KEY);\n  }\n\n  setOutputs(newOutputs) {\n    return new EmulatorState(\n      this.getImmutable().set(OUTPUTS_KEY, newOutputs)\n    );\n  }\n\n  getCommandMapping() {\n    return this.getImmutable().get(COMMAND_MAPPING_KEY);\n  }\n\n  setCommandMapping(newCommandMapping) {\n    return new EmulatorState(\n      this.getImmutable().set(COMMAND_MAPPING_KEY, newCommandMapping)\n    );\n  }\n\n  getImmutable() {\n    return this._immutable;\n  }\n\n  toJS() {\n    return this._immutable.toJS();\n  }\n}\n","import { fromJS } from 'immutable';\nimport defaultCommandMapping from 'commands';\n\n/**\n * Links a command name to a function\n * @param  {Object} [commandMapping={}] default command map\n * @return {Map}                        command mapping\n */\nexport const create = (commandMapping = defaultCommandMapping) => {\n  for (const commandName of Object.keys(commandMapping)) {\n    const command = commandMapping[commandName];\n\n    if (!command.hasOwnProperty('function')) {\n      throw new Error(`Failed to create command mapping: missing command function for ${commandName}`);\n    }\n\n    if (!command.hasOwnProperty('optDef')) {\n      throw new Error(`Failed to create command mapping: missing option definition (optDef) for ${commandName}`);\n    }\n  }\n\n  return fromJS(commandMapping);\n};\n\n/**\n * Checks if a comand has been defined with a function in the command mapping\n * @param  {Map}     commandMapping command mapping\n * @param  {string}  commandName    command name to check if available\n * @return {Boolean}                true, if the command is available\n */\nexport const isCommandSet = (commandMapping, commandName) => {\n  return commandMapping.has(commandName);\n};\n\n/**\n * Set a command function with a key of the command name into the command mapping\n * @param  {Map}      commandMapping command mapping\n * @param  {string}   commandName    name of the function\n * @param  {function} commandFn      command function\n * @param  {object}   optDef         option definition (optional)\n * @return {Map}                     command mapping\n */\nexport const setCommand = (commandMapping, commandName, commandFn, optDef) => {\n  if (commandFn === undefined) {\n    throw new Error(`Cannot set ${commandName} command without function`);\n  }\n\n  if (optDef === undefined) {\n    throw new Error(`Cannot set ${commandName} command without optDef (pass in {} if the command takes no options)`);\n  }\n\n  return commandMapping.set(commandName, fromJS({\n    'function': commandFn,\n    'optDef': optDef\n  }));\n};\n\n/**\n * Removes a command name and its function from a command mapping\n * @param  {Map}    commandMapping command mapping\n * @param  {string} commandName    name of command to remove\n * @return {Map}                   command mapping\n */\nexport const unsetCommand = (commandMapping, commandName) => {\n  return commandMapping.delete(commandName);\n};\n\n/**\n * Gets the function of a command based on its command name (the key) from the\n * command mapping\n * @param  {Map}      commandMapping command mapping\n * @param  {string}   commandName    name of command\n * @return {function}                command function\n */\nexport const getCommandFn = (commandMapping, commandName) => {\n  if (commandMapping.has(commandName)) {\n    return commandMapping.get(commandName).get('function');\n  }\n\n  return undefined;\n};\n\n/**\n * Gets the option definition of a command based on its command name\n * @param  {Map}      commandMapping command mapping\n * @param  {string}   commandName    name of command\n * @return {Map}                     option definition\n */\nexport const getCommandOptDef = (commandMapping, commandName) => {\n  if (commandMapping.has(commandName)) {\n    return commandMapping.get(commandName).get('optDef');\n  }\n\n  return undefined;\n};\n\n/**\n * Gets command names\n * @param  {Map}      commandMapping command mapping\n * @return {Seq}                     sequence of command names\n */\nexport const getCommandNames = (commandMapping) => {\n  return commandMapping.keySeq();\n};\n","import { Map } from 'immutable';\n\n/**\n * Environment variable mapping containing arbitary data accessed by any\n * command or the emulator as a key-value pair\n * @param  {Object} [defaultVariables={}] default environment variables\n * @return {Map}                          environment variables\n */\nexport const create = (defaultVariables = {}, cwd = '/') => {\n  if (!cwd && !defaultVariables.hasOwnProperty('cwd')) {\n    throw new Error(\n      \"Failed to create environment variables. Missing 'cwd' (current working directory).\"\n    );\n  }\n\n  return Map({\n    'cwd': cwd, // cwd can be undefined as it can be set in defaultVariables\n    ...defaultVariables\n  });\n};\n\n/**\n * Gets the value of an environment variable\n * @param  {Map} environmentVariables environment variables\n * @param  {string} key               name of the environment variable\n * @return {T}                        the value stored in the environment variable\n */\nexport const getEnvironmentVariable = (environmentVariables, key) => {\n  return environmentVariables.get(key);\n};\n\n/**\n * Sets the value of an environment variable\n * @param {Map} environmentVariables environment variables\n * @param {string} key               name of the environment variable\n * @param {T} val                    value to store in the environment variable\n * @return {Map}                     environment variables\n */\nexport const setEnvironmentVariable = (environmentVariables, key, val) => {\n  return environmentVariables.set(key, val);\n};\n\n/**\n * Removes an environment variable\n * @param {Map} environmentVariables environment variables\n * @param {string} key               name of the environment variable\n * @return {Map}                     environment variables\n */\nexport const unsetEnvironmentVariable = (environmentVariables, key) => {\n  return environmentVariables.delete(key);\n};\n","import * as FileUtil from 'fs/util/file-util';\nimport * as DirOp from 'fs/operations/directory-operations';\nimport { fromJS } from 'immutable';\n\nconst DEFAULT_FILE_SYSTEM = {\n  '/': FileUtil.makeDirectory()\n};\n\n/**\n * Creates an immutable data structure for a file system\n * @param  {object} jsFs a file system in a simple JavaScript object\n * @return {Map}         an immutable file system\n */\nexport const create = (jsFs = DEFAULT_FILE_SYSTEM) => {\n  return DirOp.fillGaps(fromJS(jsFs));\n};\n","import { Stack } from 'immutable';\n\n/**\n * Creates a new history stack of previous commands that have been run in the\n * emulator\n * @param  {array}  [entries=[]] commands which have already been run (if any)\n * @return {Stack}               history list\n */\nexport const create = (entries = []) => {\n  return Stack.of(...entries);\n};\n\n/**\n * Stores a command in history in a stack (i.e., the latest command is on top of\n * the history stack)\n * @param  {Stack} history     history\n * @param  {string} commandRun the command to store\n * @return {Stack}             history\n */\nexport const recordCommand = (history, commandRun) => {\n  return history.push(commandRun);\n};\n","import * as CommandMapping from 'emulator-state/command-mapping';\nimport * as EnvironmentVariables from 'emulator-state/environment-variables';\nimport * as FileSystem from 'emulator-state/file-system';\nimport * as History from 'emulator-state/history';\nimport * as Outputs from 'emulator-state/outputs';\nimport EmulatorState from 'emulator-state/EmulatorState';\n\nexport default {\n  EmulatorState,\n  CommandMapping,\n  EnvironmentVariables,\n  FileSystem,\n  History,\n  Outputs\n};\n","import { List } from 'immutable';\nimport { Record } from 'immutable';\n\n/**\n * Stores outputs from the emulator (e.g. text to display after running a command)\n * @param  {Array}  [outputs=[]] Previous outputs\n * @return {List}               List of outputs objects\n */\nexport const create = (outputs = []) => {\n  return List(outputs);\n};\n\n/**\n * Adds a new output record\n * @param {List}         outputs      outputs list\n * @param {OutputRecord} outputRecord record conforming to output schema\n */\nexport const addRecord = (outputs, outputRecord) => {\n  if (!Record.isRecord(outputRecord)) {\n    throw new Error('Only records of type OutputRecord can be added to outputs');\n  }\n\n  if (!outputRecord.has('type')) {\n    throw new Error('Output record must include a type');\n  }\n\n  if (!outputRecord.has('content')) {\n    throw new Error('Output record must include content');\n  }\n\n  return outputs.push(outputRecord);\n};\n","import * as EnvVariableUtil from 'emulator-state/environment-variables';\nimport * as PathUtil from 'fs/util/path-util';\n\n/**\n * Converts a given path to an absolute path using the\n * current working directory\n * @param  {EmulatorState} state emulator state\n * @param  {string} path         path (relative or absolute)\n * @return {string}              absolute path\n */\nexport const resolvePath = (state, path) => {\n  const cwd = EnvVariableUtil.getEnvironmentVariable(\n    state.getEnvVariables(), 'cwd'\n  );\n\n  return PathUtil.toAbsolutePath(path, cwd);\n};\n","import * as PathUtil from 'fs/util/path-util';\nimport * as GlobUtil from 'fs/util/glob-util';\nimport { isCommandSet, getCommandNames, getCommandOptDef } from 'emulator-state/command-mapping';\n\n/**\n * Suggest command names\n * @param  {Map}    cmdMapping     command mapping\n * @param  {string} partialStr     partial user input of a command\n * @return {array}                 list of possible text suggestions\n */\nexport const suggestCommands = (cmdMapping, partialStr) => {\n  const commandNameSeq = getCommandNames(cmdMapping);\n\n  return [...GlobUtil.globSeq(commandNameSeq, `${partialStr}*`)];\n};\n\n/**\n * Suggest command options\n * @param  {Map}    cmdMapping     command mapping\n * @param  {string} commandName    name of the command user is running\n * @param  {string} partialStr     partial user input of a command (excluding the command name)\n * @return {array}                 list of possible text suggestions\n */\nexport const suggestCommandOptions = (cmdMapping, commandName, partialStr) => {\n  if (!isCommandSet(cmdMapping, commandName)) {\n    return [];\n  }\n\n  const optDefSeq = getCommandOptDef(cmdMapping, commandName)\n    .keySeq()\n    .flatMap(opts =>\n      opts.split(',').map(opt => opt.trim())\n    );\n\n  return [...GlobUtil.globSeq(optDefSeq, `${partialStr}*`)];\n};\n\n/**\n * Suggest file and folder names from partially completed user input\n * @param  {Map}    fileSystem file system\n * @param  {string} cwd        current working directory\n * @param  {string} partialStr partial string to base suggestions on (excluding the command name)\n * @return {array}             list of possible text suggestions\n */\nexport const suggestFileSystemNames = (fileSystem, cwd, partialStr) => {\n  const path = PathUtil.toAbsolutePath(partialStr, cwd);\n\n  // complete name of a folder or file\n  const completeNamePattern = `${path}*`;\n  // complete child folder name\n  const completeSubfolderPattern = path === '/' ? '/*' : `${path}*/*`;\n  // only complete child folders when the path ends with / (which marks a directory path)\n  const globPattern = partialStr.endsWith('/') ? completeSubfolderPattern : completeNamePattern;\n\n  const childPaths = GlobUtil.globPaths(fileSystem, globPattern);\n\n  if (PathUtil.isAbsPath(partialStr)) {\n    return [...childPaths]; // absolute paths\n  }\n\n  return [...childPaths.map(path => {\n    const pathPartsWithoutTail = PathUtil.toPathParts(partialStr).slice(0, -1);\n    const newTail = PathUtil.getLastPathPart(path);\n\n    return PathUtil.toPath(pathPartsWithoutTail.concat(newTail));\n  })]; // relative paths\n};\n","import { makeError, emulatorErrorType } from 'emulator/emulator-error';\nimport { makeErrorOutput } from 'emulator-output/output-factory';\nimport * as CommandMappingUtil from 'emulator-state/command-mapping';\n\n/**\n * Makes an internal emulator error for emulator output. Error output may be\n * visible to the user.\n * @param  {string} errorType type of emulator error\n * @return {object}           error output object\n */\nexport const makeRunnerErrorOutput = (errorType) => {\n  return makeErrorOutput(makeError(errorType));\n};\n\n/**\n * Runs a command and returns an object containing either:\n * - outputs from running the command, or\n * - new emulator state after running the command, or\n * - new emulator state and output after running the command\n *\n * The form of the object from this function is as follows:\n * {\n *   outputs: [optional array of output records]\n *   output: [optional single output record]\n *   state: [optional Map]\n * }\n * @param  {Map}    commandMapping command mapping from emulator state\n * @param  {string} commandName    name of command to run\n * @param  {array}  commandArgs    commands to provide to the command function\n * @param  {string}  errorStr      a default string to be displayed if no command is found\n * @return {object}                outputs and/or new state of the emulator\n */\nexport const run = (commandMapping, commandName, commandArgs, errorStr=emulatorErrorType.COMMAND_NOT_FOUND) => {\n\n  const notFoundCallback = () => ({\n    output: makeRunnerErrorOutput(errorStr)\n  })\n\n  if (!CommandMappingUtil.isCommandSet(commandMapping, commandName)) {\n    return notFoundCallback(...commandArgs);\n  }\n\n  const command = CommandMappingUtil.getCommandFn(commandMapping, commandName);\n\n  try {\n    return command(...commandArgs); // run extracted command from the mapping\n  } catch (fatalCommandError) {\n    return {\n      output: makeRunnerErrorOutput(emulatorErrorType.UNEXPECTED_COMMAND_FAILURE)\n    };\n  }\n};\n","/**\n * Emulator error type\n * @type {Object}\n */\nexport const emulatorErrorType = {\n  COMMAND_NOT_FOUND: 'Command not found',\n  UNEXPECTED_COMMAND_FAILURE: 'Unhandled command error'\n};\n\n/**\n * Creates an error to display to the user originating from the emulator\n * @param  {string} emulatorErrorType  file system error type\n * @param  {string} [message='']       optional metadata for developers about the error\n * @return {object}                    internal error object\n */\nexport const makeError = (emulatorErrorType, message = '') => {\n  return {\n    source: 'emulator',\n    type: emulatorErrorType,\n    message\n  };\n};\n","import * as CommandRunner from 'emulator/command-runner';\nimport parseCommands from 'parser/command-parser';\nimport { makeHeaderOutput, makeTextOutput } from 'emulator-output/output-factory';\nimport { recordCommand } from 'emulator-state/history';\nimport { getEnvironmentVariable } from 'emulator-state/environment-variables';\nimport { suggestCommands, suggestCommandOptions, suggestFileSystemNames } from 'emulator/auto-complete';\nimport { List } from 'immutable';\n\nexport default class Emulator {\n  /**\n   * Completes user input if there is one, and only one, suggestion.\n   *\n   * If there are no suggestions or more than one suggestion, the original\n   * user input will be returned.\n   * @param  {EmulatorState} state      emulator state\n   * @param  {string}        partialStr partial user input to the emulator\n   * @return {string}                   completed user input when one suggest (or, otherwsie, the original input)\n   */\n  autocomplete(state, partialStr) {\n    const suggestions = this.suggest(state, partialStr);\n\n    if (suggestions.length !== 1) {\n      return partialStr;\n    }\n\n    const strParts = new List(partialStr.split(' '));\n    const autocompletedText = suggestions[0];\n\n    return strParts\n      .update(-1, lastVal => autocompletedText)\n      .join(' ');\n  };\n\n  /**\n   * Suggest what the user will type next\n   * @param  {EmulatorState} state      emulator state\n   * @param  {string}        partialStr partial user input of a command\n   * @return {array}                    list of possible text suggestions\n   */\n  suggest(state, partialStr) {\n    partialStr = this._trimLeadingSpace(partialStr);\n\n    const lastPartialChar = partialStr.slice(-1);\n    const isTypingNewPart = lastPartialChar === ' ';\n\n    const strParts = partialStr.trim().split(' ');\n    const {start: cmdName, end: lastTextEntered} = this._getBoundaryWords(strParts);\n\n    if (!isTypingNewPart && strParts.length === 1) {\n      return suggestCommands(state.getCommandMapping(), cmdName);\n    }\n\n    const strToComplete = isTypingNewPart ? '' : lastTextEntered;\n    const cwd = getEnvironmentVariable(state.getEnvVariables(), 'cwd');\n\n    return [\n      ...suggestCommandOptions(state.getCommandMapping(), cmdName, strToComplete),\n      ...suggestFileSystemNames(state.getFileSystem(), cwd, strToComplete)\n    ];\n  };\n\n  _trimLeadingSpace(str) {\n    return str.replace(/^\\s+/g, '');\n  };\n\n  _getBoundaryWords(strParts) {\n    return {\n      start: strParts[0],\n      end: strParts[strParts.length - 1]\n    };\n  };\n\n  /**\n   * Runs emulator command\n   * @param  {EmulatorState}  state                   emulator state before running command\n   * @param  {string}         str                     command string to execute\n   * @param  {Array}          [executionListeners=[]] list of plugins to notify while running the command\n   * @param  {string}         errorStr                string to display on unrecognized command\n   * @return {EmulatorState}                          updated emulator state after running command\n   */\n  execute(state, str, executionListeners = [], errorStr) {\n    for (const executionListener of executionListeners) {\n      executionListener.onExecuteStarted(state, str);\n    }\n\n    state = this._addHeaderOutput(state, str);\n\n    if (str.trim() === '') {\n      // empty command string\n      state = this._addCommandOutputs(state, [makeTextOutput('')]);\n    } else {\n      state = this._addCommandToHistory(state, str);\n      state = this._updateStateByExecution(state, str, errorStr);\n    }\n\n    for (const executionListener of executionListeners) {\n      executionListener.onExecuteCompleted(state);\n    }\n\n    return state;\n  };\n\n  _updateStateByExecution(state, commandStrToExecute, errorStr) {\n    for (const {commandName, commandOptions} of parseCommands(commandStrToExecute)) {\n      const commandMapping = state.getCommandMapping();\n      const commandArgs = [state, commandOptions];\n\n      const {state: nextState, output, outputs} = CommandRunner.run(\n        commandMapping, commandName, commandArgs, errorStr\n      );\n\n      if (nextState) {\n        state = nextState;\n      }\n\n      if (output) {\n        state = this._addCommandOutputs(state, [output]);\n      } else if (outputs) {\n        state = this._addCommandOutputs(state, outputs);\n      }\n    }\n\n    return state;\n  }\n\n  _addCommandToHistory(state, command) {\n    const history = state.getHistory();\n\n    return state.setHistory(recordCommand(history, command));\n  }\n\n  _addHeaderOutput(state, commandStr) {\n    const envVariables = state.getEnvVariables();\n    const cwd = getEnvironmentVariable(envVariables, 'cwd');\n\n    return this._addCommandOutputs(state, [makeHeaderOutput(cwd, commandStr)]);\n  }\n\n  /**\n   * Appends outputs to the internal state of outputs\n   * @param {List} outputs list of outputs\n   */\n  _addCommandOutputs(state, outputs) {\n    for (const output of outputs) {\n      const outputs = state.getOutputs();\n\n      state = state.setOutputs(outputs.push(output));\n    }\n\n    return state;\n  }\n}\n","/**\n * Makes a stack iterator for a point in history.\n *\n * Can go backwards and forwards through the history and is bounded by\n * the size of the stack.\n */\nexport default class BoundedHistoryIterator {\n  constructor(historyStack, index = 0) {\n    this.historyStack = historyStack.push('');\n    this.index = index;\n  }\n\n  hasUp() {\n    return this.index + 1 < this.historyStack.size;\n  }\n\n  up() {\n    if (this.hasUp()) {\n      this.index++;\n    }\n\n    return this.historyStack.get(this.index);\n  }\n\n  hasDown() {\n    return this.index - 1 >= 0;\n  }\n\n  down() {\n    if (this.hasDown()) {\n      this.index--;\n    }\n\n    return this.historyStack.get(this.index);\n  }\n};\n","import BoundedHistoryIterator from 'emulator/plugins/BoundedHistoryIterator';\n\nexport default class HistoryKeyboardPlugin {\n  constructor(state) {\n    this._nullableHistoryIterator = null;\n    this.historyStack = state.getHistory();\n  }\n\n  // Plugin contract\n  onExecuteStarted(state, str) {\n    // no-op\n  }\n\n  // Plugin contract\n  onExecuteCompleted(state) {\n    this._nullableHistoryIterator = null;\n    this.historyStack = state.getHistory();\n  }\n\n  // Plugin API\n  completeUp() {\n    this.createHistoryIteratorIfNull();\n\n    return this._nullableHistoryIterator.up();\n  }\n\n  completeDown() {\n    this.createHistoryIteratorIfNull();\n\n    return this._nullableHistoryIterator.down();\n  }\n\n  // Private methods\n  createHistoryIteratorIfNull() {\n    if (!this._nullableHistoryIterator) {\n      this._nullableHistoryIterator = new BoundedHistoryIterator(\n        this.historyStack\n      );\n    }\n  }\n}\n","/**\n * File system error types\n * @type {Object}\n */\nexport const fsErrorType = {\n  FILE_EXISTS: 'File exists',\n  DIRECTORY_EXISTS: 'Directory exists',\n  DIRECTORY_NOT_EMPTY: 'Directory not empty',\n  NO_SUCH_FILE_OR_DIRECTORY: 'No such file or directory',\n  NO_SUCH_FILE: 'No such file',\n  NO_SUCH_DIRECTORY: 'No such directory',\n  FILE_OR_DIRECTORY_EXISTS: 'File or directory exists',\n  IS_A_DIRECTORY: 'Is a directory',\n  NOT_A_DIRECTORY: 'Not a directory',\n  PERMISSION_DENIED: 'Permission denied',\n  OTHER: 'Other'\n};\n\n/**\n * Create a non-fatal file system error object\n *\n * For fatal errors do not use this. Throw an error instead.\n * @param  {string} fsErrorType  file system error type\n * @param  {string} [message=''] optional metadata for developers about the error\n * @return {object}              internal error object\n */\nexport const makeError = (fsErrorType, message = '') => {\n  return {\n    source: 'fs',\n    type: fsErrorType,\n    message\n  };\n};\n","import * as DirOp from './operations-with-permissions/directory-operations';\nimport * as FileOp from './operations-with-permissions/file-operations';\n\nexport default {\n  DirOp,\n  FileOp\n};\n","/**\n * Adds modification permissions to directory operations by wrapping\n * directory operations\n */\nimport * as DirectoryOperations from 'fs/operations/directory-operations';\nimport * as PermissionUtil from 'fs/util/permission-util';\nimport { makeError, fsErrorType } from 'fs/fs-error';\n\nconst makeDirectoryOperationPermissionError = (message = 'Cannot modify directory') => {\n  return {\n    err: makeError(fsErrorType.PERMISSION_DENIED, message)\n  };\n};\n\nexport const hasDirectory = (...args) => {\n  return DirectoryOperations.hasDirectory(...args);\n};\n\nexport const listDirectory = (...args) => {\n  return DirectoryOperations.listDirectory(...args);\n};\n\nexport const listDirectoryFiles = (...args) => {\n  return DirectoryOperations.listDirectoryFiles(...args);\n};\n\nexport const listDirectoryFolders = (...args) => {\n  return DirectoryOperations.listDirectoryFolders(...args);\n};\n\nexport const addDirectory = (fs, path, ...args) => {\n  if (!PermissionUtil.canModifyPath(fs, path)) {\n    return makeDirectoryOperationPermissionError();\n  }\n\n  return DirectoryOperations.addDirectory(fs, path, ...args);\n};\n\nexport const copyDirectory = (fs, srcPath, destPath, ...args) => {\n  if (!PermissionUtil.canModifyPath(fs, srcPath)) {\n    return makeDirectoryOperationPermissionError('Cannot modify source directory');\n  }\n\n  if (!PermissionUtil.canModifyPath(fs, destPath)) {\n    return makeDirectoryOperationPermissionError('Cannot modify dest directory');\n  }\n\n  return DirectoryOperations.copyDirectory(fs, srcPath, destPath, ...args);\n};\n\nexport const deleteDirectory = (fs, path, ...args) => {\n  if (!PermissionUtil.canModifyPath(fs, path)) {\n    return makeDirectoryOperationPermissionError();\n  }\n\n  return DirectoryOperations.deleteDirectory(fs, path, ...args);\n};\n\nexport const renameDirectory = (fs, currentPath, newPath) => {\n  if (!PermissionUtil.canModifyPath(fs, currentPath)) {\n    return makeDirectoryOperationPermissionError('Cannot modify current path');\n  }\n\n  if (!PermissionUtil.canModifyPath(fs, newPath)) {\n    return makeDirectoryOperationPermissionError('Cannot modify renamed path');\n  }\n\n  return DirectoryOperations.renameDirectory(fs, currentPath, newPath);\n};\n","/**\n * Adds modification permissions to file operations by wrapping\n * file operations\n */\nimport * as PermissionUtil from 'fs/util/permission-util';\nimport * as FileOperations from 'fs/operations/file-operations';\nimport { makeError, fsErrorType } from 'fs/fs-error';\n\nconst makeFileOperationPermissionError = (message = 'Cannot modify file') => {\n  return {\n    err: makeError(fsErrorType.PERMISSION_DENIED, message)\n  };\n};\n\nexport const hasFile = (...args) => {\n  return FileOperations.hasFile(...args);\n};\n\nexport const readFile = (...args) => {\n  return FileOperations.readFile(...args);\n};\n\nexport const writeFile = (fs, filePath, ...args) => {\n  if (!PermissionUtil.canModifyPath(fs, filePath)) {\n    return makeFileOperationPermissionError();\n  }\n\n  return FileOperations.writeFile(fs, filePath, ...args);\n};\n\nexport const copyFile = (fs, sourcePath, destPath) => {\n  if (!PermissionUtil.canModifyPath(fs, sourcePath)) {\n    return makeFileOperationPermissionError('Cannot modify source file');\n  }\n\n  if (!PermissionUtil.canModifyPath(fs, destPath)) {\n    return makeFileOperationPermissionError('Cannot modify destination file');\n  }\n\n  return FileOperations.copyFile(fs, sourcePath, destPath);\n};\n\nexport const deleteFile = (fs, filePath) => {\n  if (!PermissionUtil.canModifyPath(fs, filePath)) {\n    return makeFileOperationPermissionError();\n  }\n\n  return FileOperations.deleteFile(fs, filePath);\n};\n","import * as GlobUtil from 'fs/util/glob-util';\nimport * as DirOp from 'fs/operations/directory-operations';\nimport * as FileOp from 'fs/operations/file-operations';\nimport * as PathUtil from 'fs/util/path-util';\nimport { makeError, fsErrorType } from 'fs/fs-error';\n\n/**\n * Adds a file or directory to a path\n * @param {Map}     fs                     file system\n * @param {string}  pathToAdd              path to add the file or directory to\n * @param {string}  fsElementToAdd         file or directory map\n * @param {Boolean} [addParentPaths=false] true, if path parent directories should\n *                                         be made (if they don't exist)\n * @return {object}                        file system or error\n */\nexport const add = (fs, pathToAdd, fsElementToAdd, addParentPaths = false) => {\n  if (fs.has(pathToAdd)) {\n    return {\n      err: makeError(fsErrorType.FILE_OR_DIRECTORY_EXISTS)\n    };\n  }\n\n  const parentPaths = PathUtil.getPathBreadCrumbs(pathToAdd).slice(0, -1);\n\n  for (const parentPath of parentPaths) {\n    if (FileOp.hasFile(fs, parentPath)) {\n      return {\n        err: makeError(fsErrorType.NOT_A_DIRECTORY,\n          `Cannot add path to a file: ${parentPath}`)\n      };\n    }\n\n    if (!fs.has(parentPath) && !addParentPaths) {\n      return {\n        err: makeError(fsErrorType.NO_SUCH_DIRECTORY,\n          `Parent directory does not exist: ${parentPath}`)\n      };\n    }\n  }\n\n  const addedDirectoryFs = fs.set(pathToAdd, fsElementToAdd);\n\n  return {\n    fs: addParentPaths ? DirOp.fillGaps(addedDirectoryFs) : addedDirectoryFs\n  };\n};\n\n/**\n * Removes a file or directory from a path\n * @param  {Map}     fs                                  file system\n * @param  {string}  pathToRemove                        removes the path\n * @param  {Boolean} [isNonEmptyDirectoryRemovable=true] true if non-empty paths can be removed\n * @return {object}                                      file system or error\n */\nexport const remove = (fs, pathToRemove, isNonEmptyDirectoryRemovable = true) => {\n  if (!fs.has(pathToRemove)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_FILE_OR_DIRECTORY)\n    };\n  }\n\n  const childPathPattern = pathToRemove === '/' ? '/**' : `${pathToRemove}/**`;\n  const childPaths = GlobUtil.globPaths(fs, childPathPattern);\n\n  if (!isNonEmptyDirectoryRemovable && !childPaths.isEmpty()) {\n    return {\n      err: makeError(fsErrorType.DIRECTORY_NOT_EMPTY)\n    };\n  }\n\n  return {\n    fs: fs.removeAll(childPaths.concat(pathToRemove))\n  };\n};\n","import * as FileUtil from 'fs/util/file-util';\nimport * as GlobUtil from 'fs/util/glob-util';\nimport * as PathUtil from 'fs/util/path-util';\nimport * as BaseOp from 'fs/operations/base-operations';\nimport { makeError, fsErrorType } from 'fs/fs-error';\nimport { hasFile } from 'fs/operations/file-operations';\n\nconst onlyFilesFilter = fs => path => FileUtil.isFile(fs.get(path));\nconst onlyDirectoriesFilter = fs => path => FileUtil.isDirectory(fs.get(path));\n\n/**\n * Fill file system gaps with empty directories.\n *\n * EXPLANATION:\n * A file system can be left in a state where there the directory structure\n * is incomplete and there may be illogical gaps in the structure after\n * manually creating or editing the file system.\n *\n * For example, we might have a file system that looks like this after manually\n * adding a directory of '/a/b/c':\n *\n * {\n *  '/': {..}\n *  '/a/b/c': {..}\n * }\n *\n * As a result of the operation, we're missing directories of '/a' and '/a/b'.\n * We can fill these missing directory gaps to get a properly formed directory\n * structure:\n *\n * {\n *  '/': {..}\n *  '/a': {..}\n *  '/a/b': {..}\n *  '/a/b/c': {..}\n * }\n * @param  {Map}    fs   file system with gaps in directory structure\n * @return {Map}         file system without directory gaps\n */\nexport const fillGaps = (fs) => {\n  const emptyDirectory = FileUtil.makeDirectory();\n\n  const directoryGapPaths = fs.keySeq() // sequence of paths\n    .flatMap(path => PathUtil.getPathBreadCrumbs(path))\n    .filter(path => !fs.has(path));\n\n  return fs.withMutations((fs) => {\n    for (const directoryGapPath of directoryGapPaths) {\n      fs.set(directoryGapPath, emptyDirectory);\n    }\n  });\n};\n\n/**\n * Check if a directory exists in the file system\n * @param  {Map}     fs   file system\n * @param  {string}  path path to check if is a directory\n * @return {boolean}      true, if the directory exists\n */\nexport const hasDirectory = (fs, path) => {\n  return fs.has(path) && FileUtil.isDirectory(fs.get(path));\n};\n\n/**\n * Creates a list of file names\n * @param  {Map}    fs   file system\n * @param  {string} path directory path to list files in\n * @return {object}      list of file names or an error\n */\nexport const listDirectoryFiles = (fs, path) => {\n  if (hasFile(fs, path)) {\n    return {\n      err: makeError(fsErrorType.FILE_EXISTS, 'File exists at path')\n    };\n  }\n\n  if (!hasDirectory(fs, path)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, 'Cannot list files in non-existent directory')\n    };\n  };\n\n  const filesPattern = path === '/' ? '/*' : `${path}/*`;\n\n  return {\n    list: GlobUtil.captureGlobPaths(fs, filesPattern, onlyFilesFilter(fs))\n  };\n};\n\n/**\n * Creates a list of folder names inside the current directory.\n * @param  {Map}    fs   file system\n * @param  {string} path path to list directories in\n * @return {object}      list of directories or an error\n */\nexport const listDirectoryFolders = (fs, path, isTrailingSlashAppended = true) => {\n  if (hasFile(fs, path)) {\n    return {\n      err: makeError(fsErrorType.FILE_EXISTS, 'File exists at path')\n    };\n  }\n\n  if (!hasDirectory(fs, path)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, 'Cannot list folders in non-existent directory')\n    };\n  };\n\n  const foldersPattern = path === '/' ? '/*' : `${path}/*`;\n  const folderNames = GlobUtil.captureGlobPaths(\n    fs, foldersPattern, onlyDirectoriesFilter(fs)\n  );\n\n  if (isTrailingSlashAppended) {\n    return {\n      list: folderNames.map(folderName => `${folderName}/`)\n    };\n  }\n\n  return {\n    list: folderNames\n  };\n};\n\n/**\n * Lists files and folders in a directory\n * @param  {Map}     fs                                      file system\n * @param  {string}  path                                    directory path to list files and folders in\n * @param  {boolean} [addTrailingSlash=true]                 add a / to the end of folder names\n * @return {object}                                          file system or an error\n */\nexport const listDirectory = (fs, path, addTrailingSlash = true) => {\n  const {err: listFileErr, list: fileList} = listDirectoryFiles(fs, path);\n  const {err: listFolderErr, list: folderList} = listDirectoryFolders(fs, path, addTrailingSlash);\n\n  if (listFileErr || listFolderErr) {\n    return {\n      err: listFileErr ? listFileErr : listFolderErr\n    };\n  };\n\n  return {\n    list: fileList.concat(folderList)\n  };\n};\n\n/**\n * Adds a directory to the file system\n * @param {Map}     fs                           file system\n * @param {string}  path                         path to add a directory to\n * @param {Map}     dir                          directory\n * @param {boolean} [isReplaceExistingDir=false] whether a directory can be overwritten if it already exists\n * @return {object}                              file system or an error\n */\nexport const addDirectory = (fs, path, dir, addParentPaths = true) => {\n  if (hasFile(fs, PathUtil.getPathParent(path))) {\n    return {\n      err: makeError(fsErrorType.FILE_EXISTS, 'File exists at path')\n    };\n  }\n\n  return BaseOp.add(fs, path, dir, addParentPaths);\n};\n\n/**\n * Private helper function implementing rules for replacing a source path (the path\n * we're copying from) with a destination path (the path we're copying to). Note\n * that in our file system:\n * - A file cannot overwrite a directory,\n * - a directory cannot overwrite a file, and\n * - a file/directory can overwrite a file/directory.\n * @param  {Map}       fs      file system\n * @param  {Sequence}  pathSeq sequence of source and destination paths\n * @return {Boolean}           true, if a source path can replace a destination path\n */\nconst isPathTypeMatching = (fs, pathSeq) => {\n  for (const [srcPath, destPath] of pathSeq) {\n    if (fs.has(destPath)) {\n      if (hasFile(fs, srcPath) && hasDirectory(fs, destPath)) {\n        // Cannot overwrite a file with a directory\n        return false;\n      } else if (hasDirectory(fs, srcPath) && hasFile(fs, destPath)) {\n        // Cannot overwrite a directory with a file\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Copies a directory (and all directories included inside that directory)\n * from a source directory to a destination directory\n *\n * If the destination doesn't exist, it can be created.\n *\n * The source and destination must be a directory and not a file.\n * @param  {Map}     fs                             file system\n * @param  {string}  srcPath                        directory path to copy from\n * @param  {string}  destPath                       directory path to copy to\n * @return {object}                                 file system or an error\n */\nexport const copyDirectory = (fs, srcPath, destPath, overwrite = true) => {\n  if (!hasDirectory(fs, srcPath)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, 'Source directory does not exist')\n    };\n  };\n\n  if (!hasDirectory(fs, destPath)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, 'Destination directory does not exist')\n    };\n  };\n\n  const srcChildPattern = srcPath === '/' ? '/**' : `${srcPath}/**`;\n  const srcPaths = GlobUtil.globPaths(fs, srcChildPattern);\n  const srcSubPaths = GlobUtil.captureGlobPaths(fs, srcChildPattern);\n  const destPaths = srcSubPaths.map(path => path === '/' ? destPath : `${destPath}/${path}`);\n\n  if (!isPathTypeMatching(fs, srcPaths.zip(destPaths))) {\n    return {\n      err: makeError(fsErrorType.OTHER, 'Cannot overwrite a directory with file OR a file with directory')\n    };\n  }\n\n  return {\n    fs: fs.withMutations((newFs) => {\n      for (const [srcPath, destPath] of srcPaths.zip(destPaths)) {\n        if (!fs.has(destPath) || overwrite) {\n          newFs.set(destPath, fs.get(srcPath));\n        }\n      }\n    })\n  };\n};\n\n/**\n * Remove a directory from a file system\n * @param  {Map}     fs                                   file system\n * @param  {string}  pathToDelete                         directory path to delete\n * @param  {Boolean} [isNonEmptyDirectoryRemovable=false] whether directories with files in them can be removed\n * @return {object}                                       file system or an error\n */\nexport const deleteDirectory = (fs, pathToDelete, isNonEmptyDirectoryRemovable = false) => {\n  if (hasFile(fs, pathToDelete)) {\n    return {\n      err: makeError(fsErrorType.FILE_EXISTS, 'File exists at path')\n    };\n  }\n\n  if (!hasDirectory(fs, pathToDelete)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, `No such directory: ${pathToDelete}`)\n    };\n  };\n\n  return BaseOp.remove(fs, pathToDelete, isNonEmptyDirectoryRemovable);\n};\n\n/**\n * Rename a directory\n * @param  {Map}    fs          file system\n * @param  {string} currentPath directory path to rename (and hence remove)\n * @param  {string} newPath     path to place the renamed directory\n * @return {object}             file system or an error\n */\nexport const renameDirectory = (fs, currentPath, newPath) => {\n  const {err, fs: copiedFS} = copyDirectory(fs, currentPath, newPath, true);\n\n  if (err) {\n    return {err};\n  }\n\n  return deleteDirectory(copiedFS, currentPath, true);\n};\n","import * as PathUtil from 'fs/util/path-util';\nimport * as BaseOp from 'fs/operations/base-operations';\nimport { isFile } from 'fs/util/file-util';\nimport { hasDirectory } from 'fs/operations/directory-operations';\nimport { makeError, fsErrorType } from 'fs/fs-error';\n\n/**\n * Checks whether a file exists\n * @param  {Map}     fs       file system\n * @param  {string}  dirPath  directory of the file to check for existence\n * @param  {string}  fileName file name to check for existence\n * @return {Boolean}          true, if the file exists\n */\nexport const hasFile = (fs, filePath) => {\n  if (fs.has(filePath)) {\n    const possibleFile = fs.get(filePath);\n\n    return isFile(possibleFile);\n  }\n  return false;\n};\n\n/**\n * Get a file from the file system\n * @param  {Map}    fs       file system\n * @param  {string} filePath path to file to read\n * @return {object}          file system or an error\n */\nexport const readFile = (fs, filePath) => {\n  if (hasDirectory(fs, filePath)) {\n    return {\n      err: makeError(fsErrorType.IS_A_DIRECTORY)\n    };\n  }\n\n  if (!hasFile(fs, filePath)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_FILE)\n    };\n  }\n\n  return {\n    file: fs.get(filePath)\n  };\n};\n\n/**\n * Write a new file to the file system\n * @param  {Map}     fs                            file system\n * @param  {string}  filePath                      path to new file\n * @param  {Map}     file                          the new file\n * @return {object}                                file system or an error\n */\nexport const writeFile = (fs, filePath, file) => {\n  return BaseOp.add(fs, filePath, file);\n};\n\n/**\n * Copies a file from a source directory to a destination directory\n * @param  {Map}    fs           file system\n * @param  {string} sourcePath   path to source file (to copy from)\n * @param  {string} destPath     path to destination file (to copy to)\n * @return {object}              file system or an error\n */\nexport const copyFile = (fs, sourcePath, destPath) => {\n  if (!hasFile(fs, sourcePath)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_FILE, 'Source file does not exist')\n    };\n  }\n\n  const pathParent = PathUtil.getPathParent(destPath);\n\n  if (!hasDirectory(fs, pathParent)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_DIRECTORY, 'Destination directory does not exist')\n    };\n  }\n\n  if (hasDirectory(fs, destPath)) {\n    // Copying file to directory without specifying the filename explicitly\n    const sourceFileName = PathUtil.getLastPathPart(sourcePath);\n\n    destPath = destPath === '/' ? `/${sourceFileName}` : `${destPath}/${sourceFileName}`;\n  }\n\n  return {\n    fs: fs.set(destPath, fs.get(sourcePath))\n  };\n};\n\n/**\n * Removes a file from the file system\n * @param  {Map}    fs       file system\n * @param  {string} filePath path to the file to delete\n * @return {object}          file system or an error\n */\nexport const deleteFile = (fs, filePath) => {\n  if (hasDirectory(fs, filePath)) {\n    return {\n      err: makeError(fsErrorType.IS_A_DIRECTORY)\n    };\n  }\n\n  if (!hasFile(fs, filePath)) {\n    return {\n      err: makeError(fsErrorType.NO_SUCH_FILE)\n    };\n  }\n\n  return BaseOp.remove(fs, filePath);\n};\n","import { fromJS } from 'immutable';\n\n/**\n * Checks if a JavaScript object is a file object\n * @param  {object}  json potential file\n * @return {boolean}      whether the object conforms to the file schema\n */\nexport const isFile = (map) => {\n  return map.has('content');\n};\n\n/**\n * Checks if a JavaScript object is a directory object\n * @param  {object}  json potential directory\n * @return {boolean}      whether the object conforms to the directory schema\n */\nexport const isDirectory = (map) => {\n  return !map.has('content');\n};\n\n/**\n * Makes an file conforming to the file schema\n * @param  {object} content  content of the file\n * @return {object}          new file\n */\nexport const makeFile = (content = '', metadata = {}) => {\n  return fromJS({\n    content,\n    ...metadata\n  });\n};\n\n/**\n * Makes an directory conforming to the directory schema\n * @param  {object} children child directories or files\n * @return {object}          new directory\n */\nexport const makeDirectory = (metadata = {}) => {\n  return fromJS({\n    ...metadata\n  });\n};\n","import minimatch from 'minimatch';\nimport capture from 'minimatch-capture';\nimport { List } from 'immutable';\n\nconst GLOB_OPTIONS = {dot: true};\n\nexport const glob = (str, globPattern) => {\n  return minimatch(str, globPattern, GLOB_OPTIONS);\n};\n\nexport const globSeq = (seq, globPattern) => {\n  return seq.filter((path) => minimatch(path, globPattern, GLOB_OPTIONS));\n};\n\nexport const globPaths = (fs, globPattern) => {\n  return globSeq(fs.keySeq(), globPattern);\n};\n\nexport const captureGlobPaths = (fs, globPattern, filterCondition = (path) => true) => {\n  return fs.keySeq().reduce((captures, path) => {\n    if (filterCondition(path)) {\n      const pathCaptures = capture(path, globPattern, GLOB_OPTIONS);\n\n      if (pathCaptures) {\n        return captures.concat(pathCaptures);\n      }\n    }\n\n    return captures;\n  }, List());\n};\n","/**\n * Tests if a path is a trailing path.\n *\n * A trailing path ends with a trailing slash (/) and excludes the root\n * directory (/).\n * @param  {string}  path path with or without a trailing slash\n * @return {Boolean}      true, if the path is a trailing path\n */\nexport const isTrailingPath = (path) => {\n  return path.endsWith('/') && path !== '/';\n};\n\n/**\n * Removes a trailing slash (/) from a path\n * @param  {string} path path with or without a trailing /\n * @return {string}      path without trailing /\n */\nexport const removeTrailingSeparator = (path) => {\n  if (path.endsWith('/') && path !== '/') {\n    return path.slice(0, -1);\n  }\n  return path;\n};\n\n/**\n * Tests if a path is absolute\n * @param  {string}  path\n * @return {boolean}\n */\nexport const isAbsPath = (path) => {\n  return path.startsWith('/');\n};\n\n/**\n * Converts a path to an ordered array of folders and files.\n *\n * Example: Parts of '/a/b/c/e.txt' has parts of ['/', 'a', 'b', 'c', 'e.txt']\n *\n * A relative path splits parts at /. An absolute path splits at / and also\n * considers the root directory (/) as a part of the path.\n * @param  {string} path [description]\n * @return {array}       list of path parts\n */\nexport const toPathParts = (path) => {\n  if (path === '/') {\n    return ['/'];\n  };\n\n  path = removeTrailingSeparator(path);\n  const pathParts = path.split('/');\n\n  if (isAbsPath(path)) {\n    const [, ...nonRootPathParts] = pathParts;\n\n    return ['/', ...nonRootPathParts];\n  }\n\n  return pathParts;\n};\n\n/**\n * Converts path parts back to a path\n * @param  {array} pathParts path parts\n * @return {string}          path\n */\nexport const toPath = (pathParts) => {\n  if (pathParts[0] === '/') { // absolute path\n    const [, ...nonRootPathParts] = pathParts;\n\n    return `/${nonRootPathParts.join('/')}`;\n  }\n\n  return pathParts.join('/');\n};\n\n/**\n * Find breadcrumb paths, i.e. all paths that need to be walked to get to\n * the specified path\n * Example: /a/b/c will have breadcrumb paths of '/', '/a', '/a/b', '/a/b/c'\n * @param  {string} path path to a directory\n * @return {array}       list of paths that lead up to a path\n */\nexport const getPathBreadCrumbs = (path) => {\n  const pathParts = toPathParts(path);\n\n  if (pathParts.length <= 1) {\n    return ['/'];\n  }\n\n  const [, secondPathPart, ...pathPartsWithoutRoot] = pathParts;\n\n  return pathPartsWithoutRoot.reduce((breadCrumbs, pathPart) => {\n    const previousBreadCrumb = breadCrumbs[breadCrumbs.length - 1];\n\n    return [...breadCrumbs, `${previousBreadCrumb}/${pathPart}`];\n  }, ['/', `/${secondPathPart}`]);\n};\n\n/**\n * Removes the file name from the end of a file path, returning the path to the\n * directory of the file\n * @param  {string} filePath path which ends with a file name\n * @return {string}          directory path\n */\nexport const getPathParent = (filePath) => {\n  if (filePath === '/') {\n    return '/';\n  }\n\n  const pathParts = toPathParts(filePath); // converts path string to array\n  const pathPartsWithoutFileName = pathParts.slice(0, -1); // removes last element of array\n\n  return toPath(pathPartsWithoutFileName);\n};\n\n/**\n * Extracts the file name from the end of the file path\n * @param  {string} filePath path which ends with a file name\n * @return {string}          file name from the path\n */\nexport const getLastPathPart = (filePath) => {\n  const pathParts = toPathParts(filePath); // converts path string to array\n\n  return pathParts[pathParts.length - 1];\n};\n\n/**\n * Extracts the file name and directory path from a file path\n * @param  {string} filePath path which ends with a file name\n * @return {object}          object with directory and file name\n */\nexport const splitFilePath = (filePath) => {\n  return {\n    'dirPath': getPathParent(filePath),\n    'fileName': getLastPathPart(filePath)\n  };\n};\n\n/**\n * Converts a relative path to an absolute path\n * @param  {string} relativePath\n * @param  {string} cwd          current working directory\n * @return {string}              absolute path\n */\nconst GO_UP = '..';\nconst CURRENT_DIR = '.';\nconst isStackAtRootDirectory = stack => stack.length === 1 && stack[0] === '/';\n\nexport const toAbsolutePath = (relativePath, cwd) => {\n  relativePath = removeTrailingSeparator(relativePath);\n  const pathStack = isAbsPath(relativePath) ? [] : toPathParts(cwd);\n\n  for (const pathPart of toPathParts(relativePath)) {\n    if (pathPart === GO_UP) {\n      if (!isStackAtRootDirectory(pathStack)) {\n        pathStack.pop();\n      }\n    } else if (pathPart !== CURRENT_DIR) {\n      pathStack.push(pathPart);\n    }\n  }\n\n  return toPath(pathStack);\n};\n","import * as PathUtil from 'fs/util/path-util';\n\nconst DEFAULT_PERMISSION = true;\n\n/**\n * Checks if a single path can be modified by checking the 'canModify' key held\n * in the path.\n *\n * This does NOT check parents of the path.\n * @param  {Map}     fs   file system\n * @param  {string}  path path to check for modification permission\n * @return {Boolean}      true, if a single path can be modified\n */\nconst isModificationAllowed = (fs, path) => {\n  const directory = fs.get(path, null);\n\n  if (directory) {\n    const canModify = directory.get('canModify', DEFAULT_PERMISSION);\n\n    if (!canModify) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Checks if a path and its parents can be modified.\n * @param  {Map}     fs   file systems\n * @param  {String}  path path to a directory or file\n * @return {Boolean}      true, if the path and its parents can be modified\n */\nexport const canModifyPath = (fs, path) => {\n  const breadCrumbPaths = PathUtil.getPathBreadCrumbs(path);\n\n  for (const breadCrumbPath of breadCrumbPaths) {\n    if (!isModificationAllowed(fs, breadCrumbPath)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import Emulator from 'emulator';\nimport HistoryKeyboardPlugin from 'emulator/plugins/HistoryKeyboardPlugin';\nimport { EmulatorState, CommandMapping, EnvironmentVariables, FileSystem, History, Outputs } from 'emulator-state';\nimport { OutputFactory, OutputType } from 'emulator-output';\nimport { DirOp, FileOp } from 'fs';\nimport { OptionParser } from 'parser';\nimport defaultCommandMapping from 'commands';\n\n// Any class/function exported here forms part of the emulator API\nexport {\n  Emulator, HistoryKeyboardPlugin,\n  defaultCommandMapping,\n  EmulatorState, CommandMapping, EnvironmentVariables, FileSystem, History, Outputs, // state API\n  OutputFactory, OutputType, // output API\n  DirOp, FileOp, // file system API\n  OptionParser // parser API\n};\n","/**\n * Removes excess whitespace (> 1 space) from edges of string and inside string.\n * @param  {string} str string\n * @return {string}     string without > 1 space of whitespace\n */\nconst removeExcessWhiteSpace = str => str.trim().replace(/\\s\\s+/g, ' ');\n\n/**\n * Places the command name and each following argument into a list\n * @param  {string} command sh command\n * @return {array}          command name and arguments (if any)\n */\nconst toCommandParts = command => removeExcessWhiteSpace(command).split(/\\s/);\n\n/**\n * Creates a list of commands split into the command name and arguments\n * @param  {string} commands command input\n * @return {array}           list of parsed command\n */\nexport const parseCommands = (commands) => {\n  return commands\n    .split(/&&|;/) // split command delimiters: `&&` and `;`\n    .map((command) => toCommandParts(command))\n    .map(([commandName, ...commandOptions]) => ({\n      commandName,\n      commandOptions\n    }));\n};\n\nexport default parseCommands;\n","import * as OptionParser from 'parser/option-parser';\n\nexport default {\n  OptionParser\n};\n","import getOpts from 'get-options';\n\n/**\n * Creates an options object with bindings based on optDefs\n * @param  {string} commandOptions string representation of command arguments\n * @param  {object} optDef         see get-options documentation for schema details\n * @return {object}                options object\n */\nexport const parseOptions = (commandOptions, optDef) =>\n  getOpts(commandOptions, optDef, {\n    noAliasPropagation: 'first-only'\n  });\n\nexport default parseOptions;\n"],"sourceRoot":""}